{"config":{"lang":["ja"],"separator":"[\\s\\-\uff0c\u3002]+","pipeline":["stemmer"]},"docs":[{"location":"index.html","title":"About Me","text":"<ul> <li>\ud83d\udcaa Left hand Rust, Right hand Golang</li> <li>\ud83d\udd17 Articles: WebRTC\u3001ETCD\u3001Rust\u5165\u95e8\u3001Codec\u3001Blog</li> <li>\ud83d\udcda Books: \u300aKurento\u300b,\u300arust-crash-course-zh\u300b,\u300atoo-many-lists-zh\u300b,\u300achapin-books\u300b ...</li> <li>\ud83d\udceb How to reach me: chapin666(Anywhere)</li> </ul>"},{"location":"index.html#blog-list","title":"Blog List","text":""},{"location":"index.html#avcodec","title":"AVCodec","text":"<p>\u97f3\u89c6\u9891\u57fa\u7840\u7cfb\u5217</p>"},{"location":"index.html#webrtc","title":"WebRTC","text":"<p>\u5199\u7ed9\u597d\u5947\u8005\u7684WebRTC\u7cfb\u5217</p> <p>WebRTC API\u7cfb\u5217</p>"},{"location":"index.html#rust","title":"Rust","text":"<p>Rust\u7b80\u5355\u5165\u95e8</p>"},{"location":"golang/index.html","title":"Index","text":"<pre><code>package main\n\nimport fmt\n\nfunc main() {\n    fmt.Println(\"hello golang.\")\n}\n</code></pre>"},{"location":"rust/index.html","title":"Index","text":"<pre><code>fn main() {\n    println!(\"hello world!\");\n}\n</code></pre>"},{"location":"webrtc/forcurious/001.html","title":"\u662f\u4ec0\u4e48\uff0c\u4e3a\u4ec0\u4e48\uff0c\u5982\u4f55\u4f7f\u7528","text":""},{"location":"webrtc/forcurious/001.html#webrtc","title":"WebRTC \u662f\u4ec0\u4e48\uff1f","text":"<p>WebRTC \u662f Web \u5b9e\u65f6\u901a\u4fe1\uff08Real-Time Communication\uff09\u7684\u7f29\u5199\uff0c\u5b83\u65e2\u662f API \u4e5f\u662f\u534f\u8bae\u3002WebRTC \u534f\u8bae\u662f\u4e24\u4e2a WebRTC Agent \u534f\u5546\u53cc\u5411\u5b89\u5168\u5b9e\u65f6\u901a\u4fe1\u7684\u4e00\u7ec4\u89c4\u5219\u3002\u5f00\u53d1\u4eba\u5458\u53ef\u4ee5\u901a\u8fc7 WebRTC API \u4f7f\u7528 WebRTC \u534f\u8bae\u3002\u76ee\u524d WebRTC API \u4ec5\u6709 JavaScript \u7248\u672c\u3002</p> <p>\u53ef\u4ee5\u7528 HTTP \u548c Fetch API \u4e4b\u95f4\u7684\u5173\u7cfb\u4f5c\u4e3a\u7c7b\u6bd4\u3002WebRTC \u534f\u8bae\u5c31\u662f HTTP\uff0c\u800c WebRTC API \u5c31\u662f Fetch API\u3002</p> <p>\u9664\u4e86 JavaScript \u8bed\u8a00\uff0cWebRTC \u534f\u8bae\u4e5f\u53ef\u4ee5\u5728\u5176\u4ed6 API \u548c\u8bed\u8a00\u4e2d\u4f7f\u7528\u3002\u4f60\u8fd8\u53ef\u4ee5\u627e\u5230 WebRTC \u7684\u670d\u52a1\u5668\u548c\u7279\u5b9a\u9886\u57df\u7684\u5de5\u5177\u3002\u6240\u6709\u8fd9\u4e9b\u5b9e\u73b0\u90fd\u4f7f\u7528 WebRTC \u534f\u8bae\uff0c\u4ee5\u4fbf\u5b83\u4eec\u53ef\u4ee5\u5f7c\u6b64\u4ea4\u4e92\u3002</p> <p>WebRTC \u534f\u8bae\u7531 IETF \u5de5\u4f5c\u7ec4\u5728rtcweb\u4e2d\u7ef4\u62a4\u3002WebRTC API \u7684 W3C \u6587\u6863\u5728webrtc\u3002</p>"},{"location":"webrtc/forcurious/001.html#webrtc_1","title":"\u4e3a\u4ec0\u4e48\u6211\u5e94\u8be5\u5b66\u4e60 WebRTC\uff1f","text":"<p>\u4e0b\u9762\u8fd9\u4e9b\u662f WebRTC \u53ef\u4ee5\u5e26\u7ed9\u4f60\u7684\u4e1c\u897f\u3002\u8fd9\u5e76\u4e0d\u662f\u4e00\u4efd\u8be6\u5c3d\u7684\u6e05\u5355\uff0c\u53ea\u662f\u5217\u4e3e\u4e00\u4e9b\u4f60\u5728\u5b66\u4e60\u4e2d\u53ef\u80fd\u611f\u5174\u8da3\u7684\u70b9\u3002\u5982\u679c\u4f60\u8fd8\u4e0d\u4e86\u89e3\u6240\u6709\u8fd9\u4e9b\u672f\u8bed\uff0c\u8bf7\u4e0d\u8981\u62c5\u5fc3\uff0c\u672c\u4e66\u5c06\u9646\u7eed\u5c06\u8fd9\u4e9b\u6982\u5ff5\u6559\u7ed9\u4f60\u3002</p> <ul> <li>\u5f00\u653e\u6807\u51c6</li> <li>\u591a\u79cd\u5b9e\u73b0</li> <li>\u5728\u6d4f\u89c8\u5668\u4e2d\u53ef\u7528</li> <li>\u5f3a\u5236\u52a0\u5bc6</li> <li>NAT \u7a7f\u900f</li> <li>\u590d\u7528\u73b0\u6709\u6280\u672f</li> <li>\u62e5\u585e\u63a7\u5236</li> <li>\u4e9a\u79d2\u7ea7\u5ef6\u8fdf</li> </ul>"},{"location":"webrtc/forcurious/001.html#webrtc_2","title":"WebRTC \u534f\u8bae\u662f\u4e00\u7ec4\u5176\u4ed6\u6280\u672f\u7684\u96c6\u5408\u4f53","text":"<p>\u8fd9\u4e2a\u4e3b\u9898\u9700\u8981\u6574\u672c\u4e66\u6765\u89e3\u91ca\u3002\u4f46\u662f\uff0c\u9996\u5148\uff0c\u6211\u4eec\u5c06\u5176\u5206\u4e3a\u56db\u4e2a\u6b65\u9aa4\u3002</p> <ul> <li>\u4fe1\u4ee4\uff08Signaling\uff09</li> <li>\u8fde\u63a5\uff08Connecting\uff09</li> <li>\u5b89\u5168\u52a0\u5bc6\uff08Securing\uff09</li> <li>\u901a\u4fe1\uff08Communicating\uff09</li> </ul> <p>\u8fd9\u56db\u4e2a\u6b65\u9aa4\u4f9d\u6b21\u53d1\u751f\u3002\u4e0a\u4e00\u4e2a\u6b65\u9aa4\u5fc5\u987b 100\uff05\u6210\u529f\uff0c\u968f\u540e\u7684\u6b65\u9aa4\u624d\u80fd\u5f00\u59cb\u3002</p> <p>\u5173\u4e8e WebRTC \u7684\u4e00\u4e2a\u7279\u6b8a\u4e8b\u5b9e\u662f\uff0c\u6bcf\u4e2a\u6b65\u9aa4\u5b9e\u9645\u4e0a\u90fd\u662f\u7531\u8bb8\u591a\u5176\u4ed6\u534f\u8bae\u7ec4\u6210\u7684\uff01\u4e3a\u4e86\u8ba9 WebRTC \u5de5\u4f5c\u8d77\u6765\uff0c\u6211\u4eec\u5c06\u8bb8\u591a\u73b0\u6709\u6280\u672f\u7ed3\u5408\u5728\u4e00\u8d77\u3002\u4ece\u8fd9\u4e2a\u610f\u4e49\u4e0a\u8bb2\uff0cWebRTC \u66f4\u50cf\u662f 2000 \u5e74\u4ee3\u65e9\u671f\u4ee5\u6765\u5c31\u5df2\u7ecf\u5b58\u5728\u7684\u4e00\u4e9b\u6613\u4e8e\u7406\u89e3\u7684\u6280\u672f\u7684\u7ec4\u5408\u548c\u914d\u7f6e\u3002</p> <p>\u6bcf\u4e2a\u6b65\u9aa4\u90fd\u6709\u4e13\u95e8\u7684\u7ae0\u8282\uff0c\u4f46\u662f\u9996\u5148\u4ece\u8f83\u9ad8\u7684\u5c42\u6b21\u4e0a\u7406\u89e3\u5b83\u4eec\u4f1a\u6709\u6240\u5e2e\u52a9\u3002\u7531\u4e8e\u5b83\u4eec\u5f7c\u6b64\u4f9d\u8d56\uff0c\u56e0\u6b64\u7406\u89e3\u8fd9\u4e9b\u5728\u8fdb\u4e00\u6b65\u89e3\u91ca\u6bcf\u4e2a\u6b65\u9aa4\u7684\u76ee\u7684\u65f6\u4f1a\u6709\u6240\u5e2e\u52a9\u3002</p>"},{"location":"webrtc/forcurious/001.html#peer-webrtc","title":"\u4fe1\u4ee4\uff1apeer \u5982\u4f55\u5728 WebRTC \u4e2d\u627e\u5230\u5f7c\u6b64","text":"<p>\u5f53 WebRTC Agent \u542f\u52a8\u65f6\uff0c\u5b83\u4e0d\u77e5\u9053\u4e0e\u8c01\u901a\u4fe1\u4ee5\u53ca\u4ed6\u4eec\u5c06\u8981\u901a\u4fe1\u7684\u5185\u5bb9\u3002\u4fe1\u4ee4\u89e3\u51b3\u4e86\u8fd9\u4e2a\u95ee\u9898\uff01\u4fe1\u4ee4\u7528\u4e8e\u5f15\u5bfc\u547c\u53eb\uff0c\u4ee5\u4fbf\u4e24\u4e2a WebRTC Agent \u53ef\u4ee5\u5f00\u59cb\u901a\u4fe1\u3002</p> <p>\u4fe1\u4ee4\u4f7f\u7528\u4e00\u79cd\u73b0\u6709\u7684\u534f\u8bae SDP\uff08\u4f1a\u8bdd\u63cf\u8ff0\u534f\u8bae\uff09\u3002SDP \u662f\u4e00\u79cd\u7eaf\u6587\u672c\u534f\u8bae\u3002\u6bcf\u4e2a SDP \u6d88\u606f\u5747\u7531\u952e / \u503c\u5bf9\u7ec4\u6210\uff0c\u5e76\u5305\u542b\u201cmedia sections\uff08\u5a92\u4f53\u90e8\u5206\uff09\u201d\u5217\u8868\u3002\u4e24\u4e2a WebRTC Agent \u4ea4\u6362\u7684 SDP \u6240\u5305\u542b\u4e00\u4e9b\u8be6\u7ec6\u4fe1\u606f\uff0c\u5982\uff1a</p> <ul> <li>Agent \u53ef\u4f9b\u5916\u90e8\u8bbf\u95ee\u7684\uff08\u5019\u9009\u7684\uff09IP \u548c\u7aef\u53e3\u3002</li> <li>Agent \u5e0c\u671b\u53d1\u9001\u591a\u5c11\u8def\u97f3\u9891\u548c\u89c6\u9891\u6d41\u3002</li> <li>Agent \u652f\u6301\u54ea\u4e9b\u97f3\u9891\u548c\u89c6\u9891\u7f16\u89e3\u7801\u5668\u3002</li> <li>\u8fde\u63a5\u65f6\u9700\u8981\u7528\u5230\u7684\u503c\uff08<code>uFrag</code>/<code>uPwd</code>\uff09\u3002</li> <li>\u52a0\u5bc6\u4f20\u8f93\u65f6\u9700\u8981\u7528\u5230\u7684\u503c\uff08\u8bc1\u4e66\u6307\u7eb9\uff09\u3002</li> </ul> <p>\u6ce8\u610f\uff0c\u4fe1\u4ee4\u901a\u5e38\u53d1\u751f\u5728\u201cout-of-band\u201d\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u5e94\u7528\u901a\u5e38\u4e0d\u4f7f\u7528 WebRTC \u672c\u8eab\u6765\u4ea4\u6362\u4fe1\u4ee4\u6d88\u606f\u3002\u5728\u8fde\u63a5\u7684 peer \u4e2d\uff0c\u4efb\u4f55\u9002\u5408\u53d1\u9001\u6d88\u606f\u7684\u67b6\u6784\u5747\u53ef\u88ab\u7528\u4e8e\u4f20\u9012 SDP \u4fe1\u606f\uff0c\u8bb8\u591a\u5e94\u7528\u7a0b\u5e8f\u90fd\u4f7f\u7528\u5176\u73b0\u6709\u7684\u57fa\u7840\u8bbe\u65bd\uff08\u4f8b\u5982 REST \u7aef\u70b9\uff0cWebSocket \u8fde\u63a5\u6216\u8eab\u4efd\u9a8c\u8bc1\u4ee3\u7406\uff09\u6765\u89e3\u51b3\u9002\u5f53\u5ba2\u6237\u7aef\u4e4b\u95f4\u7684 SDP \u4f20\u9012\u95ee\u9898\u3002</p>"},{"location":"webrtc/forcurious/001.html#stunturn-nat","title":"\u4f7f\u7528 STUN/TURN \u8fdb\u884c\u8fde\u63a5\u548c NAT \u7a7f\u900f","text":"<p>\u73b0\u5728\uff0c\u4e24\u4e2a WebRTC Agent \u77e5\u9053\u8db3\u591f\u7684\u8be6\u7ec6\u4fe1\u606f\u4ee5\u5c1d\u8bd5\u76f8\u4e92\u8fde\u63a5\u3002\u63a5\u4e0b\u6765\uff0cWebRTC \u5c06\u4f7f\u7528\u53e6\u4e00\u79cd\u6210\u719f\u7684\u6280\u672f\uff0c\u79f0\u4e3a ICE\u3002</p> <p>ICE\uff08\u4ea4\u4e92\u5f0f\u8fde\u63a5\u5efa\u7acb\uff09\u662f WebRTC \u524d\u73b0\u6709\u7684\u534f\u8bae\u3002ICE \u5141\u8bb8\u5728\u4e24\u4e2a Agent \u4e4b\u95f4\u5efa\u7acb\u8fde\u63a5\u3002\u8fd9\u4e9b Agent \u53ef\u4ee5\u5728\u540c\u4e00\u7f51\u7edc\u4e0a\uff0c\u4e5f\u53ef\u4ee5\u5728\u4e16\u754c\u7684\u53e6\u4e00\u7aef\u3002ICE \u662f\u65e0\u9700\u4e2d\u592e\u670d\u52a1\u5668\u5373\u53ef\u5efa\u7acb\u76f4\u63a5\u8fde\u63a5\u7684\u89e3\u51b3\u65b9\u6848\u3002</p> <p>\u8fd9\u91cc\u771f\u6b63\u7684\u9b54\u6cd5\u662f\u201c NAT \u7a7f\u900f\u201d\u548c STUN/TURN \u670d\u52a1\u5668\u3002\u8fd9\u4e24\u4e2a\u6982\u5ff5\u662f\u4e0e\u53e6\u4e00\u4e2a\u5b50\u7f51\u4e2d\u7684 ICE Agent \u8fdb\u884c\u901a\u4fe1\u6240\u9700\u7684\u5168\u90e8\u3002\u7a0d\u540e\u6211\u4eec\u5c06\u6df1\u5165\u63a2\u8ba8\u8fd9\u4e9b\u4e3b\u9898\u3002</p> <p>ICE \u6210\u529f\u8fde\u63a5\u540e\uff0cWebRTC \u5c31\u4f1a\u7ee7\u7eed\u5efa\u7acb\u52a0\u5bc6\u4f20\u8f93\u3002\u52a0\u5bc6\u4f20\u8f93\u7528\u4e8e\u97f3\u9891\uff0c\u89c6\u9891\u548c\u6570\u636e\u3002</p>"},{"location":"webrtc/forcurious/001.html#dtls-srtp","title":"\u4f7f\u7528 DTLS \u548c SRTP \u52a0\u5bc6\u4f20\u8f93\u5c42","text":"<p>\u73b0\u5728\u6211\u4eec\u6709\u4e86\u53cc\u5411\u901a\u4fe1\uff08\u57fa\u4e8e ICE\uff09\uff0c\u6211\u4eec\u9700\u8981\u5efa\u7acb\u5b89\u5168\u7684\u901a\u4fe1\u3002\u8fd9\u662f\u57fa\u4e8e WebRTC \u524d\u5df2\u6709\u7684\u4e24\u79cd\u534f\u8bae\u5b8c\u6210\u7684\u3002\u7b2c\u4e00\u4e2a\u534f\u8bae\u662f DTLS\uff08\u6570\u636e\u62a5\u4f20\u8f93\u5c42\u5b89\u5168\u6027\uff09\uff0c\u5373\u57fa\u4e8e UDP \u7684 TLS\u3002TLS \u662f\u4e00\u4e2a\u52a0\u5bc6\u534f\u8bae\uff0c\u7528\u4e8e\u4fdd\u62a4\u57fa\u4e8e HTTPS \u7684\u5b89\u5168\u901a\u4fe1\u3002\u7b2c\u4e8c\u79cd\u534f\u8bae\u662f SRTP\uff08\u5b89\u5168\u5b9e\u65f6\u4f20\u8f93\u534f\u8bae\uff09\u3002</p> <p>\u9996\u5148\uff0cWebRTC \u901a\u8fc7\u5728 ICE \u5efa\u7acb\u7684\u8fde\u63a5\u4e0a\u8fdb\u884c DTLS \u63e1\u624b\u6765\u8fdb\u884c\u8fde\u63a5\u3002\u4e0e HTTPS \u4e0d\u540c\uff0cWebRTC \u4e0d\u4f7f\u7528\u4e2d\u592e\u6388\u6743\u6765\u9881\u53d1\u8bc1\u4e66\u3002\u76f8\u53cd\uff0cWebRTC \u53ea\u662f\u5224\u65ad\u901a\u8fc7 DTLS \u4ea4\u6362\u7684\u8bc1\u4e66\u662f\u5426\u4e0e\u901a\u8fc7\u4fe1\u4ee4\u5171\u4eab\u7684\u7b7e\u540d\u76f8\u7b26\u3002\u7136\u540e\uff0c\u6b64 DTLS \u8fde\u63a5\u53ef\u4ee5\u88ab\u7528\u4e8e\u4f20\u8f93 DataChannel \u6d88\u606f\u3002</p> <p>\u63a5\u4e0b\u6765\uff0cWebRTC \u4f7f\u7528 RTP \u534f\u8bae\u8fdb\u884c\u97f3\u9891 / \u89c6\u9891\u7684\u4f20\u8f93\u3002\u6211\u4eec\u4f7f\u7528 SRTP \u6765\u4fdd\u62a4\u6211\u4eec\u7684 RTP \u6570\u636e\u5305\u3002\u6211\u4eec\u4ece\u534f\u5546\u7684 DTLS \u4f1a\u8bdd\u4e2d\u63d0\u53d6\u5bc6\u94a5\uff0c\u7528\u6765\u521d\u59cb\u5316 SRTP \u4f1a\u8bdd\u3002\u5728\u540e\u7eed\u7ae0\u8282\u4e2d\uff0c\u6211\u4eec\u4f1a\u8ba8\u8bba\u4e3a\u4ec0\u4e48\u5a92\u4f53\u4f20\u8f93\u9700\u8981\u6709\u5b83\u81ea\u5df1\u7684\u534f\u8bae\u3002</p> <p>\u73b0\u5728\u6211\u4eec\u5b8c\u6210\u4e86\uff01\u4f60\u73b0\u5728\u53ef\u4ee5\u8fdb\u884c\u5b89\u5168\u7684\u53cc\u5411\u901a\u4fe1\u3002\u5982\u679c\u4f60\u7684 WebRTC Agent \u4e4b\u95f4\u5177\u6709\u7a33\u5b9a\u7684\u8fde\u63a5\uff0c\u4ee5\u4e0a\u8fd9\u4e9b\u5c31\u662f\u4f60\u53ef\u80fd\u9700\u8981\u89e3\u51b3\u7684\u6240\u6709\u590d\u6742\u95ee\u9898\u4e86\u3002\u4e0d\u5e78\u7684\u662f\uff0c\u73b0\u5b9e\u4e16\u754c\u4e2d\u5b58\u5728\u6570\u636e\u5305\u4e22\u5931\u548c\u5e26\u5bbd\u9650\u5236\u7b49\u95ee\u9898\uff0c\u4e0b\u4e00\u8282\u6211\u4eec\u4f1a\u4ecb\u7ecd\u5982\u4f55\u5904\u7406\u8fd9\u4e9b\u95ee\u9898\u3002</p>"},{"location":"webrtc/forcurious/001.html#rtp-sctp","title":"\u901a\u8fc7 RTP \u548c SCTP \u8fdb\u884c\u70b9\u5bf9\u70b9\u901a\u4fe1","text":"<p>\u73b0\u5728\uff0c\u6211\u4eec\u6709\u4e86\u4e24\u4e2a\u5177\u6709\u5b89\u5168\u7684\u53cc\u5411\u901a\u4fe1\u529f\u80fd\u7684 WebRTC Agent\u3002\u8ba9\u6211\u4eec\u5f00\u59cb\u901a\u4fe1\uff01\u8ddf\u524d\u9762\u4e00\u6837\uff0c\u6211\u4eec\u4f7f\u7528\u4e24\u4e2a\u73b0\u6709\u7684\u534f\u8bae\uff1aRTP\uff08\u5b9e\u65f6\u4f20\u8f93\u534f\u8bae\uff09\u548c SCTP\uff08\u6d41\u63a7\u5236\u4f20\u8f93\u534f\u8bae\uff09\u3002\u6211\u4eec\u4f7f\u7528 RTP \u6765\u4ea4\u6362\u7528 SRTP \u52a0\u5bc6\u8fc7\u7684\u5a92\u4f53\u6570\u636e\uff0c\u4f7f\u7528 SCTP \u53d1\u9001\u548c\u63a5\u6536\u90a3\u4e9b\u7528 DTLS \u52a0\u5bc6\u8fc7\u7684 DataChannel \u6d88\u606f\u3002</p> <p>RTP \u5f88\u8f7b\u91cf\uff0c\u4f46\u662f\u63d0\u4f9b\u4e86\u5b9e\u73b0\u5b9e\u65f6\u6d41\u5f0f\u4f20\u8f93\u6240\u9700\u7684\u529f\u80fd\u3002\u6700\u91cd\u8981\u7684\u662f\uff0cRTP \u4e3a\u5f00\u53d1\u4eba\u5458\u63d0\u4f9b\u4e86\u7075\u6d3b\u6027\uff0c\u56e0\u6b64\u4ed6\u4eec\u53ef\u4ee5\u6839\u636e\u9700\u8981\u6765\u5904\u7406\u5ef6\u8fdf\uff0c\u4e22\u5931\u548c\u62e5\u585e\u3002\u6211\u4eec\u5c06\u5728\u5a92\u4f53\u7ae0\u8282\u4e2d\u5bf9\u6b64\u8fdb\u884c\u8fdb\u4e00\u6b65\u8ba8\u8bba\u3002</p> <p>\u534f\u8bae\u6808\u4e2d\u7684\u6700\u540e\u4e00\u4e2a\u534f\u8bae\u662f SCTP\u3002SCTP \u652f\u6301\u8bb8\u591a\u4e0d\u540c\u7684\u6d88\u606f\u4f20\u9001\u9009\u9879\u3002\u4f60\u53ef\u4ee5\u6839\u636e\u9700\u8981\u5f00\u542f\u4e0d\u53ef\u9760\u4f20\u8f93\uff0c\u65e0\u5e8f\u4f20\u8f93\u7b49\u9009\u9879\uff0c\u4ee5\u4fbf\u83b7\u5f97\u5b9e\u65f6\u7cfb\u7edf\u6240\u9700\u7684\u4f4e\u5ef6\u8fdf\u3002</p>"},{"location":"webrtc/forcurious/001.html#webrtc_3","title":"WebRTC \u662f\u4e00\u7cfb\u5217\u534f\u8bae\u7684\u96c6\u5408","text":"<p>WebRTC \u89e3\u51b3\u4e86\u8bb8\u591a\u95ee\u9898\u3002\u521d\u770b\u8d77\u6765\uff0c\u8fd9\u4f3c\u4e4e\u662f\u8fc7\u5ea6\u8bbe\u8ba1\u7684\u3002\u5b9e\u9645\u4e0a\uff0cWebRTC \u975e\u5e38\u514b\u5236\u3002\u5b83\u5e76\u672a\u8ba4\u4e3a\u5b83\u53ef\u4ee5\u66f4\u597d\u7684\u89e3\u51b3\u6240\u6709\u95ee\u9898\u3002\u76f8\u53cd\uff0c\u5b83\u91c7\u7eb3\u4e86\u8bb8\u591a\u73b0\u6709\u7684\u89e3\u51b3\u67d0\u4e2a\u7279\u5b9a\u95ee\u9898\u7684\u6280\u672f\uff0c\u7136\u540e\u5c06\u5b83\u4eec\u6709\u673a\u5730\u7ed3\u5408\u8d77\u6765\u3002</p> <p>\u8fd9\u4f7f\u5f97\u6211\u4eec\u53ef\u4ee5\u72ec\u7acb\u7684\u68c0\u67e5\u548c\u5b66\u4e60\u6bcf\u4e2a\u90e8\u5206\uff0c\u800c\u4e0d\u4f1a\u6beb\u65e0\u5934\u7eea\u3002\u5b9e\u9645\u4e0a\uff0c\u4ece\u53e6\u4e00\u4e2a\u89d2\u5ea6\u53bb\u770b\u201c WebRTC Agent\u201d\uff0c\u5b83\u53ea\u662f\u8bb8\u591a\u4e0d\u540c\u534f\u8bae\u7684\u534f\u8c03\u5668\u3002</p> <p></p>"},{"location":"webrtc/forcurious/001.html#webrtcapi","title":"WebRTC\uff08API\uff09\u5982\u4f55\u5de5\u4f5c","text":"<p>\u672c\u90e8\u5206\u663e\u793a JavaScript API \u662f\u5982\u4f55\u8ddf\u534f\u8bae\u76f8\u5bf9\u5e94\u7684\u3002\u8fd9\u4e0d\u662f\u4e00\u4e2a WebRTC API \u7684\u8be6\u7ec6\u6f14\u793a\uff0c\u66f4\u591a\u7684\u662f\u4e3a\u4e86\u521b\u5efa\u4e00\u4e2a\u601d\u7ef4\u6a21\u578b\uff0c\u5c55\u73b0\u5404\u4e2a\u6a21\u5757\u662f\u5982\u4f55\u4e32\u8054\u8d77\u6765\u7684\u3002\u5982\u679c\u4f60\u5bf9\u5404\u4e2a\u6a21\u5757\u90fd\u8fd8\u4e0d\u719f\u6089\uff0c\u90a3\u4e5f\u4e0d\u8981\u7d27\u3002\u5f53\u4f60\u4e86\u89e3\u66f4\u591a\u4fe1\u606f\u65f6\uff0c\u518d\u56de\u5934\u770b\u770b\u8fd9\u4e00\u90e8\u5206\uff0c\u53ef\u80fd\u4f1a\u5f88\u6709\u8da3\uff01</p>"},{"location":"webrtc/forcurious/001.html#new-rtcpeerconnection","title":"<code>new RTCPeerConnection</code>","text":"<p><code>RTCPeerConnection</code> \u662f\u6700\u9876\u5c42\u7684 \"WebRTC \u4f1a\u8bdd \"\u3002\u5b83\u5305\u542b\u4e0a\u8ff0\u6240\u6709\u534f\u8bae\u3002\u8c03\u7528\u540e\uff0c\u6240\u6709\u5b50\u7cfb\u7edf\u90fd\u4f1a\u88ab\u521b\u5efa\uff0c\u4f46\u662f\u6b64\u65f6\u4ec0\u4e48\u90fd\u8fd8\u6ca1\u6709\u53d1\u751f\u3002</p>"},{"location":"webrtc/forcurious/001.html#addtrack","title":"<code>addTrack</code>","text":"<p><code>addTrack</code> \u521b\u5efa\u4e00\u4e2a\u65b0\u7684 RTP \u6d41\u3002\u4f1a\u4e3a\u8fd9\u4e2a RTP \u6d41\u751f\u6210\u4e00\u4e2a\u968f\u673a\u7684 SSRC\uff08Synchronization Source/ \u540c\u6b65\u6e90\uff09\u3002\u5728\u540e\u7eed <code>createOffer</code> \u751f\u6210\u4f1a\u8bdd\u63cf\u8ff0\u4e2d\uff0c\u8fd9\u4e2a RTP \u6d41\u4f1a\u88ab\u653e\u5165\u4e00\u4e2a media section\u3002\u6bcf\u6b21\u8c03\u7528 <code>addTrack</code> \u90fd\u4f1a\u521b\u5efa\u4e00\u4e2a\u65b0\u7684 SSRC \u548c\u4e00\u4e2a\u5bf9\u5e94\u7684 media section\u3002</p> <p>\u5728\u5efa\u7acb SRTP \u4f1a\u8bdd\u540e\uff0c\u8fd9\u4e9b\u5a92\u4f53\u6570\u636e\u5305\u5c06\u88ab SRTP \u52a0\u5bc6\uff0c\u7136\u540e\u7acb\u5373\u901a\u8fc7 ICE \u5f00\u59cb\u53d1\u9001\u3002</p>"},{"location":"webrtc/forcurious/001.html#createdatachannel","title":"<code>createDataChannel</code>","text":"<p>\u5f53\u6ca1\u6709 SCTP \u5173\u8054 (SCTP Association) \u5b58\u5728\u65f6\uff0c<code>createDataChannel</code> \u5c06\u521b\u5efa\u4e00\u4e2a\u65b0\u7684 SCTP \u6d41\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cSCTP \u662f\u4e0d\u542f\u7528\u7684\uff0c\u53ea\u6709\u5728\u4e00\u65b9\u8bf7\u6c42\u6570\u636e\u901a\u9053\u65f6\u624d\u542f\u52a8\u3002</p> <p>\u5728 DTLS \u4f1a\u8bdd\u5efa\u7acb\u4e4b\u540e\uff0cSCTP \u5173\u8054\u5c06\u7acb\u5373\u901a\u8fc7 ICE \u53d1\u9001\u6570\u636e\u5305\uff0c\u5e76\u4f7f\u7528 DTLS \u52a0\u5bc6\u3002</p>"},{"location":"webrtc/forcurious/001.html#createoffer","title":"<code>createOffer</code>","text":"<p><code>createOffer</code> \u751f\u6210\u4f1a\u8bdd\u63cf\u8ff0\uff0c\u91cc\u9762\u662f\u9700\u8981\u4e0e\u8fdc\u7aef Peer \u5206\u4eab\u7684\u672c\u5730\u4fe1\u606f\u3002</p> <p>\u8c03\u7528 <code>createOffer</code> \u7684\u884c\u4e3a\u5bf9\u4e8e\u672c\u5730 Peer \u6ca1\u6709\u4efb\u4f55\u6539\u53d8\u3002</p>"},{"location":"webrtc/forcurious/001.html#setlocaldescription","title":"<code>setLocalDescription</code>","text":"<p><code>setLocalDescription</code> \u63d0\u4ea4\u6240\u6709\u8bf7\u6c42\u7684\u66f4\u6539\u3002 <code>addTrack</code> <code>createDataChannel</code> \u548c\u5176\u4ed6\u7c7b\u4f3c\u7684\u8c03\u7528\u90fd\u662f\u4e34\u65f6\u7684 (\u8c03\u7528 <code>setLocalDescription</code> \u540e\u751f\u6548)\u3002 \u8c03\u7528 <code>setLocalDescription</code> \u65f6\uff0c\u4f7f\u7528\u7531 <code>createOffer</code> \u751f\u6210\u7684\u503c\u3002</p> <p>\u901a\u5e38\uff0c\u5728\u6b64\u8c03\u7528\u4e4b\u540e\uff0c\u4f60\u4f1a\u5c06 offer \u53d1\u9001\u7ed9\u8fdc\u7aef Peer\uff0c\u4ed6\u4eec\u5c06\u8c03\u7528 <code>setRemoteDescription</code>\uff0c\u5c06\u6b64 offer \u8bbe\u5165\u3002</p>"},{"location":"webrtc/forcurious/001.html#setremotedescription","title":"<code>setRemoteDescription</code>","text":"<p>\u6536\u5230\u8fdc\u7aef Peer \u53d1\u6765\u7684 offer \u4e4b\u540e\uff0c\u6211\u4eec\u901a\u8fc7 <code>setRemoteDescription</code> \u901a\u77e5\u672c\u5730 Agent\u3002\u8fd9\u5c31\u662f\u4f7f\u7528 JavaScript API \u4f20\u9012\u201c\u4fe1\u4ee4\u201d\u7684\u65b9\u5f0f\u3002</p> <p>\u53cc\u65b9\u90fd\u8c03\u7528\u8fc7 <code>setRemoteDescription</code> \u540e\uff0cWebRTC Agent \u73b0\u5728\u62e5\u6709\u8db3\u591f\u7684\u4fe1\u606f\u6765\u5f00\u59cb\u8fdb\u884c\u70b9\u5bf9\u70b9\uff08P2P\uff09\u901a\u4fe1\uff01</p>"},{"location":"webrtc/forcurious/001.html#addicecandidate","title":"<code>addIceCandidate</code>","text":"<p><code>addIceCandidate</code> \u5141\u8bb8 WebRTC Agent \u968f\u65f6\u6dfb\u52a0\u66f4\u591a\u7684\u8fdc\u7a0b ICE \u5019\u9009\u5bf9\u8c61\u3002\u8be5 API \u5c06 ICE \u5019\u9009\u5bf9\u8c61\u53d1\u9001\u5230 ICE \u5b50\u7cfb\u7edf\uff0c\u5e76\u4e14\u5bf9\u66f4\u5927\u7684 WebRTC \u8fde\u63a5\u6ca1\u6709\u5176\u4ed6\u5f71\u54cd\u3002</p>"},{"location":"webrtc/forcurious/001.html#ontrack","title":"<code>ontrack</code>","text":"<p><code>ontrack</code> \u662f\u6536\u5230\u8fdc\u7aef Peer \u7684 RTP \u6570\u636e\u5305\u65f6\u89e6\u53d1\u7684\u56de\u8c03\u3002\u4f20\u5165\u7684 RTP \u6570\u636e\u5305\u7684\u683c\u5f0f\u5e94\u8be5\u5df2\u5728\u4f20\u9012\u7ed9 <code>setRemoteDescription</code> \u7684\u4f1a\u8bdd\u63cf\u8ff0\u4e2d\u58f0\u660e\u3002</p> <p>WebRTC \u4f7f\u7528 SSRC \u5e76\u67e5\u627e\u5173\u8054\u7684 <code>MediaStream</code> \u548c <code>MediaStreamTrack</code>\uff0c\u5e76\u4f7f\u7528 <code>MediaStream</code> \u548c <code>MediaStreamTrack</code> \u4e2d\u7684\u8be6\u7ec6\u4fe1\u606f\u6765\u89e6\u53d1\u6b64\u56de\u8c03\u3002</p>"},{"location":"webrtc/forcurious/001.html#oniceconnectionstatechange","title":"<code>oniceconnectionstatechange</code>","text":"<p><code>oniceconnectionstatechange</code> \u662f ICE Agent \u7684\u72b6\u6001\u53d8\u5316\u65f6\u89e6\u53d1\u7684\u56de\u8c03\u3002\u5f53\u7f51\u7edc\u8fde\u63a5\u6216\u65ad\u5f00\u65f6\uff0c\u4f60\u5c06\u5f97\u5230\u6b64\u901a\u77e5\u3002</p>"},{"location":"webrtc/forcurious/001.html#onconnectionstatechange","title":"<code>onconnectionstatechange</code>","text":"<p><code>onconnectionstatechange</code> \u662f ICE Agent \u548c DTLS Agent \u72b6\u6001\u7684\u7ec4\u5408\u3002\u5f53 ICE \u548c DTLS \u90fd\u6210\u529f\u5b8c\u6210\u65f6\uff0c\u4f60\u5c06\u5f97\u5230\u6b64\u901a\u77e5\u3002</p>"},{"location":"webrtc/forcurious/002.html","title":"\u4fe1\u4ee4","text":""},{"location":"webrtc/forcurious/002.html#webrtc","title":"\u4ec0\u4e48\u662f WebRTC \u4fe1\u4ee4\uff1f","text":"<p>\u5f53\u4e00\u4e2a WebRTC Agent \u88ab\u521b\u5efa\u65f6\uff0c\u5b83\u5bf9\u5176\u4ed6 peer \u4e00\u65e0\u6240\u77e5\u3002\u5b83\u4e0d\u77e5\u9053\u5b83\u5c06\u4e0e\u8c01\u8054\u7cfb\uff0c\u4e5f\u4e0d\u77e5\u9053\u5b83\u4eec\u5c06\u53d1\u9001\u4e9b\u4ec0\u4e48\uff01 \u4fe1\u4ee4\u662f\u4f7f\u547c\u53eb\u6210\u4e3a\u53ef\u80fd\u7684\u521d\u59cb\u5f15\u5bfc\u7a0b\u5e8f\u3002\u4ea4\u6362\u4fe1\u4ee4\u6d88\u606f\u540e\uff0cWebRTC Agent \u624d\u53ef\u4ee5\u76f4\u63a5\u76f8\u4e92\u901a\u4fe1\u3002</p> <p>\u4fe1\u4ee4\u6d88\u606f\u53ea\u662f\u6587\u672c\u3002WebRTC Agent \u5e76\u4e0d\u5173\u5fc3\u5b83\u4eec\u7684\u4f20\u9012\u65b9\u5f0f\u3002\u4fe1\u4ee4\u901a\u5e38\u4f7f\u7528 Websockets \u5206\u4eab\uff0c\u4f46\u8fd9\u4e0d\u662f\u5fc5\u9700\u7684\u3002</p>"},{"location":"webrtc/forcurious/002.html#webrtc_1","title":"WebRTC \u4fe1\u4ee4\u5982\u4f55\u5de5\u4f5c\uff1f","text":"<p>WebRTC \u4f7f\u7528\u5230\u4e00\u79cd\u73b0\u6709\u7684\u534f\u8bae\uff0c\u79f0\u4e3a\u4f1a\u8bdd\u63cf\u8ff0\u534f\u8bae\uff08Session Description Protocol\uff0c\u7b80\u79f0 SDP\uff09\u3002\u4e24\u4e2a WebRTC Agent \u4f1a\u5c06\u5efa\u7acb\u8fde\u63a5\u6240\u9700\u7684\u6240\u6709\u72b6\u6001\u901a\u8fc7\u6b64\u534f\u8bae\u6765\u5206\u4eab\u3002\u8be5\u534f\u8bae\u672c\u8eab\u4ea6\u6613\u4e8e\u9605\u8bfb\u548c\u7406\u89e3\u3002 \u4f46\u8981\u7406\u89e3 WebRTC \u586b\u5145\u4e8e\u534f\u8bae\u4e2d\u7684\u6240\u6709\u503c\uff0c\u662f\u6709\u4e9b\u590d\u6742\u7684\u3002</p> <p>SDP \u5e76\u4e0d\u662f WebRTC \u7279\u6709\u7684\u3002\u6211\u4eec\u5c06\u9996\u5148\u5b66\u4e60\u4f1a\u8bdd\u63cf\u8ff0\u534f\u8bae\uff0c\u8fd9\u91cc\u751a\u81f3\u4e0d\u7528\u63d0\u5230 WebRTC\u3002WebRTC \u5b9e\u9645\u4e0a\u4ec5\u662f\u5229\u7528\u4e86 SDP \u534f\u8bae\u7684\u5b50\u96c6\uff0c\u56e0\u6b64\u6211\u4eec\u5c06\u4ec5\u4ecb\u7ecd\u6211\u4eec\u6240\u9700\u7684\u5185\u5bb9\u3002 \u7406\u89e3\u534f\u8bae\u540e\uff0c\u6211\u4eec\u5c06\u7ee7\u7eed\u7ed3\u5408 WebRTC \u6765\u8bf4\u660e\u5176\u5728\u5b9e\u9645\u4e2d\u7684\u5e94\u7528\u65b9\u6cd5\u3002</p>"},{"location":"webrtc/forcurious/002.html#sdp","title":"\u4ec0\u4e48\u662f \u4f1a\u8bdd\u63cf\u8ff0\u534f\u8bae\uff08SDP\uff09\uff1f","text":"<p>\u4f1a\u8bdd\u63cf\u8ff0\u534f\u8bae\u5b9a\u4e49\u4e8e RFC 8866 \u4e2d\u3002\u5b83\u662f\u4e00\u4e2a key/value \u534f\u8bae\uff0c\u6bcf\u4e00\u884c\u662f\u4e00\u4e2a\u503c\u3002\u770b\u8d77\u6765\u7c7b\u4f3c\u4e8e INI \u6587\u4ef6\u3002 \u4e00\u4e2a\u4f1a\u8bdd\u63cf\u8ff0\u5305\u542b\u96f6\u4e2a\u6216\u591a\u4e2a\u5a92\u4f53\u63cf\u8ff0\u3002\u5bf9\u6b64\u6a21\u578b\uff0c\u53ef\u4ee5\u7406\u89e3\u4e3a\u4f1a\u8bdd\u63cf\u8ff0\u5305\u542b\u4e86\u4e00\u4e2a\u5a92\u4f53\u63cf\u8ff0\u7684\u6570\u7ec4\u3002</p> <p>\u4e00\u4e2a\u5a92\u4f53\u63cf\u8ff0\u901a\u5e38\u6620\u5c04\u5230\u5355\u4e2a\u5a92\u4f53\u6d41\u3002\u56e0\u6b64\uff0c\u5982\u679c\u4f60\u60f3\u63cf\u8ff0\u4e00\u4e2a\u5305\u542b\u4e09\u4e2a\u89c6\u9891\u6d41\u548c\u4e24\u4e2a\u97f3\u8f68\u7684\u547c\u53eb\uff0c\u9700\u8981\u4e94\u4e2a\u5a92\u4f53\u63cf\u8ff0\u3002</p>"},{"location":"webrtc/forcurious/002.html#sdp_1","title":"\u5982\u4f55\u9605\u8bfb SDP \u4fe1\u606f","text":"<p>\u4f1a\u8bdd\u63cf\u8ff0\u4e2d\u7684\u6bcf\u4e00\u884c\u90fd\u5c06\u4ee5\u4e00\u4e2a\u5355\u5b57\u7b26\u5f00\u59cb\uff0c\u8fd9\u662f\u4f60\u7684 key\u3002\u5355\u5b57\u7b26\u540e\u9762\u5c06\u8ddf\u968f\u4e00\u4e2a\u7b49\u53f7\u3002\u7b49\u53f7\u540e\u7684\u6240\u6709\u5185\u5bb9\u90fd\u662f value\u3002value \u7ed3\u675f\u7684\u5730\u65b9\u5c06\u6709\u4e00\u4e2a\u6362\u884c\u7b26\u3002</p> <p>\u4f1a\u8bdd\u63cf\u8ff0\u534f\u8bae\u5b9a\u4e49\u4e86\u6240\u6709\u6709\u6548\u7684 key\u3002\u5bf9\u4e8e\u534f\u8bae\u4e2d\u5b9a\u4e49\u7684 key\uff0c\u4f60\u53ea\u80fd\u4f7f\u7528\u5b57\u6bcd\u3002\u8fd9\u4e9b key \u90fd\u6709\u91cd\u8981\u7684\u610f\u4e49\uff0c\u7a0d\u540e\u5c06\u5bf9\u6b64\u8fdb\u884c\u89e3\u91ca\u3002</p> <p>\u4f5c\u4e3a\u53c2\u8003\uff0c\u4e0b\u9762\u662f\u4e00\u4e2a\u4f1a\u8bdd\u63cf\u8ff0\u7684\u90e8\u5206\u5185\u5bb9\uff1a</p> <pre><code>a=my-sdp-value\na=second-value\n</code></pre> <p>\u8fd9\u91cc\u6709\u4e24\u884c\u3002\u6bcf\u884c\u7684 key \u90fd\u662f <code>a</code>\u3002\u7b2c\u4e00\u884c\u7684 value \u4e3a <code>my-sdp-value</code>\uff0c\u7b2c\u4e8c\u884c\u7684 value \u4e3a <code>second-value</code>\u3002</p>"},{"location":"webrtc/forcurious/002.html#webrtc-sdp-key","title":"WebRTC \u4ec5\u4f7f\u7528\u4e86\u90e8\u5206 SDP \u7684 key","text":"<p>WebRTC \u5e76\u672a\u4f7f\u7528\u4f1a\u8bdd\u63cf\u8ff0\u534f\u8bae\u5b9a\u4e49\u7684\u6240\u6709 key\uff0c\u53ea\u6709\u90a3\u4e9b\u5728 JavaScript Session Establishment Protocol (JSEP\uff0c\u534f\u8bae\u5b9a\u4e49\u5728RFC 8829) \u4e2d\u88ab\u4f7f\u7528\u5230\u7684 key \u662f\u91cd\u8981\u7684\u3002\u4f60\u5f53\u524d\u53ea\u9700\u8981\u7406\u89e3\u4e0b\u9762\u7684 7 \u4e2a key\u3002</p> <ul> <li><code>v</code> - Version\uff0c\u7248\u672c\uff0c\u7248\u672c\uff0c\u5e94\u7b49\u4e8e <code>0</code>\u3002</li> <li><code>o</code> - Origin\uff0c\u6e90\uff0c\u5305\u542b\u4e00\u4e2a\u552f\u4e00 ID\uff0c\u7528\u4e8e\u91cd\u65b0\u534f\u5546\u3002</li> <li><code>s</code> - Session Name\uff0c\u4f1a\u8bdd\u540d\u79f0\uff0c\u5e94\u7b49\u4e8e<code>-</code>\u3002</li> <li><code>t</code> - Timing\uff0c\u65f6\u95f4\uff0c\u5e94\u7b49\u4e8e <code>0 0</code>\u3002</li> <li><code>m</code> - Media Description(<code>m=&lt;media&gt; &lt;port&gt; &lt;proto&gt; &lt;fmt&gt; ...</code>)\uff0c\u5a92\u4f53\u63cf\u8ff0\uff0c\u4e0b\u9762\u6709\u8be6\u7ec6\u8bf4\u660e\u3002</li> <li><code>a</code> - Attribute\uff0c\u5c5e\u6027\uff0c\u4e00\u4e2a\u81ea\u7531\u6587\u672c\u5b57\u6bb5\uff0c\u8fd9\u662f WebRTC \u4e2d\u6700\u5e38\u89c1\u7684\u884c\u3002</li> <li><code>c</code> - Connection Data\uff0c\u8fde\u63a5\u6570\u636e\uff0c\u5e94\u7b49\u4e8e <code>IN IP4 0.0.0.0</code>\u3002</li> </ul>"},{"location":"webrtc/forcurious/002.html#_2","title":"\u4f1a\u8bdd\u63cf\u8ff0\u4e2d\u7684\u5a92\u4f53\u63cf\u8ff0","text":"<p>\u4e00\u4e2a\u4f1a\u8bdd\u63cf\u8ff0\u4e2d\uff0c\u53ef\u4ee5\u5305\u542b\u65e0\u9650\u6570\u91cf\u7684\u5a92\u4f53\u63cf\u8ff0\u3002</p> <p>\u4e00\u4e2a\u5a92\u4f53\u63cf\u8ff0\u5b9a\u4e49\u4e2d\uff0c\u5305\u542b\u4e00\u4e2a\u683c\u5f0f\u5217\u8868\u3002\u8fd9\u4e9b\u683c\u5f0f\u6620\u5c04\u5230 RTP \u6709\u6548\u8d1f\u8f7d\u7c7b\u578b\u3002\u7136\u540e\uff0c\u5b9e\u9645\u7684\u7f16\u89e3\u7801\u5668\u7531\u5a92\u4f53\u63cf\u8ff0\u4e2d\u7684 <code>rtpmap</code> \u5c5e\u6027\u5b9a\u4e49\u3002 RTP \u548c RTP \u6709\u6548\u8d1f\u8f7d\u7c7b\u578b\u7684\u91cd\u8981\u6027\u5c06\u5728\u540e\u9762\u7684\u5a92\u4f53\u7ae0\u8282\u4e2d\u8ba8\u8bba\u3002\u6bcf\u4e2a\u5a92\u4f53\u63cf\u8ff0\u53ef\u4ee5\u5305\u542b\u65e0\u9650\u6570\u91cf\u7684\u5c5e\u6027\u3002</p> <p>\u4f5c\u4e3a\u53c2\u8003\u4f8b\u5b50\uff0c\u4e0b\u9762\u662f\u4e00\u4e2a\u4f1a\u8bdd\u63cf\u8ff0\u7684\u90e8\u5206\u5185\u5bb9\uff1a</p> <pre><code>v=0\nm=audio 4000 RTP/AVP 111\na=rtpmap:111 OPUS/48000/2\nm=video 4000 RTP/AVP 96\na=rtpmap:96 VP8/90000\na=my-sdp-value\n</code></pre> <p>\u8fd9\u91cc\u9762\u6709\u4e24\u4e2a\u5a92\u4f53\u63cf\u8ff0\uff0c\u7b2c\u4e00\u4e2a\u662f\u97f3\u9891\uff0c\u683c\u5f0f\u4e3a <code>111</code>\uff0c\u53e6\u4e00\u4e2a\u662f\u89c6\u9891\uff0c\u683c\u5f0f\u4e3a <code>96</code>\u3002\u7b2c\u4e00\u4e2a\u5a92\u4f53\u63cf\u8ff0\u53ea\u6709\u4e00\u4e2a\u5c5e\u6027\u3002\u8be5\u5c5e\u6027\u5c06\u6709\u6548\u8f7d\u8377\u7c7b\u578b <code>111</code> \u6620\u5c04\u5230 Opus \u7f16\u89e3\u7801\u5668\u3002 \u7b2c\u4e8c\u4e2a\u5a92\u4f53\u63cf\u8ff0\u5177\u6709\u4e24\u4e2a\u5c5e\u6027\u3002\u7b2c\u4e00\u4e2a\u5c5e\u6027\u5c06\u6709\u6548\u8d1f\u8f7d\u7c7b\u578b <code>96</code> \u6620\u5c04\u5230 VP8 \u7f16\u89e3\u7801\u5668\uff0c\u7b2c\u4e8c\u4e2a\u5c5e\u6027\u53ea\u662f <code>my-sdp-value</code>\u3002</p> <p>Note</p> <p>\u8bd1\u6ce8\uff1a\u53c2\u7167\u524d\u9762 key \u7684\u5b9a\u4e49\uff0c\u7b2c 1 \u884c\u7684 v=0 \u8868\u793a\u7248\u672c\u4e3a 0\uff0c\u7b2c 2/3 \u884c\u662f\u7b2c\u4e00\u4e2a\u5a92\u4f53\u63cf\u8ff0\uff0c\u7b2c 4/5/6 \u884c\u662f\u7b2c\u4e8c\u4e2a\u5a92\u4f53\u63cf\u8ff0</p>"},{"location":"webrtc/forcurious/002.html#_3","title":"\u5b8c\u6574\u793a\u4f8b","text":"<p>\u4ee5\u4e0b\u5185\u5bb9\u5c06\u6211\u4eec\u8ba8\u8bba\u8fc7\u7684\u6240\u6709\u6982\u5ff5\u6574\u5408\u5728\u4e00\u8d77\u3002\u8fd9\u4e9b\u662f WebRTC \u6240\u4f7f\u7528\u7684\u4f1a\u8bdd\u63cf\u8ff0\u534f\u8bae\u7684\u6240\u6709\u7279\u6027\u3002 \u5982\u679c\u4f60\u53ef\u4ee5\u8bfb\u61c2\u8fd9\u4e2a\u4f8b\u5b50\uff0c\u90a3\u4e48\u4f60\u53ef\u4ee5\u8bfb\u61c2\u4efb\u4f55 WebRTC \u4f1a\u8bdd\u63cf\u8ff0\uff01</p> <pre><code>v=0\no=- 0 0 IN IP4 127.0.0.1\ns=-\nc=IN IP4 127.0.0.1\nt=0 0\nm=audio 4000 RTP/AVP 111\na=rtpmap:111 OPUS/48000/2\nm=video 4002 RTP/AVP 96\na=rtpmap:96 VP8/90000\n</code></pre> <ul> <li><code>v</code>, <code>o</code>, <code>s</code>, <code>c</code>, <code>t</code> \u867d\u7136\u88ab\u5b9a\u4e49\uff0c\u4f46\u4ed6\u4eec\u4e0d\u5bf9 WebRTC \u4f1a\u8bdd\u4ea7\u751f\u5f71\u54cd\u3002</li> <li>\u8fd9\u91cc\u6709\u4e24\u4e2a\u5a92\u4f53\u63cf\u8ff0\u3002\u4e00\u4e2a\u662f <code>audio</code> \u5373\u97f3\u9891\u7c7b\u578b\uff0c\u4e00\u4e2a\u662f <code>video</code> \u5373\u89c6\u9891\u7c7b\u578b\u3002</li> <li>\u6bcf\u4e2a\u5a92\u4f53\u63cf\u8ff0\u90fd\u6709\u4e00\u4e2a\u5c5e\u6027\u3002\u8fd9\u4e2a\u5c5e\u6027\u914d\u7f6e\u4e86 RTP \u7ba1\u9053\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u8fd9\u90e8\u5206\u5c06\u5728 \" \u5a92\u4f53\u901a\u4fe1 \" \u7ae0\u8282\u8be6\u7ec6\u8ba8\u8bba</li> </ul>"},{"location":"webrtc/forcurious/002.html#webrtc_2","title":"\u4f1a\u8bdd\u63cf\u8ff0\u534f\u8bae \u548c WebRTC \u5982\u4f55\u534f\u540c\u5de5\u4f5c","text":"<p>\u4e0b\u4e00\u5757\u62fc\u56fe\u662f\u7406\u89e3 WebRTC _ \u5982\u4f55 _ \u4f7f\u7528\u4f1a\u8bdd\u63cf\u8ff0\u534f\u8bae\u3002</p>"},{"location":"webrtc/forcurious/002.html#offer-answer","title":"\u4ec0\u4e48\u662f Offer \u548c Answer\uff1f","text":"<p>WebRTC \u4f7f\u7528 Offer/Answer \u6a21\u578b\u3002\u8fd9\u6307\u7684\u662f\uff0c\u4e00\u4e2a WebRTC Agent \u53d1\u51fa \"Offer\" \u4ee5\u5f00\u59cb\u547c\u53eb\uff0c\u5982\u679c\u53e6\u4e00\u4e2a WebRTC Agent \u613f\u610f\u63a5\u53d7 \"Offer\" \u7684\u5185\u5bb9\uff0c\u5b83\u4f1a\u54cd\u5e94 \"Answer\"\u3002</p> <p>\u8fd9\u4f7f\u5f97\u5e94\u7b54\u8005\u6709\u673a\u4f1a\u62d2\u7edd\u5a92\u4f53\u63cf\u8ff0\u4e2d\u7684\u67d0\u4e9b\u4e0d\u652f\u6301\u7684\u7f16\u89e3\u7801\u5668\uff0c\u4e5f\u662f\u4e24\u4e2a peer \u4e92\u76f8\u7406\u89e3\u4ed6\u4eec\u5e0c\u671b\u4ea4\u6362\u4f55\u79cd\u683c\u5f0f\u7684\u65b9\u5f0f\u3002</p>"},{"location":"webrtc/forcurious/002.html#transceivers","title":"\u7528\u4e8e\u53d1\u9001\u548c\u63a5\u6536\u7684\u6536\u53d1\u5668\uff08Transceivers\uff09","text":"<p>\u6536\u53d1\u5668\u662f WebRTC \u4e2d\u7279\u6709\u7684\u6982\u5ff5\uff0c\u4f60\u5c06\u5728 API \u4e2d\u770b\u5230\u5b83\u3002\u5b83\u7684\u4f5c\u7528\u662f\u5c06 \" \u5a92\u4f53\u63cf\u8ff0 \" \u66b4\u9732\u7ed9 JavaScript API\u3002\u6bcf\u4e2a\u5a92\u4f53\u63cf\u8ff0\u90fd\u5c06\u6210\u4e3a\u4e00\u4e2a\u6536\u53d1\u5668\u3002\u6bcf\u6b21\u521b\u5efa\u6536\u53d1\u5668\u65f6\uff0c\u90fd\u4f1a\u5c06\u65b0\u7684\u5a92\u4f53\u63cf\u8ff0\u6dfb\u52a0\u5230\u672c\u5730\u4f1a\u8bdd\u63cf\u8ff0\u4e2d\u3002</p> <p>WebRTC \u4e2d\u7684\u6bcf\u4e2a\u5a92\u4f53\u63cf\u8ff0\u90fd\u5305\u542b\u4e00\u4e2a direction \u5c5e\u6027\u3002\u8fd9\u6837\uff0cWebRTC Agent \u53ef\u4ee5\u58f0\u660e \" \u6211\u5c06\u5411\u4f60\u53d1\u9001\u6b64\u7f16\u89e3\u7801\u5668\uff0c\u4f46\u6211\u4e0d\u6253\u7b97\u63a5\u53d7\u4efb\u4f55\u8fd4\u56de\u7684\u5185\u5bb9 \"\u3002direction \u5c5e\u6027\u6709\u56db\u4e2a\u6709\u6548\u503c\uff1a</p> <ul> <li><code>send</code></li> <li><code>recv</code></li> <li><code>sendrecv</code></li> <li><code>inactive</code></li> </ul>"},{"location":"webrtc/forcurious/002.html#webrtc-sdp","title":"WebRTC \u7528\u5230\u7684 SDP \u503c","text":"<p>\u8fd9\u4e2a\u5217\u8868\u5305\u542b\u4e86\u4f60\u5c06\u5728 WebRTC Agent \u7684\u4f1a\u8bdd\u63cf\u8ff0\u4e2d\u770b\u5230\u7684\u4e00\u4e9b\u5e38\u89c1\u5c5e\u6027\u3002\u8fd9\u4e9b\u503c\u63a7\u5236\u7740\u6211\u4eec\u5c1a\u672a\u8ba8\u8bba\u5230\u7684\u5b50\u7cfb\u7edf\u3002</p>"},{"location":"webrtc/forcurious/002.html#groupbundle","title":"<code>group:BUNDLE</code>","text":"<p>BUNDLE \u662f\u4e00\u79cd\u5728\u5355\u4e2a\u8fde\u63a5\u4e0a\u4f20\u8f93\u591a\u79cd\u7c7b\u578b\u6d41\u91cf\u7684\u884c\u4e3a\u3002\u4e00\u4e9b WebRTC \u5b9e\u73b0\u5bf9\u6bcf\u4e2a\u5a92\u4f53\u6d41\u4f1a\u4f7f\u7528\u4e13\u7528\u7684\u8fde\u63a5\u3002\u4f46 BUNDLE \u65b9\u5f0f\u5e94\u8be5\u662f\u9996\u9009\u3002</p>"},{"location":"webrtc/forcurious/002.html#fingerprintsha-256","title":"<code>fingerprint:sha-256</code>","text":"<p>\u8be5\u5c5e\u6027\u662f peer \u7528\u4e8e DTLS \u8bc1\u4e66\u7684\u54c8\u5e0c\u503c\u3002DTLS \u63e1\u624b\u5b8c\u6210\u540e\uff0c\u4f60\u53ef\u4ee5\u5c06\u5176\u4e0e\u5b9e\u9645\u8bc1\u4e66\u8fdb\u884c\u6bd4\u8f83\uff0c\u4ee5\u786e\u8ba4\u4f60\u6b63\u5728\u4e0e\u9884\u671f\u7684\u5bf9\u8c61\u8fdb\u884c\u901a\u4fe1\u3002</p> <p>Note</p> <p>\u8bd1\u6ce8\uff1a\u4e0b\u9762\u662fRFC 4572\u4e2d\u7684\u4e00\u4e2a\u4f8b\u5b50 <pre><code>a=fingerprint:SHA-1 \\\n4A:AD:B9:B1:3F:82:18:3B:54:02:12:DF:3E:5D:49:6B:19:E5:7C:AB\n</code></pre></p>"},{"location":"webrtc/forcurious/002.html#setup","title":"<code>setup:</code>","text":"<p>\u8be5\u5c5e\u6027\u63a7\u5236\u4e86 DTLS Agent \u7684\u884c\u4e3a\u3002\u5728 ICE \u8fde\u63a5\u540e\uff0c\u8be5\u5c5e\u6027\u5c06\u786e\u5b9a DTLS Agent \u662f\u4f5c\u4e3a\u5ba2\u6237\u7aef\u8fd8\u662f\u670d\u52a1\u5668\u6765\u8fd0\u884c\u3002\u6709\u4ee5\u4e0b\u51e0\u4e2a\u53ef\u80fd\u7684\u503c\uff1a</p> <ul> <li><code>setup:active</code> - \u4f5c\u4e3a DTLS \u5ba2\u6237\u7aef\u8fd0\u884c\u3002</li> <li><code>setup:passive</code> - \u4f5c\u4e3a DTLS \u670d\u52a1\u5668\u8fd0\u884c\u3002</li> <li><code>setup:actpass</code> - \u8981\u6c42\u53e6\u4e00\u4e2a WebRTC Agent \u9009\u62e9\u3002</li> </ul>"},{"location":"webrtc/forcurious/002.html#mid","title":"<code>mid</code>","text":"<p>\u8be5\u5c5e\u6027\u662f\u6bcf\u4e2a Media Description \u7684\u552f\u4e00 ID\u3002\u7528\u4e8e\u6807\u8bc6\u5a92\u4f53\u3002</p>"},{"location":"webrtc/forcurious/002.html#ice-ufrag","title":"<code>ice-ufrag</code>","text":"<p>\u8be5\u5c5e\u6027\u662f ICE Agent \u7684\u7528\u6237\u7247\u6bb5\u503c\u3002\u7528\u4e8e ICE \u6d41\u91cf\u7684\u8eab\u4efd\u9a8c\u8bc1\u3002</p>"},{"location":"webrtc/forcurious/002.html#ice-pwd","title":"<code>ice-pwd</code>","text":"<p>\u8be5\u5c5e\u6027\u662f ICE Agent \u7684\u5bc6\u7801\u3002\u7528\u4e8e ICE \u6d41\u91cf\u7684\u8eab\u4efd\u9a8c\u8bc1\u3002</p>"},{"location":"webrtc/forcurious/002.html#rtpmap","title":"<code>rtpmap</code>","text":"<p>\u8be5\u5c5e\u6027\u7528\u4e8e\u5c06\u7279\u5b9a\u7684\u7f16\u89e3\u7801\u5668\u6620\u5c04\u5230 RTP \u6709\u6548\u8d1f\u8f7d\u7c7b\u578b\u3002\u6709\u6548\u8d1f\u8f7d\u7c7b\u578b\u4e0d\u662f\u9759\u6001\u7684\uff0c\u56e0\u6b64\u5bf9\u4e8e\u6bcf\u6b21\u547c\u53eb\uff0c\u53d1\u8d77\u8005\u90fd\u9700\u8981\u786e\u5b9a\u6bcf\u4e2a\u7f16\u89e3\u7801\u5668\u7684\u6709\u6548\u8d1f\u8f7d\u7c7b\u578b\u3002</p>"},{"location":"webrtc/forcurious/002.html#fmtp","title":"<code>fmtp</code>","text":"<p>\u8be5\u5c5e\u6027\u4e3a\u4e00\u79cd\u6709\u6548\u8d1f\u8f7d\u7c7b\u578b\u5b9a\u4e49\u9644\u52a0\u7684\u503c\u3002\u8981\u4f20\u9012\u7279\u5b9a\u7684\u89c6\u9891\u914d\u7f6e\u6587\u4ef6\u6216\u7f16\u7801\u5668\u8bbe\u7f6e\u65f6\uff0c\u8fd9\u5f88\u6709\u7528\u3002</p>"},{"location":"webrtc/forcurious/002.html#candidate","title":"<code>candidate</code>","text":"<p>\u8be5\u5c5e\u6027\u662f\u6765\u81ea ICE Agent \u7684 ICE \u5019\u9009\u5730\u5740\u3002\u8fd9\u662f\u4e00\u4e2a\u53ef\u80fd\u88ab WebRTC Agent \u4f7f\u7528\u7684\u5730\u5740\u3002\u8fd9\u4e9b\u5c06\u5728\u4e0b\u4e00\u7ae0\u4e2d\u8be6\u7ec6\u8bf4\u660e\u3002</p>"},{"location":"webrtc/forcurious/002.html#ssrc","title":"<code>ssrc</code>","text":"<p>\u4e00\u4e2a\u540c\u6b65\u6e90\uff08SSRC\uff09\u5b9a\u4e49\u4e86\u4e00\u4e2a\u5355\u72ec\u7684\u5a92\u4f53\u6d41\u3002</p> <p><code>label</code> \u662f\u6b64\u5a92\u4f53\u6d41\u7684 ID\u3002<code>mslabel</code> \u662f\u5bb9\u5668\u7684 ID\uff0c\u8be5\u5bb9\u5668\u4e2d\u53ef\u4ee5\u6709\u591a\u4e2a\u6d41\u3002</p>"},{"location":"webrtc/forcurious/002.html#webrtc_3","title":"WebRTC \u4f1a\u8bdd\u63cf\u8ff0\u793a\u4f8b","text":"<p>\u4e0b\u9762\u662f\u4e00\u4e2a WebRTC \u5ba2\u6237\u7aef\u751f\u6210\u7684\u4e00\u5957\u5b8c\u6574\u4f1a\u8bdd\u63cf\u8ff0\uff1a</p> <pre><code>v=0\no=- 3546004397921447048 1596742744 IN IP4 0.0.0.0\ns=-\nt=0 0\na=fingerprint:sha-256 0F:74:31:25:CB:A2:13:EC:28:6F:6D:2C:61:FF:5D:C2:BC:B9:DB:3D:98:14:8D:1A:BB:EA:33:0C:A4:60:A8:8E\na=group:BUNDLE 0 1\nm=audio 9 UDP/TLS/RTP/SAVPF 111\nc=IN IP4 0.0.0.0\na=setup:active\na=mid:0\na=ice-ufrag:CsxzEWmoKpJyscFj\na=ice-pwd:mktpbhgREmjEwUFSIJyPINPUhgDqJlSd\na=rtcp-mux\na=rtcp-rsize\na=rtpmap:111 opus/48000/2\na=fmtp:111 minptime=10;useinbandfec=1\na=ssrc:350842737 cname:yvKPspsHcYcwGFTw\na=ssrc:350842737 msid:yvKPspsHcYcwGFTw DfQnKjQQuwceLFdV\na=ssrc:350842737 mslabel:yvKPspsHcYcwGFTw\na=ssrc:350842737 label:DfQnKjQQuwceLFdV\na=msid:yvKPspsHcYcwGFTw DfQnKjQQuwceLFdV\na=sendrecv\na=candidate:foundation 1 udp 2130706431 192.168.1.1 53165 typ host generation 0\na=candidate:foundation 2 udp 2130706431 192.168.1.1 53165 typ host generation 0\na=candidate:foundation 1 udp 1694498815 1.2.3.4 57336 typ srflx raddr 0.0.0.0 rport 57336 generation 0\na=candidate:foundation 2 udp 1694498815 1.2.3.4 57336 typ srflx raddr 0.0.0.0 rport 57336 generation 0\na=end-of-candidates\nm=video 9 UDP/TLS/RTP/SAVPF 96\nc=IN IP4 0.0.0.0\na=setup:active\na=mid:1\na=ice-ufrag:CsxzEWmoKpJyscFj\na=ice-pwd:mktpbhgREmjEwUFSIJyPINPUhgDqJlSd\na=rtcp-mux\na=rtcp-rsize\na=rtpmap:96 VP8/90000\na=ssrc:2180035812 cname:XHbOTNRFnLtesHwJ\na=ssrc:2180035812 msid:XHbOTNRFnLtesHwJ JgtwEhBWNEiOnhuW\na=ssrc:2180035812 mslabel:XHbOTNRFnLtesHwJ\na=ssrc:2180035812 label:JgtwEhBWNEiOnhuW\na=msid:XHbOTNRFnLtesHwJ JgtwEhBWNEiOnhuW\na=sendrecv\n</code></pre> <p>\u4ece\u8fd9\u4e2a\u4f1a\u8bdd\u63cf\u8ff0\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u77e5\u9053\u4ee5\u4e0b\u5185\u5bb9\uff1a</p> <ul> <li>\u6211\u4eec\u6709\u4e24\u4e2a\u5a92\u4f53\u63cf\u8ff0\uff0c\u4e00\u4e2a\u662f\u97f3\u9891\uff0c\u4e00\u4e2a\u662f\u89c6\u9891</li> <li>\u8fd9\u4e24\u4e2a\u5a92\u4f53\u63cf\u8ff0\u90fd\u662f <code>sendrecv</code> \u6536\u53d1\u5668\u3002\u6211\u4eec\u5c06\u5f97\u5230\u4e24\u4e2a\u6d41\uff0c\u4e5f\u53ef\u4ee5\u53d1\u9001\u4e24\u4e2a\u6d41\u56de\u53bb\u3002</li> <li>\u6211\u4eec\u6709 ICE \u5019\u9009\u5730\u5740\u548c\u8eab\u4efd\u9a8c\u8bc1\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u56e0\u6b64\u6211\u4eec\u53ef\u4ee5\u5c1d\u8bd5\u8fde\u63a5</li> <li>\u6211\u4eec\u6709\u4e00\u4e2a\u8bc1\u4e66\u6307\u7eb9\uff0c\u56e0\u6b64\u6211\u4eec\u53ef\u4ee5\u8fdb\u884c\u5b89\u5168\u7684\u547c\u53eb</li> </ul> <p>Note</p> <p>\u8bd1\u6ce8\uff1a\u5bf9\u7167\u4ee5\u4e0a 4 \u70b9 * \u4e24\u4e2a\u5a92\u4f53\u63cf\u8ff0\u5373\u662f\u4e24\u4e2a <code>m=</code> \u6bb5 * \u4e24\u4e2a m \u6bb5\u4e2d\u90fd\u6709 <code>a=sendrecv</code>\uff0c\u5373\u662f\u8bf4\u53ef\u4ee5\u6536\u4e5f\u53ef\u4ee5\u53d1 * ICE \u5019\u9009\u5730\u5740\u5bf9\u5e94 <code>a=candidate:foundation</code> \u5230 <code>a=end-of-candidates</code> \u4e4b\u95f4\u7684\u90e8\u5206\uff0c\u8eab\u4efd\u9a8c\u8bc1\u4fe1\u606f\u53c2\u8003\u524d\u9762\u7684 <code>ice-ufrag</code> \u548c <code>ice-pwd</code> \u7b49 * \u6307\u7684\u662f <code>fingerprint:sha-256</code> \u5c5e\u6027</p>"},{"location":"webrtc/forcurious/002.html#_4","title":"\u8fdb\u4e00\u6b65\u7684\u8bdd\u9898","text":"<p>\u5728\u672c\u4e66\u7684\u540e\u7eed\u7248\u672c\u4e2d\uff0c\u8fd8\u5c06\u8ba8\u8bba\u4ee5\u4e0b\u4e3b\u9898\uff1a</p> <ul> <li>\u91cd\u65b0\u534f\u5546\uff08Renegotiation\uff09</li> <li>\u540c\u6b65\u5e7f\u64ad\uff08Simulcast\uff09</li> </ul>"},{"location":"webrtc/forcurious/003.html","title":"\u8fde\u63a5","text":""},{"location":"webrtc/forcurious/003.html#webrtc","title":"\u4e3a\u4ec0\u4e48 WebRTC \u9700\u8981\u4e13\u7528\u7684\u5b50\u7cfb\u7edf\u8fdb\u884c\u8fde\u63a5\uff1f","text":"<p>\u76ee\u524d\uff0c\u5927\u591a\u6570\u90e8\u7f72\u7684\u5e94\u7528\u7a0b\u5e8f\u90fd\u901a\u8fc7\u5ba2\u6237\u7aef / \u670d\u52a1\u5668\u65b9\u5f0f\u8fdb\u884c\u8fde\u63a5\u3002\u5ba2\u6237\u7aef / \u670d\u52a1\u5668\u65b9\u5f0f\u8fde\u63a5\u8981\u6c42\u670d\u52a1\u5668\u5177\u6709\u7a33\u5b9a\u4e14\u516c\u5f00\u53ef\u7528\u7684\u4f20\u8f93\u5730\u5740\u3002\u5ba2\u6237\u7aef\u4e0e\u670d\u52a1\u5668\u8054\u7cfb\uff0c\u7136\u540e\u670d\u52a1\u5668\u505a\u51fa\u54cd\u5e94\u3002</p> <p>WebRTC \u4e0d\u4f7f\u7528\u5ba2\u6237\u7aef / \u670d\u52a1\u5668\u6a21\u578b\uff0c\u5b83\u5efa\u7acb\u70b9\u5bf9\u70b9\uff08P2P\uff09\u8fde\u63a5\u3002 \u5728 P2P \u8fde\u63a5\u4e2d\uff0c\u521b\u5efa\u8fde\u63a5\u7684\u4efb\u52a1\u88ab\u5e73\u5747\u5206\u914d\u7ed9\u4e24\u4e2a\u5bf9\u7b49\u65b9\u3002\u8fd9\u662f\u56e0\u4e3a\u65e0\u6cd5\u731c\u6d4b WebRTC \u4e2d\u7684\u4f20\u8f93\u5730\u5740\uff08IP \u548c\u7aef\u53e3\uff09\uff0c\u800c\u4e14\uff0c\u5728\u4f1a\u8bdd\u8fc7\u7a0b\u4e2d\uff0c\u4f20\u8f93\u5730\u5740\u751a\u81f3\u53ef\u80fd\u4f1a\u53d8\u66f4\u3002WebRTC \u5c06\u6536\u96c6\u6240\u6709\u53ef\u80fd\u6536\u96c6\u7684\u4fe1\u606f\uff0c\u5e76\u5c06\u5c3d\u529b\u5b9e\u73b0\u4e24\u4e2a WebRTC Agent \u4e4b\u95f4\u7684\u53cc\u5411\u901a\u4fe1\u3002</p> <p>\u542c\u8d77\u6765\u7b80\u5355\uff0c\u5efa\u7acb\u70b9\u5bf9\u70b9\u8fde\u63a5\u5b9e\u9645\u4e0a\u53ef\u80fd\u4f1a\u975e\u5e38\u56f0\u96be\u3002\u8fd9\u4e9b Agent \u53ef\u80fd\u4f4d\u4e8e\u6ca1\u6709\u76f4\u63a5\u8fde\u63a5\u7684\u4e0d\u540c\u7f51\u7edc\u4e2d\u3002\u5373\u4f7f\u5728\u4e24\u4e2a Agent \u53ef\u4ee5\u76f4\u63a5\u8fde\u63a5\u7684\u60c5\u51b5\u4e0b\uff0c\u4f60\u53ef\u80fd\u8fd8\u4f1a\u9047\u5230\u5176\u4ed6\u95ee\u9898\u3002\u6bd4\u5982\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c\u4e24\u4e2a\u5ba2\u6237\u7aef\u4f7f\u7528\u4e0d\u540c\u7684\u7f51\u7edc\u534f\u8bae\uff08UDP &lt;-&gt; TCP\uff09\u6216\u4f7f\u7528\u4e0d\u540c\u7684 IP \u7248\u672c\uff08IPv4 &lt;-&gt; IPv6\uff09\u3002</p> <p>\u5c3d\u7ba1\u5728\u5efa\u7acb\u70b9\u5bf9\u70b9\u8fde\u63a5\u65b9\u9762\u5b58\u5728\u4e00\u4e9b\u56f0\u96be\uff0c\u5728 WebRTC \u63d0\u4f9b\u7684\u4e0b\u9762\u8fd9\u4e9b\u5c5e\u6027\u7684\u5e2e\u52a9\u4e0b\uff0c\u4f60\u4ecd\u7136\u53ef\u4ee5\u83b7\u5f97\u76f8\u5bf9\u4e8e\u4f20\u7edf\u5ba2\u6237\u7aef / \u670d\u52a1\u5668\u6280\u672f\u7684\u4e00\u4e9b\u4f18\u52bf\u3002</p>"},{"location":"webrtc/forcurious/003.html#_2","title":"\u964d\u4f4e\u5e26\u5bbd\u6210\u672c","text":"<p>\u7531\u4e8e\u5a92\u4f53\u901a\u4fe1\u76f4\u63a5\u53d1\u751f\u5728 peer \u4e4b\u95f4\uff0c\u56e0\u6b64\u4f60\u65e0\u9700\u4e3a\u4e4b\u4ed8\u8d39\uff0c\u4e5f\u65e0\u9700\u6258\u7ba1\u4e00\u4e2a\u5355\u72ec\u7684\u670d\u52a1\u5668\u6765\u8f6c\u53d1\u5a92\u4f53\u3002</p>"},{"location":"webrtc/forcurious/003.html#_3","title":"\u66f4\u4f4e\u5ef6\u8fdf","text":"<p>\u76f4\u63a5\u901a\u4fe1\u65f6\u901f\u5ea6\u66f4\u5feb\uff01\u5f53\u7528\u6237\u5fc5\u987b\u901a\u8fc7\u4f60\u7684\u670d\u52a1\u5668\u8fd0\u884c\u6240\u6709\u5185\u5bb9\u65f6\uff0c\u8fd9\u4f1a\u4f7f\u4f20\u8f93\u901f\u5ea6\u53d8\u6162\u3002</p>"},{"location":"webrtc/forcurious/003.html#_4","title":"\u5b89\u5168\u7684\u7aef\u5230\u7aef\u901a\u4fe1","text":"<p>\u76f4\u63a5\u901a\u4fe1\u66f4\u5b89\u5168\u3002\u7531\u4e8e\u7528\u6237\u6570\u636e\u6839\u672c\u6ca1\u6709\u901a\u8fc7\u4f60\u7684\u670d\u52a1\u5668\uff0c\u56e0\u6b64\u7528\u6237\u538b\u6839\u4e0d\u9700\u8981\u8003\u8651\u4f60\u7684\u670d\u52a1\u5668\u4f1a\u4e0d\u4f1a\u89e3\u5bc6\u5176\u6570\u636e\u3002</p>"},{"location":"webrtc/forcurious/003.html#_5","title":"\u5b83\u662f\u5982\u4f55\u5de5\u4f5c\u7684\uff1f","text":"<p>\u4e0a\u9762\u63cf\u8ff0\u7684\u8fde\u63a5\u8fc7\u7a0b\u662f\u901a\u8fc7 Interactive Connectivity Establishment\uff08\u4ea4\u4e92\u5f0f\u8fde\u63a5\u5efa\u7acb /ICE\uff09 \u5b9e\u73b0\u7684\u3002\u8fd9\u662f\u53e6\u4e00\u4e2a\u5728 WebRTC \u4e4b\u524d\u5c31\u5df2\u7ecf\u51fa\u73b0\u7684\u534f\u8bae\u3002</p> <p>ICE \u662f\u4e00\u79cd\u7528\u6765\u5bfb\u627e\u4e24\u4e2a ICE Agent \u4e4b\u95f4\u901a\u4fe1\u7684\u6700\u4f73\u65b9\u5f0f\u7684\u534f\u8bae\u3002\u6bcf\u4e2a ICE Agent \u90fd\u4f1a\u53d1\u5e03\u5982\u4f55\u8bbf\u95ee\u81ea\u5df1\u7684\u65b9\u5f0f\uff0c\u8fd9\u4e9b\u8def\u5f84\u88ab\u79f0\u4e3a\u5019\u9009\u5730\u5740\uff08candidates\uff09\u3002\u5019\u9009\u5730\u5740\u672c\u8d28\u4e0a\u662f\u4e00\u4e2a\u4f20\u8f93\u5730\u5740\uff0cICE Agent \u8ba4\u4e3a\u8fd9\u4e2a\u4f20\u8f93\u5730\u5740\u53ef\u80fd\u53ef\u4ee5\u88ab\u5bf9\u7aef\u8bbf\u95ee\u5230\u3002\u63a5\u4e0b\u6765 ICE \u5c06\u786e\u5b9a\u5019\u9009\u5730\u5740\u7684\u6700\u4f73\u642d\u914d\u3002</p> <p>\u672c\u7ae0\u7a0d\u540e\u5c06\u8be6\u7ec6\u4ecb\u7ecd\u5b9e\u9645\u7684 ICE \u8fc7\u7a0b\u3002\u8981\u4e86\u89e3 ICE \u4e3a\u4ec0\u4e48\u5b58\u5728\uff0c\u6700\u597d\u5148\u4e86\u89e3\u6211\u4eec\u8981\u9762\u4e34\u7684\u7f51\u7edc\u7279\u6027\u3002</p>"},{"location":"webrtc/forcurious/003.html#_6","title":"\u73b0\u5b9e\u4e16\u754c\u7684\u7f51\u7edc\u9650\u5236","text":"<p>ICE \u5c31\u662f\u514b\u670d\u73b0\u5b9e\u4e16\u754c\u7f51\u7edc\u9650\u5236\u7684\u65b9\u6cd5\u3002\u5728\u6211\u4eec\u5f00\u59cb\u8ba8\u8bba ICE \u5982\u4f55\u89e3\u51b3\u95ee\u9898\u4e4b\u524d\uff0c\u5148\u8ba8\u8bba\u4e00\u4e0b\u6709\u54ea\u4e9b\u5b9e\u9645\u95ee\u9898\u3002</p>"},{"location":"webrtc/forcurious/003.html#_7","title":"\u4e0d\u5728\u540c\u4e00\u4e2a\u7f51\u7edc\u4e2d","text":"<p>\u5728\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u4e24\u4e2a WebRTC Agent \u4e0d\u5728\u540c\u4e00\u4e2a\u7f51\u7edc\u4e2d\u3002\u5178\u578b\u7684\u547c\u53eb\u901a\u5e38\u662f\u5728\u6ca1\u6709\u76f4\u63a5\u8fde\u63a5\u7684\u4e0d\u540c\u7f51\u7edc\u4e2d\u7684\u4e24\u4e2a WebRTC Agent \u4e4b\u95f4\u8fdb\u884c\u7684\u3002</p> <p>\u4e0b\u9762\u662f\u901a\u8fc7\u516c\u5171\u4e92\u8054\u7f51\u8fde\u63a5\u7684\u4e24\u4e2a\u4e0d\u540c\u7f51\u7edc\u7684\u793a\u610f\u56fe\u3002\u5728\u6bcf\u4e2a\u7f51\u7edc\u4e2d\uff0c\u4f60\u62e5\u6709\u4e24\u4e2a\u4e3b\u673a\u3002</p> <p></p> <p>\u5bf9\u4e8e\u540c\u4e00\u7f51\u7edc\u4e2d\u7684\u4e3b\u673a\u6765\u8bf4\uff0c\u4e92\u76f8\u8fde\u63a5\u975e\u5e38\u5bb9\u6613\u3002\u4f8b\u5982\u5728 <code>192.168.0.1 -&gt; 192.168.0.2</code> \u4e4b\u95f4\u901a\u8baf\u5c31\u5f88\u5bb9\u6613\uff01\u8fd9\u4e24\u4e2a\u4e3b\u673a\u65e0\u9700\u4efb\u4f55\u5916\u90e8\u5e2e\u52a9\u5373\u53ef\u76f8\u4e92\u8fde\u63a5\u3002</p> <p>\u4f46\u662f\uff0c\u4f7f\u7528 <code>Router B</code> \u7684\u4e3b\u673a\u65e0\u6cd5\u76f4\u63a5\u8bbf\u95ee <code>Router A</code> \u80cc\u540e\u7684\u4efb\u4f55\u4e3b\u673a\u3002\u4f60\u5982\u4f55\u533a\u5206 <code>Router A</code> \u540e\u9762\u7684 <code>192.168.0.1</code> \u4e3b\u673a\u548c <code>Router B</code> \u540e\u9762\u76f8\u540c IP \u7684\u4e3b\u673a\u4e4b\u95f4\u7684\u533a\u522b\u5462\uff1f\u5b83\u4eec\u90fd\u4f7f\u7528\u5185\u7f51 IP\uff01\u4f7f\u7528 <code>Router B</code> \u7684\u4e3b\u673a\u53ef\u4ee5\u5c06\u6570\u636e\u76f4\u63a5\u53d1\u9001\u5230 <code>Router A</code>\uff0c\u4f46\u662f\u8bf7\u6c42\u5728\u90a3\u91cc\u5c31\u7ed3\u675f\u4e86\u3002<code>Router A</code> \u600e\u4e48\u77e5\u9053\u5b83\u5e94\u8be5\u5c06\u6d88\u606f\u8f6c\u53d1\u7ed9\u54ea\u53f0\u4e3b\u673a\u5462\uff1f</p>"},{"location":"webrtc/forcurious/003.html#_8","title":"\u534f\u8bae\u9650\u5236","text":"<p>\u6709\u4e9b\u7f51\u7edc\u4e0d\u5141\u8bb8 UDP \u901a\u4fe1\uff0c\u6216\u8005\u4e5f\u6709\u53ef\u80fd\u4e0d\u5141\u8bb8 TCP\u3002\u6709\u4e9b\u7f51\u7edc\u7684 MTU\uff08Maximum Transmission Unit/ \u6700\u5927\u4f20\u8f93\u5355\u5143\uff09\u53ef\u80fd\u975e\u5e38\u4f4e\u3002\u7f51\u7edc\u7ba1\u7406\u5458\u53ef\u4ee5\u66f4\u6539\u8bb8\u591a\u53d8\u91cf\uff0c\u8fd9\u4e9b\u4fee\u6539\u53ef\u80fd\u4f1a\u4f7f\u901a\u4fe1\u53d8\u5f97\u56f0\u96be\u3002</p>"},{"location":"webrtc/forcurious/003.html#ids","title":"\u9632\u706b\u5899 /IDS \u89c4\u5219","text":"<p>\u53e6\u4e00\u4e2a\u95ee\u9898\u662f<code>\u6df1\u5ea6\u6570\u636e\u5305\u68c0\u67e5</code>\u548c\u5176\u4ed6\u667a\u80fd\u8fc7\u6ee4\u65b9\u5f0f\u3002\u67d0\u4e9b\u7f51\u7edc\u7ba1\u7406\u5458\u5c06\u8fd0\u884c\u4e00\u4e9b\u8f6f\u4ef6\uff0c\u8fd9\u4e9b\u8f6f\u4ef6\u4f1a\u8bd5\u56fe\u5904\u7406\u6bcf\u4e2a\u6570\u636e\u5305\u3002\u5f88\u591a\u65f6\u5019\uff0c\u8fd9\u4e9b\u8f6f\u4ef6\u65e0\u6cd5\u8bc6\u522b WebRTC \u7684\u6570\u636e\u5305\uff0c\u7531\u4e8e\u5b83\u4eec\u4e0d\u77e5\u9053\u5982\u4f55\u5904\u7406\uff0c\u5b83\u4eec\u53ef\u80fd\u4f1a\u963b\u62e6\u8fd9\u4e9b\u6570\u636e\u5305\uff0c\u4f8b\u5982\uff0c\u5b83\u4eec\u53ef\u80fd\u5c06 WebRTC \u6570\u636e\u5305\u89c6\u4e3a\u4e0d\u5728\u7aef\u53e3\u767d\u540d\u5355\u4e0a\u7684\u53ef\u7591 UDP \u6570\u636e\u5305\u3002</p>"},{"location":"webrtc/forcurious/003.html#nat","title":"NAT \u6620\u5c04","text":"<p>NAT\uff08\u7f51\u7edc\u5730\u5740\u8f6c\u6362\uff09\u6620\u5c04\u662f\u4f7f\u5f97 WebRTC \u8fde\u63a5\u6210\u4e3a\u53ef\u80fd\u7684\u9b54\u6cd5\u3002WebRTC \u5c31\u662f\u4f7f\u7528 NAT \u8ba9\u5904\u4e8e\u5b8c\u5168\u4e0d\u540c\u7684\u5b50\u7f51\u4e2d\u7684\u4e24\u4e2a peer \u8fdb\u884c\u901a\u4fe1\uff0c\u4ece\u800c\u89e3\u51b3\u4e86\u4e0a\u8ff0 \" \u4e0d\u5728\u540c\u4e00\u7f51\u7edc\u4e2d \" \u7684\u95ee\u9898\u3002\u5c3d\u7ba1\u5b83\u5e26\u6765\u4e86\u65b0\u7684\u6311\u6218\uff0c\u4f46\u8ba9\u6211\u4eec\u5148\u6765\u89e3\u91ca\u4e00\u4e0b NAT \u6620\u5c04\u662f\u5982\u4f55\u5de5\u4f5c\u7684\u3002</p> <p>NAT \u6620\u5c04\u4e0d\u4f7f\u7528\u4e2d\u7ee7\uff0c\u4ee3\u7406\u6216\u670d\u52a1\u5668\u3002\u8ddf\u4e0a\u4e00\u4e2a\u4f8b\u5b50\u4e00\u6837\uff0c\u6211\u4eec\u6709 <code>Agent 1</code> \u548c <code>Agent 2</code>\uff0c\u5b83\u4eec\u4f4d\u4e8e\u4e0d\u540c\u7684\u7f51\u7edc\u4e2d\u3002\u7136\u800c\uff0c\u6d41\u91cf\u7a7f\u900f\u4e86\u8def\u7531\u5668\u3002\u770b\u8d77\u6765\u5c31\u50cf\u8fd9\u6837\uff1a</p> <p></p> <p>\u60f3\u8981\u8fd9\u6837\u901a\u4fe1\u7684\u8bdd\uff0c\u4f60\u9700\u8981\u521b\u5efa\u4e00\u4e2a NAT \u6620\u5c04\u3002Agent 1 \u4f7f\u7528\u7aef\u53e3 7000 \u4e0e Agent 2 \u5efa\u7acb WebRTC \u8fde\u63a5\u3002\u8fd9\u5c06\u521b\u5efa\u4e00\u4e2a <code>192.168.0.1:7000</code> \u5230 <code>5.0.0.1:7000</code> \u7684\u7ed1\u5b9a\u3002\u7136\u540e\uff0cAgent 2 \u5c06\u6570\u636e\u5305\u53d1\u9001\u5230 <code>5.0.0.1:7000</code> \u65f6\uff0c\u6570\u636e\u5305\u4f1a\u88ab\u8f6c\u53d1\u7ed9 Agent 1\u3002\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u521b\u5efa\u4e00\u4e2a NAT \u6620\u5c04\uff0c\u5c31\u50cf\u662f\u5728\u8def\u7531\u5668\u4e2d\u505a\u4e86\u4e00\u6b21\u81ea\u52a8\u5316\u7684\u7aef\u53e3\u8f6c\u53d1\u3002</p> <p>NAT \u6620\u5c04\u7684\u7f3a\u70b9\u662f\uff1a\u6620\u5c04\u7684\u5f62\u5f0f\u4e0d\u6b62\u4e00\u79cd\uff08\u4f8b\u5982\u9759\u6001\u7aef\u53e3\u8f6c\u53d1\uff09\uff0c\u5e76\u4e14\u6620\u5c04\u7684\u5b9e\u73b0\u65b9\u5f0f\u5728\u4e0d\u540c\u7684\u7f51\u7edc\u4e2d\u4e5f\u662f\u4e0d\u4e00\u6837\u7684\u3002ISP \u548c\u786c\u4ef6\u5236\u9020\u5546\u53ef\u80fd\u4f1a\u4ee5\u4e0d\u540c\u7684\u65b9\u5f0f\u6765\u5b9e\u73b0 NAT \u6620\u5c04\u3002\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c\u7f51\u7edc\u7ba1\u7406\u5458\u751a\u81f3\u53ef\u80fd\u7981\u7528\u5b83\u3002</p> <p>\u597d\u6d88\u606f\u662f\uff0cNAT \u6620\u5c04\u7684\u6240\u6709\u884c\u4e3a\u90fd\u662f\u53ef\u4ee5\u7406\u89e3\u548c\u89c2\u5bdf\u5230\u7684\uff0c\u56e0\u6b64 ICE Agent \u80fd\u591f\u786e\u8ba4\u5176\u521b\u5efa\u4e86 NAT \u6620\u5c04\uff0c\u5e76\u786e\u8ba4\u8be5\u6620\u5c04\u7684\u5c5e\u6027\u3002</p> <p>\u63cf\u8ff0\u8fd9\u4e9b\u884c\u4e3a\u7684\u6587\u6863\u662f RFC 4787\u3002</p>"},{"location":"webrtc/forcurious/003.html#_9","title":"\u521b\u5efa\u6620\u5c04","text":"<p>\u521b\u5efa\u6620\u5c04\u662f\u6700\u7b80\u5355\u7684\u90e8\u5206\u3002\u5f53\u4f60\u5c06\u6570\u636e\u5305\u53d1\u9001\u5230\u7f51\u7edc\u5916\u90e8\u7684\u5730\u5740\u65f6\uff0c\u4e00\u4e2a\u6620\u5c04\u5c31\u88ab\u521b\u5efa\u51fa\u6765\u4e86\uff01NAT \u6620\u5c04\u53ea\u662f\u7531 NAT \u5206\u914d\u7684\u4e00\u4e2a\u4e34\u65f6\u7684\u516c\u5171 IP \u548c\u7aef\u53e3\u3002\u51fa\u7ad9\u7684\u6d88\u606f\u5c06\u88ab\u91cd\u5199\uff0c\u4f7f\u5f97\u5176\u6e90\u5730\u5740\u53d8\u4e3a\u65b0\u521b\u5efa\u7684\u6620\u5c04\u5730\u5740\u3002\u5982\u679c\u6709\u6d88\u606f\u88ab\u6210\u529f\u53d1\u5230\u6620\u5c04\u5730\u5740\uff0c\u6d88\u606f\u4f1a\u88ab\u81ea\u52a8\u8def\u7531\u8fd4\u56de\u7ed9 NAT \u7f51\u7edc\u4e2d\u521b\u5efa\u8fd9\u4e2a\u6620\u5c04\u5730\u5740\u7684\u4e3b\u673a\u3002\u8bf4\u5230\u6620\u5c04\u76f8\u5173\u7684\u7ec6\u8282\uff0c\u8fd9\u5c31\u5f00\u59cb\u53d8\u5f97\u590d\u6742\u4e86\u3002</p>"},{"location":"webrtc/forcurious/003.html#_10","title":"\u6620\u5c04\u521b\u5efa\u7684\u884c\u4e3a","text":"<p>\u6620\u5c04\u521b\u5efa\u5206\u4e3a\u4e09\u7c7b\uff1a</p>"},{"location":"webrtc/forcurious/003.html#_11","title":"\u7aef\u70b9\u65e0\u5173\u7684\u6620\u5c04","text":"<p>\u8fd9\u79cd\u521b\u5efa\u65b9\u5f0f\u4e3a NAT \u7f51\u7edc\u4e2d\u7684\u6240\u6709\u53d1\u9001\u8005\u53ea\u521b\u5efa\u4e00\u4e2a\u6620\u5c04\u3002\u5982\u679c\u4f60\u5c06\u4e24\u4e2a\u6570\u636e\u5305\u53d1\u9001\u5230\u4e24\u4e2a\u4e0d\u540c\u7684\u8fdc\u7a0b\u5730\u5740\uff0c\u8fd9\u4e2a NAT \u6620\u5c04\u5c06\u88ab\u91cd\u7528\u3002\u4e24\u4e2a\u8fdc\u7a0b\u4e3b\u673a\u5c06\u770b\u5230\u76f8\u540c\u7684\u6e90 IP \u548c\u7aef\u53e3\u3002\u5982\u679c\u8fdc\u7a0b\u4e3b\u673a\u54cd\u5e94\uff0c\u5b83\u5c06\u88ab\u53d1\u9001\u56de\u76f8\u540c\u7684\u672c\u5730\u4fa6\u542c\u5668\u3002</p> <p>\u8fd9\u662f\u6700\u597d\u7684\u60c5\u51b5\u3002\u8981\u4f7f\u5f97\u547c\u53eb\u80fd\u591f\u5efa\u7acb\u8d77\u6765\uff0c\u81f3\u5c11\u4e00\u4fa7\u5fc5\u987b\u662f\u8fd9\u79cd\u7c7b\u578b\u3002</p>"},{"location":"webrtc/forcurious/003.html#_12","title":"\u5730\u5740\u76f8\u5173\u7684\u6620\u5c04","text":"<p>\u6bcf\u6b21\u5c06\u6570\u636e\u5305\u53d1\u9001\u5230\u65b0\u5730\u5740\u65f6\uff0c\u90fd\u4f1a\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u6620\u5c04\u3002\u5982\u679c\u4f60\u5c06\u4e24\u4e2a\u6570\u636e\u5305\u53d1\u9001\u5230\u4e0d\u540c\u7684\u4e3b\u673a\uff0c\u5219\u4f1a\u521b\u5efa\u4e24\u4e2a\u6620\u5c04\u3002\u5982\u679c\u5c06\u4e24\u4e2a\u6570\u636e\u5305\u53d1\u9001\u5230\u540c\u4e00\u8fdc\u7a0b\u4e3b\u673a\uff0c\u4f46\u76ee\u6807\u7aef\u53e3\u4e0d\u540c\uff0c\u5219\u4e0d\u4f1a\u521b\u5efa\u65b0\u7684\u6620\u5c04\u3002</p>"},{"location":"webrtc/forcurious/003.html#_13","title":"\u5730\u5740\u548c\u7aef\u53e3\u76f8\u5173\u7684\u6620\u5c04","text":"<p>\u5982\u679c\u8fdc\u7a0b IP \u6216\u7aef\u53e3\u4e0d\u540c\uff0c\u5219\u4f1a\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u6620\u5c04\u3002\u5982\u679c\u5c06\u4e24\u4e2a\u6570\u636e\u5305\u53d1\u9001\u5230\u540c\u4e00\u8fdc\u7a0b\u4e3b\u673a\uff0c\u4f46\u76ee\u6807\u7aef\u53e3\u4e0d\u540c\uff0c\u5219\u5c06\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u6620\u5c04\u3002</p>"},{"location":"webrtc/forcurious/003.html#_14","title":"\u6620\u5c04\u8fc7\u6ee4\u884c\u4e3a","text":"<p>\u6620\u5c04\u8fc7\u6ee4\u662f\u5173\u4e8e\u5141\u8bb8\u8c01\u4f7f\u7528\u6620\u5c04\u7684\u89c4\u5219\u3002\u5b83\u4eec\u5206\u4e3a\u4e09\u4e2a\u7c7b\u4f3c\u7684\u7c7b\u522b\uff1a</p>"},{"location":"webrtc/forcurious/003.html#_15","title":"\u7aef\u70b9\u65e0\u5173\u7684\u8fc7\u6ee4","text":"<p>\u4efb\u4f55\u4eba\u90fd\u53ef\u4ee5\u4f7f\u7528\u8be5\u6620\u5c04\u3002\u4f60\u53ef\u4ee5\u4e0e\u5176\u4ed6\u591a\u4e2a peer \u5171\u4eab\u8be5\u6620\u5c04\uff0c\u4ed6\u4eec\u90fd\u53ef\u4ee5\u5411\u8be5\u6620\u5c04\u53d1\u9001\u6d41\u91cf\u3002</p>"},{"location":"webrtc/forcurious/003.html#_16","title":"\u5730\u5740\u76f8\u5173\u7684\u8fc7\u6ee4","text":"<p>\u53ea\u6709\u4e3a\u5176\u521b\u5efa\u6620\u5c04\u7684\u4e3b\u673a\u624d\u80fd\u4f7f\u7528\u8be5\u6620\u5c04\u3002\u5982\u679c\u4f60\u5c06\u6570\u636e\u5305\u53d1\u9001\u5230\u4e3b\u673a <code>A</code>\uff0c\u5219\u5b83\u53ef\u4ee5\u6839\u636e\u9700\u8981\u54cd\u5e94\u4efb\u610f\u6570\u91cf\u7684\u6570\u636e\u5305\u3002\u5982\u679c\u4e3b\u673a <code>B</code> \u5c1d\u8bd5\u5c06\u6570\u636e\u5305\u53d1\u9001\u5230\u8be5\u6620\u5c04\uff0c\u5c06\u88ab\u5ffd\u7565\u3002</p>"},{"location":"webrtc/forcurious/003.html#_17","title":"\u5730\u5740\u548c\u7aef\u53e3\u76f8\u5173\u7684\u8fc7\u6ee4","text":"<p>\u4ec5\u6709\u521b\u5efa\u6620\u5c04\u7684\u4e3b\u673a\u548c\u7aef\u53e3\u53ef\u4ee5\u4f7f\u7528\u8be5\u6620\u5c04\u3002\u5982\u679c\u4f60\u5c06\u6570\u636e\u5305\u53d1\u9001\u5230\u4e3b\u673a <code>A:5000</code>\uff0c\u5219\u5b83\u53ef\u4ee5\u6839\u636e\u9700\u8981\u54cd\u5e94\u4efb\u610f\u6570\u91cf\u7684\u6570\u636e\u5305\u3002\u5982\u679c\u4e3b\u673a <code>A\uff1a5001</code> \u5c1d\u8bd5\u5c06\u6570\u636e\u5305\u53d1\u9001\u5230\u8be5\u6620\u5c04\uff0c\u5c06\u88ab\u5ffd\u7565\u3002</p>"},{"location":"webrtc/forcurious/003.html#_18","title":"\u6620\u5c04\u7684\u5237\u65b0","text":"<p>\u901a\u5e38\u7684\u5efa\u8bae\u662f\uff0c\u5982\u679c 5 \u5206\u949f\u672a\u4f7f\u7528\u6620\u5c04\uff0c\u5219\u5e94\u5c06\u5176\u9500\u6bc1\u3002\u4f46\u8fd9\u5b8c\u5168\u53d6\u51b3\u4e8e ISP \u6216\u786c\u4ef6\u5236\u9020\u5546\u3002</p> <p>Note</p> <p>\u8bd1\u6ce8\uff1a\u6362\u4e2a\u8bf4\u6cd5\uff0cNAT \u6620\u5c04\u7684\u521b\u5efa\u5373\u662f NAT \u7f51\u7edc\u4e2d\u7684\u4e3b\u673a<code>\u53d1\u9001</code>\u6570\u636e\u65f6\uff0c\u8def\u7531\u5668\u7684\u5904\u7406\u65b9\u5f0f\uff1b\u800c\u8fc7\u6ee4\u5373\u662f<code>\u63a5\u6536</code>\u6570\u636e\u65f6\uff0c\u8def\u7531\u5668\u7684\u5904\u7406\u65b9\u5f0f\u3002\u6620\u5c04\u7684\u5237\u65b0\u5373\u662f\u8def\u7531\u5668<code>\u91ca\u653e</code>\u6620\u5c04\u7684\u5904\u7406\u65b9\u5f0f\u3002\u4e0d\u540c\u7f51\u7edc\u60c5\u51b5\u4e0d\u540c\uff0c\u56e0\u6b64\u67d0\u4e9b\u7279\u5b9a\u7684\u642d\u914d\u4f1a\u5bfc\u81f4\u4e24\u4e2a\u7f51\u7edc\u95f4\u65e0\u6cd5\u5efa\u7acb P2P \u8fde\u63a5\u3002\u5728\u7a7f\u900f\u76f8\u5173\u7684\u6280\u672f\u4e2d\uff0c\u5c06\u4e0d\u540c\u7684\u60c5\u51b5\u79f0\u4e3a\u4e0d\u540c\u7684<code>\u9525\u5f62</code>\u3002</p>"},{"location":"webrtc/forcurious/003.html#stun","title":"STUN","text":"<p>STUN\uff08NAT \u4f1a\u8bdd\u4f20\u8f93\u5b9e\u7528\u7a0b\u5e8f\uff09\u662f\u4e00\u79cd\u7528\u6765\u914d\u5408 NAT \u4f7f\u7528\u7684\u534f\u8bae\u3002\u8fd9\u662f WebRTC\uff08\u548c ICE\uff01\uff09\u4e4b\u524d\u7684\u53e6\u4e00\u9879\u6280\u672f\u3002\u5b83\u7531RFC 8489\u5b9a\u4e49\uff0c\u8be5\u6587\u4ef6\u8fd8\u5b9a\u4e49\u4e86 STUN \u6570\u636e\u5305\u7ed3\u6784\u3002STUN \u534f\u8bae\u4e5f\u5728 ICE/TURN \u4e2d\u88ab\u4f7f\u7528\u3002</p> <p>STUN \u5f88\u6709\u7528\uff0c\u56e0\u4e3a\u5b83\u5141\u8bb8\u4ee5\u7f16\u7a0b\u65b9\u5f0f\u521b\u5efa NAT \u6620\u5c04\u3002\u5728 STUN \u4e4b\u524d\uff0c\u6211\u4eec\u80fd\u591f\u521b\u5efa NAT \u6620\u5c04\uff0c\u4f46\u662f\u6211\u4eec\u4e0d\u77e5\u9053\u6620\u5c04\u7684 IP \u548c\u7aef\u53e3\u662f\u4ec0\u4e48\uff01STUN \u4e0d\u4ec5\u4f7f\u4f60\u80fd\u591f\u521b\u5efa\u6620\u5c04\uff0c\u8fd8\u53ef\u4ee5\u8ba9\u4f60\u83b7\u53d6\u6620\u5c04\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u4f60\u53ef\u4ee5\u4ed6\u4eba\u5206\u4eab\u8fd9\u4e9b\u8be6\u7ec6\u4fe1\u606f\uff0c\u7136\u540e\u4ed6\u4eec\u4fbf\u53ef\u4ee5\u901a\u8fc7\u4f60\u521a\u521a\u521b\u5efa\u7684\u6620\u5c04\u5411\u4f60\u4f20\u56de\u6570\u636e\u3002</p> <p>\u8ba9\u6211\u4eec\u4ece\u5bf9 STUN \u7684\u57fa\u672c\u63cf\u8ff0\u5f00\u59cb\u3002\u7a0d\u540e\uff0c\u6211\u4eec\u518d\u5c06\u8bdd\u9898\u6269\u5c55\u5230 TURN \u548c ICE \u7684\u7528\u6cd5\u3002\u73b0\u5728\uff0c\u6211\u4eec\u53ea\u6253\u7b97\u63cf\u8ff0\u8bf7\u6c42 / \u54cd\u5e94\u6d41\u7a0b\u6765\u521b\u5efa\u6620\u5c04\u3002\u7136\u540e\uff0c\u6211\u4eec\u5c06\u8ba8\u8bba\u5982\u4f55\u83b7\u53d6\u8be5\u6620\u5c04\u7684\u8be6\u7ec6\u4fe1\u606f\u4ee5\u4fbf\u4e0e\u4ed6\u4eba\u5171\u4eab\u3002\u5f53\u4f60\u5728 ICE URLs \u4e2d\u6709\u4e00\u4e2a\u7528\u4e8e WebRTC PeerConnection \u7684 <code>stun:</code> \u670d\u52a1\u5668\u65f6\uff0c\u6b64\u8fc7\u7a0b\u5c31\u4f1a\u53d1\u751f\u3002\u7b80\u800c\u8a00\u4e4b\uff0cSTUN \u5411 NAT \u5916\u90e8\u7684 STUN \u670d\u52a1\u5668\u53d1\u9001\u8bf7\u6c42\uff0c\u670d\u52a1\u5668\u8fd4\u56de\u5176\u5728\u8bf7\u6c42\u4e2d\u89c2\u5bdf\u5230\u7684\u5185\u5bb9\uff0cSTUN \u6839\u636e\u8fd9\u4e9b\u5185\u5bb9\u6765\u5e2e\u52a9 NAT \u540e\u9762\u7684\u7aef\u70b9\u627e\u51fa\u5df2\u521b\u5efa\u7684\u6620\u5c04\u3002</p>"},{"location":"webrtc/forcurious/003.html#_19","title":"\u534f\u8bae\u7ed3\u6784","text":"<p>\u6bcf\u4e2a STUN \u6570\u636e\u5305\u90fd\u5177\u6709\u4ee5\u4e0b\u7ed3\u6784\uff1a</p> <pre><code> 0                   1                   2                   3\n 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n|0 0|     STUN Message Type     |         Message Length        |\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n|                         Magic Cookie                          |\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n|                                                               |\n|                     Transaction ID (96 bits)                  |\n|                                                               |\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n|                             Data                              |\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n</code></pre>"},{"location":"webrtc/forcurious/003.html#stun_1","title":"STUN \u6d88\u606f\u7c7b\u578b","text":"<p>\u6bcf\u4e2a STUN \u6570\u636e\u5305\u90fd\u6709\u4e00\u4e2a\u7c7b\u578b\u3002\u76ee\u524d\uff0c\u6211\u4eec\u4ec5\u5173\u5fc3\u4ee5\u4e0b\u51e0\u79cd\uff1a</p> <ul> <li>Binding Request - <code>0x0001</code></li> <li>Binding Response - <code>0x0101</code></li> </ul> <p>\u4e3a\u4e86\u521b\u5efa\u4e00\u4e2a NAT \u6620\u5c04\uff0c\u6211\u4eec\u53d1\u51fa\u4e00\u4e2a <code>Binding Request</code>\u3002\u7136\u540e\u670d\u52a1\u5668\u56de\u5e94\u4e00\u4e2a <code>Binding Response</code>\u3002</p>"},{"location":"webrtc/forcurious/003.html#_20","title":"\u6d88\u606f\u957f\u5ea6","text":"<p>\u8fd9\u5c31\u662f <code>Data</code> \u6bb5\u7684\u957f\u5ea6\u3002\u8fd9\u4e00\u6bb5\u4e2d\u5305\u542b\u7531<code>\u6d88\u606f\u7c7b\u578b</code>\u6240\u5b9a\u4e49\u7684\u4efb\u610f\u6570\u636e\u3002</p>"},{"location":"webrtc/forcurious/003.html#magic-cookie","title":"Magic Cookie","text":"<p>\u6307\u7684\u662f\u56fa\u5b9a\u503c <code>0x2112A442</code>\uff0c\u4ee5\u7f51\u7edc\u5b57\u8282\u987a\u5e8f\u53d1\u9001\u3002\u8fd9\u4e2a\u503c\u6709\u52a9\u4e8e\u5c06 STUN \u6d41\u91cf\u4e0e\u5176\u4ed6\u534f\u8bae\u533a\u5206\u5f00\u3002</p>"},{"location":"webrtc/forcurious/003.html#transactionid","title":"\u4ea4\u4e92\uff08Transaction\uff09ID","text":"<p>\u4e00\u4e2a 96-bit \u7684\u6807\u8bc6\u7b26\uff0c\u7528\u4e8e\u552f\u4e00\u6807\u8bc6\u4e00\u4e2a\u8bf7\u6c42 / \u54cd\u5e94\u5bf9\u3002\u8fd9\u53ef\u4ee5\u5e2e\u52a9\u4f60\u914d\u5bf9\u8bf7\u6c42\u548c\u54cd\u5e94\u3002</p>"},{"location":"webrtc/forcurious/003.html#_21","title":"\u6570\u636e","text":"<p>\u6570\u636e\u5c06\u5305\u542b\u4e00\u4e2a STUN \u5c5e\u6027\u7684\u5217\u8868\u3002\u4e00\u4e2a STUN \u5c5e\u6027\u5177\u6709\u4ee5\u4e0b\u7ed3\u6784\uff1a</p> <pre><code>0                   1                   2                   3\n 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n|         Type                  |            Length             |\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n|                         Value (variable)                ....\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n</code></pre> <p><code>STUN Binding Request</code> \u4e0d\u4f7f\u7528\u4efb\u4f55\u5c5e\u6027\u3002\u8fd9\u610f\u5473\u7740\u4e00\u4e2a <code>STUN Binding Request</code> \u4ec5\u5305\u542b header\u3002</p> <p><code>STUN Binding Response</code> \u4f7f\u7528\u4e00\u4e2a <code>XOR-MAPPED-ADDRESS (0x0020)</code>\u3002\u6b64\u5c5e\u6027\u5305\u542b\u4e00\u4e2a IP \u548c\u4e00\u4e2a\u7aef\u53e3\u3002\u8fd9\u6b63\u662f\u6240\u521b\u5efa\u7684 NAT \u6620\u5c04\u7684 IP \u548c\u7aef\u53e3\uff01</p>"},{"location":"webrtc/forcurious/003.html#nat_1","title":"\u521b\u5efa NAT \u6620\u5c04","text":"<p>\u4f7f\u7528 STUN \u521b\u5efa NAT \u6620\u5c04\u53ea\u9700\u8981\u53d1\u9001\u4e00\u4e2a\u8bf7\u6c42\uff01\u4f60\u5411 STUN \u670d\u52a1\u5668\u53d1\u9001\u4e00\u4e2a <code>STUN Binding Request</code>\u3002\u7136\u540e\uff0cSTUN \u670d\u52a1\u5668\u56de\u5e94\u4e00\u4e2a <code>STUN Binding Response</code>\u3002 \u8be5 <code>STUN Binding Response</code> \u5c06\u5305\u542b<code>\u6620\u5c04\u5730\u5740</code>\u3002<code>\u6620\u5c04\u5730\u5740</code>\u662f STUN \u670d\u52a1\u5668\u770b\u5230\u4f60\u7684\u65b9\u5f0f\uff0c\u4e5f\u662f\u4f60\u7684 <code>NAT \u6620\u5c04</code>\u3002 \u5982\u679c\u4f60\u5e0c\u671b\u67d0\u4eba\u5411\u4f60\u53d1\u9001\u6570\u636e\u5305\uff0c\u90a3\u4e48\u4f60\u5e94\u8be5\u5171\u4eab\u8be5<code>\u6620\u5c04\u5730\u5740</code>\u3002</p> <p>\u4eba\u4eec\u8fd8\u4f1a\u5c06<code>\u6620\u5c04\u5730\u5740</code>\u79f0\u4e3a<code>\u516c\u7f51 IP</code> \u6216 <code>Server Reflexive Candidate</code>\u3002</p>"},{"location":"webrtc/forcurious/003.html#nat_2","title":"\u786e\u5b9a NAT \u7c7b\u578b","text":"<p>\u4e0d\u5e78\u7684\u662f\uff0c<code>\u6620\u5c04\u5730\u5740</code>\u53ef\u80fd\u5e76\u975e\u5728\u6240\u6709\u60c5\u51b5\u4e0b\u90fd\u53ef\u7528\u3002\u5982\u679c\u662f<code>\u5730\u5740\u76f8\u5173\u7684\u6620\u5c04</code>\uff0c\u5219\u53ea\u6709 STUN \u670d\u52a1\u5668\u624d\u80fd\u5c06\u6d41\u91cf\u53d1\u9001\u56de\u7ed9\u4f60\u3002\u5982\u679c\u4f60\u5171\u4eab\u5b83\uff0c\u90a3\u4e48\u53e6\u4e00\u4e2a peer \u5c1d\u8bd5\u5411\u8be5\u5730\u5740\u53d1\u9001\u7684\u6d88\u606f\u5c06\u88ab\u4e22\u5f03\u3002\u8fd9\u4f7f\u5f97\u8be5 peer \u65e0\u6cd5\u4e0e\u522b\u7684 peer \u4ea4\u6d41\u3002\u5982\u679c STUN \u670d\u52a1\u5668\u8fd8\u53ef\u4ee5\u4e3a\u4f60\u5c06\u6570\u636e\u5305\u8f6c\u53d1\u7ed9\u5bf9\u7aef peer\uff0c\u4f60\u53ef\u80fd\u4f1a\u53d1\u73b0<code>\u5730\u5740\u76f8\u5173\u7684\u6620\u5c04</code>\u95ee\u9898\u5b9e\u9645\u4e0a\u662f\u53ef\u4ee5\u89e3\u51b3\u7684\uff01\u8fd9\u4e5f\u5c31\u662f\u4e0b\u9762\u5c06\u8981\u8bf4\u5230\u7684 TURN \u89e3\u51b3\u65b9\u6848\u3002</p> <p>RFC 5780\u5b9a\u4e49\u4e86\u4e00\u79cd\u65b9\u6cd5\uff0c\u53ef\u4ee5\u8fd0\u884c\u4e00\u4e2a\u6d4b\u8bd5\u6765\u786e\u5b9a\u4f60\u7684 NAT \u7c7b\u578b\u3002\u8fd9\u5f88\u6709\u7528\uff0c\u56e0\u4e3a\u4f60\u53ef\u80fd\u4f1a\u63d0\u524d\u77e5\u9053\u662f\u5426\u53ef\u4ee5\u8fdb\u884c\u76f4\u63a5\u8fde\u63a5\u3002</p>"},{"location":"webrtc/forcurious/003.html#turn","title":"TURN","text":"<p>\u5728\u65e0\u6cd5\u5efa\u7acb\u76f4\u63a5\u8fde\u63a5\u7684\u60c5\u51b5\u4e0b\uff0cRFC 8656\u4e2d\u5b9a\u4e49\u4e86 TURN\uff08\u4f7f\u7528\u4e2d\u7ee7\u7a7f\u900f NAT\uff09\u3002\u5f53\u4f60\u7684\u4e24\u4e2a peer \u7684 NAT \u7c7b\u578b\u4e0d\u517c\u5bb9\uff0c\u6216\u8005\u53cc\u65b9\u4f7f\u7528\u4e0d\u540c\u534f\u8bae\u65f6\uff0c\u5c31\u9700\u8981\u4f7f\u7528 TURN\uff01TURN \u4e5f\u53ef\u4ee5\u88ab\u7528\u4e8e\u4fdd\u62a4\u9690\u79c1\u7684\u76ee\u7684\u3002\u5982\u679c\u901a\u8fc7 TURN \u8fd0\u884c\u6240\u6709\u901a\u8baf\uff0c\u5ba2\u6237\u7684\u771f\u5b9e\u5730\u5740\u5728\u5bf9\u7aef\u662f\u88ab\u9690\u85cf\u7684\u3002</p> <p>TURN \u4f7f\u7528\u4e13\u7528\u670d\u52a1\u5668\u3002\u8be5\u670d\u52a1\u5668\u5145\u5f53\u5ba2\u6237\u7aef\u7684\u4ee3\u7406\u3002\u5ba2\u6237\u7aef\u8fde\u63a5\u5230 TURN \u670d\u52a1\u5668\u5e76\u521b\u5efa\u4e00\u4e2a\u5bf9\u5e94\u7684 <code>Allocation</code>\u3002\u901a\u8fc7\u521b\u5efa\u8be5 <code>Allocation</code>\uff0c\u5ba2\u6237\u7aef\u5c06\u83b7\u5f97\u4e00\u4e2a\u4e34\u65f6 <code>IP/ \u7aef\u53e3 / \u534f\u8bae</code>\u4e09\u5143\u7ec4\uff0c\u5176\u4ed6 peer \u53ef\u4ee5\u4f7f\u7528\u8be5 <code>IP/ \u7aef\u53e3 / \u534f\u8bae</code>\u5c06\u6570\u636e\u53d1\u9001\u7ed9\u8be5\u5ba2\u6237\u7aef\u3002\u8fd9\u4e2a\u65b0\u7684\u76d1\u542c\u5730\u5740\u88ab\u79f0\u4e3a<code>\u4e2d\u7ee7\u4f20\u8f93\u5730\u5740</code>\u3002\u4f60\u53ef\u5c06\u5176\u89c6\u4e3a\u8f6c\u53d1\u5730\u5740\u5e76\u5206\u4eab\u7ed9\u4ed6\u4eba\uff0c\u4ee5\u4fbf\u5176\u4ed6\u4eba\u53ef\u4ee5\u901a\u8fc7 TURN \u5411\u4f60\u53d1\u9001\u6d41\u91cf\uff01\u5bf9\u4e8e\u6bcf\u4e2a\u5c06\u83b7\u5f97\u8be5<code>\u4e2d\u7ee7\u4f20\u8f93\u5730\u5740</code>\u7684 peer\uff0c\u4f60\u5fc5\u987b\u4e3a\u5176\u521b\u5efa\u4e00\u4e2a\u65b0\u7684 <code>Permission</code>\uff0c\u4ee5\u5141\u8bb8\u5b83\u4e0e\u4f60\u8fdb\u884c\u901a\u4fe1\u3002</p> <p>\u5f53\u4f60\u901a\u8fc7 TURN \u53d1\u9001\u51fa\u7ad9\u6d41\u91cf\u65f6\uff0c\u5b83\u4f1a\u901a\u8fc7<code>\u4e2d\u7ee7\u4f20\u8f93\u5730\u5740</code>\u53d1\u9001\u3002\u5f53\u8fdc\u7a0b peer \u83b7\u5f97\u8be5\u51fa\u7ad9\u6d41\u91cf\u65f6\uff0c\u4ed6\u4eec\u4f1a\u770b\u5230\u6570\u636e\u6765\u81ea TURN \u670d\u52a1\u5668\u3002</p>"},{"location":"webrtc/forcurious/003.html#turn_1","title":"TURN \u751f\u547d\u5468\u671f","text":"<p>\u4e0b\u9762\u5c31\u662f\u4e00\u4e2a\u5ba2\u6237\u7aef\u521b\u5efa TURN <code>allocation</code> \u65f6\u5fc5\u987b\u505a\u7684\u6240\u6709\u4e8b\u60c5\u3002\u5bf9\u4e8e\u5176\u4ed6 peer \u800c\u8a00\uff0c\u4e0e\u4f7f\u7528 TURN \u670d\u52a1\u5668\u7684\u5ba2\u6237\u7aef\u8fdb\u884c\u901a\u4fe1\u548c\u5176\u4ed6\u5ba2\u6237\u7aef\u6ca1\u6709\u4efb\u4f55\u533a\u522b\uff0c\u5148\u83b7\u5f97 IP \u548c\u7aef\u53e3\uff0c\u7136\u540e\u50cf\u8ddf\u5176\u4ed6\u4efb\u4f55\u4e3b\u673a\u4e00\u6837\u901a\u4fe1\u3002</p>"},{"location":"webrtc/forcurious/003.html#allocations","title":"Allocations","text":"<p>Allocations \u662f TURN \u7684\u6838\u5fc3\u3002\u672c\u8d28\u4e0a\uff0c\u4e00\u4e2a <code>allocation</code> \u5c31\u662f\u4e00\u4e2a \"TURN \u4f1a\u8bdd \"\u3002\u8981\u521b\u5efa\u4e00\u4e2a TURN allocation\uff0c\u4f60\u9700\u8981\u4e0e TURN <code>Server Transport Address</code>\uff08\u670d\u52a1\u5668\u4f20\u8f93\u5730\u5740\uff0c\u901a\u5e38\u5728 3478 \u7aef\u53e3\uff09\u8fdb\u884c\u901a\u4fe1\u3002</p> <p>\u521b\u5efa allocation \u65f6\uff0c\u4f60\u9700\u8981\u63d0\u4f9b / \u786e\u5b9a\u4ee5\u4e0b\u5185\u5bb9\uff1a * \u7528\u6237\u540d / \u5bc6\u7801 - \u521b\u5efa TURN allocation \u65f6\u9700\u8981\u8eab\u4efd\u9a8c\u8bc1\u3002 * Allocation \u4f20\u8f93\u65b9\u5f0f - \u670d\u52a1\u5668\uff08<code>\u4e2d\u7ee7\u4f20\u8f93\u5730\u5740</code>\uff09\u4e0e peer \u4e4b\u95f4\u7684\u4f20\u8f93\u534f\u8bae\uff0c \u53ef\u4ee5\u662f UDP \u6216 TCP\u3002 * \u8fde\u7eed\u7aef\u53e3 - \u4f60\u53ef\u4ee5\u4e3a\u591a\u4e2a allocation \u8bf7\u6c42\u987a\u5e8f\u6392\u5217\u7684\u4e00\u7cfb\u5217\u7aef\u53e3\uff0c\u8fd9\u70b9\u4e0e WebRTC \u65e0\u5173\u3002</p> <p>\u5982\u679c\u8bf7\u6c42\u6210\u529f\uff0c\u4f60\u5c06\u5728 TURN \u670d\u52a1\u5668\u4e0a\u83b7\u5f97\u54cd\u5e94\uff0c\u5728\u54cd\u5e94\u7684\u6570\u636e\u90e8\u5206\uff0c\u5305\u542b\u4ee5\u4e0b\u7684 STUN \u5c5e\u6027\uff1a * <code>XOR-MAPPED-ADDRESS</code> - <code>TURN Client</code> \u7684 <code>Mapped Address</code>\u3002\u5f53\u6709\u4eba\u5c06\u6570\u636e\u53d1\u9001\u5230<code>\u4e2d\u7ee7\u4f20\u8f93\u5730\u5740</code>\u65f6\uff0c\u6570\u636e\u5c06\u88ab\u8f6c\u53d1\u5230\u8be5\u5730\u5740\u3002 * <code>RELAYED-ADDRESS</code> - \u8fd9\u662f\u4f60\u63d0\u4f9b\u7ed9\u5176\u4ed6\u5ba2\u6237\u7aef\u7684\u5730\u5740\u3002\u5982\u679c\u6709\u4eba\u5c06\u6570\u636e\u5305\u53d1\u9001\u5230\u8be5\u5730\u5740\uff0c\u6570\u636e\u5305\u4f1a\u88ab\u8f6c\u53d1\u5230 TURN \u5ba2\u6237\u7aef\u3002 * <code>LIFETIME</code> - Allocation \u88ab\u9500\u6bc1\u7684\u65f6\u95f4\u3002\u4f60\u53ef\u4ee5\u901a\u8fc7\u53d1\u9001 <code>Refresh</code> \u8bf7\u6c42\u6765\u5ef6\u957f\u8fd9\u4e00\u65f6\u95f4\u3002</p> <p>Note</p> <p>\u8bd1\u6ce8\uff1a\u4e0a\u9762\u4e24\u4e2a\u5730\u5740\u5f88\u62d7\u53e3\uff0c\u4f46\u5b9e\u9645\u4e0a\u7406\u89e3\u8d77\u6765\u5e76\u4e0d\u590d\u6742\u3002<code>Mapped Address</code> \u662f Turn Client \u7684\u5b9e\u9645\u5730\u5740\uff0c\u4e5f\u5c31\u662f Turn Server \u6536\u5230\u6570\u636e\u5305\u65f6\u7684<code>\u76ee\u6807\u5730\u5740</code>\u3002\u800c <code>Relayed Address</code> \u662f Turn Client \u7684\u540d\u4e49\u5730\u5740\uff0c\u4e5f\u5c31\u662f\u5176\u4ed6 WebRTC Agent \u8981\u53d1\u9001\u6570\u636e\u7ed9\u8fd9\u4e2a Turn Client \u65f6\uff0c\u6240\u4f7f\u7528\u7684\u5730\u5740\u3002</p>"},{"location":"webrtc/forcurious/003.html#_22","title":"\u6743\u9650","text":"<p>\u5728\u4f60\u4e3a\u8fdc\u7a0b\u4e3b\u673a\u521b\u5efa\u6743\u9650\u4e4b\u524d\uff0c\u8fdc\u7a0b\u4e3b\u673a\u662f\u65e0\u6cd5\u901a\u8fc7\u4f60\u7684<code>\u4e2d\u7ee7\u4f20\u8f93\u5730\u5740</code>\u53d1\u9001\u6570\u636e\u7684\u3002\u6240\u8c13\u521b\u5efa\u6743\u9650\uff0c\u5373\u662f\u544a\u77e5 TURN \u670d\u52a1\u5668\u4e00\u4e2a \" \u53ef\u4ee5\u7528\u6765\u53d1\u9001\u5165\u7ad9\u6d41\u91cf \" \u7684 IP \u548c\u7aef\u53e3\u3002</p> <p>\u8fdc\u7a0b\u4e3b\u673a\u9700\u8981\u5148\u4e3a\u4f60\u63d0\u4f9b TURN \u670d\u52a1\u5668\u4e0a\u4f7f\u7528\u7684 IP \u548c\u7aef\u53e3\u3002\u8fd9\u610f\u5473\u7740\u5b83\u5e94\u8be5\u5148\u5411 TURN \u670d\u52a1\u5668\u53d1\u9001\u4e00\u4e2a <code>STUN \u7ed1\u5b9a\u8bf7\u6c42</code>\u3002 \u6709\u65f6\u4f1a\u53d1\u751f\u8fd9\u6837\u4e00\u4e2a\u5e38\u89c1\u7684\u9519\u8bef\u60c5\u51b5\uff0c\u5373\u662f\u8fdc\u7a0b\u4e3b\u673a\u53d1\u9001 <code>STUN \u7ed1\u5b9a\u8bf7\u6c42</code>\u5230\u53e6\u5916\u4e00\u53f0\u670d\u52a1\u5668\uff0c\u7136\u540e\u518d\u8981\u6c42 TURN \u670d\u52a1\u5668\u4e3a\u6b64 IP \u521b\u5efa\u6743\u9650\u3002</p> <p>\u5bf9\u4e8e\u4e0a\u9762\u90a3\u79cd\u9519\u8bef\u60c5\u51b5\uff0c\u5047\u8bbe\u4f60\u8981\u4e3a\u4e00\u4e2a\u4f7f\u7528<code>\u5730\u5740\u76f8\u5173\u7684\u6620\u5c04</code>\u7684 NAT \u7f51\u7edc\u7684\u4e3b\u673a\u521b\u5efa\u6743\u9650\uff0c\u5982\u679c\u4f60\u4ece\u5176\u4ed6 TURN \u670d\u52a1\u5668\u751f\u6210<code>\u6620\u5c04\u5730\u5740</code>\uff0c\u5219\u6240\u6709\u5165\u7ad9\u6d41\u91cf\u90fd\u5c06\u88ab\u4e22\u5f03\u3002\u56e0\u4e3a\u6bcf\u6b21\u4ed6\u4eec\u4e0e\u5176\u4ed6\u4e3b\u673a\u901a\u4fe1\u65f6\uff0c\u5b83\u90fd\u4f1a\u751f\u6210\u4e00\u4e2a\u65b0\u7684\u6620\u5c04\u3002\u5982\u679c\u672a\u88ab\u5237\u65b0\uff0c\u6743\u9650\u5c06\u5728 5 \u5206\u949f\u540e\u8fc7\u671f\u3002</p> <p>Note</p> <p>\u8bd1\u6ce8\uff1a\u5bf9\u4e8e\u8fd9\u4e2a\u5e38\u89c1\u7684\u9519\u8bef\u60c5\u51b5\uff0c\u5b9e\u9645\u6307\u7684\u662f\u88ab\u8fde\u63a5\u7684\u4e3b\u673a\u4ece TURN \u670d\u52a1\u5668\u4ee5\u5916\u7684 STUN/TURN \u670d\u52a1\u5668\u83b7\u53d6\u672c\u673a IP\uff0c\u518d\u544a\u77e5\u53d1\u8d77\u8fde\u63a5\u7684\u4e3b\u673a\u8fd9\u6837\u7684\u60c5\u51b5\u3002\u5f53\u88ab\u8fde\u63a5\u7684\u4e3b\u673a\u4f7f\u7528<code>\u5730\u5740\u76f8\u5173\u7684\u6620\u5c04</code>\u7c7b\u578b\u7684 NAT \u65f6\uff0c\u5b83\u83b7\u53d6\u7684 IP \u5728\u5f53\u524d\u7684 TURN \u670d\u52a1\u5668\u4e0a\u662f\u65e0\u6548\u7684\u3002</p>"},{"location":"webrtc/forcurious/003.html#sendindicationchanneldata","title":"SendIndication/ChannelData","text":"<p>\u8fd9\u662f TURN \u5ba2\u6237\u7aef\u5c06\u6d88\u606f\u53d1\u9001\u5230\u8fdc\u7aef peer \u65f6\u6240\u4f7f\u7528\u7684\u4e24\u4e2a\u6d88\u606f\u3002</p> <p>SendIndication \u662f\u4e00\u4e2a\u81ea\u5305\u542b\u7684\u6d88\u606f\u3002\u5b83\u5305\u542b\u4f60\u5e0c\u671b\u53d1\u9001\u7684\u6570\u636e\uff0c\u4ee5\u53ca\u4f60\u5e0c\u671b\u53d1\u9001\u7684\u76ee\u6807\u3002\u5982\u679c\u4f60\u8981\u5411\u8fdc\u7aef peer \u53d1\u9001\u5927\u91cf\u6d88\u606f\u7684\u8bdd\uff0c\u8fd9\u79cd\u65b9\u5f0f\u5f88\u6602\u8d35\u3002\u56e0\u4e3a\u5982\u679c\u8981\u53d1\u9001 1,000 \u6761\u6d88\u606f\uff0c\u76ee\u6807 IP \u5730\u5740\u5c31\u88ab\u91cd\u590d\u4e86 1,000 \u6b21\uff01</p> <p>ChannelData \u5141\u8bb8\u4f60\u53d1\u9001\u6570\u636e\uff0c\u4f46\u4e0d\u9700\u8981\u91cd\u590d IP \u5730\u5740\u3002\u4f60\u9700\u8981\u5148\u521b\u5efa\u4e00\u4e2a\u5177\u6709 IP \u548c\u7aef\u53e3\u7684\u901a\u9053\uff08Channel\uff09\u3002\u7136\u540e\u4f7f\u7528 ChannelId \u53d1\u9001\uff0cIP \u548c\u7aef\u53e3\u5c06\u5728\u670d\u52a1\u5668\u7aef\u88ab\u586b\u5145\u8fdb\u53bb\u3002\u5982\u679c\u4f60\u8981\u53d1\u9001\u5927\u91cf\u6d88\u606f\uff0c\u8fd9\u662f\u66f4\u597d\u7684\u9009\u62e9\u3002</p>"},{"location":"webrtc/forcurious/003.html#_23","title":"\u5237\u65b0","text":"<p>Allocations \u5c06\u81ea\u52a8\u9500\u6bc1\u3002\u8981\u907f\u514d\u5176\u8fc7\u65e9\u9500\u6bc1\uff0cTURN \u5ba2\u6237\u7aef\u5fc5\u987b\u5728\u521b\u5efa allocation \u65f6\u6307\u5b9a\u7684 <code>LIFETIME</code> \u5230\u6765\u4e4b\u524d\uff0c\u53ca\u65f6\u5237\u65b0\u5b83\u4eec\u3002</p>"},{"location":"webrtc/forcurious/003.html#turn_2","title":"TURN \u4f7f\u7528\u65b9\u6cd5","text":"<p>TURN \u6709\u4e24\u79cd\u7528\u6cd5\u3002\u901a\u5e38\u60c5\u51b5\u4e0b\uff0c\u4e00\u4e2a peer \u4f1a\u4f5c\u4e3a \"TURN \u5ba2\u6237\u7aef \" \u8fde\u63a5\uff0c\u800c\u53e6\u4e00\u65b9\u5219\u76f4\u63a5\u8fdb\u884c\u901a\u4fe1\u3002\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c\u4f60\u53ef\u80fd\u5728\u4e24\u4fa7\u90fd\u9700\u8981\u4f7f\u7528 TURN \u670d\u52a1\u3002\u4e3e\u4f8b\u6765\u8bf4\uff0c\u5f53\u4e24\u4e2a\u5ba2\u6237\u7aef\u90fd\u4f4d\u4e8e\u5728\u7981\u7528 UDP \u7684\u7f51\u7edc\u4e2d\u65f6\uff0c\u53ea\u80fd\u901a\u8fc7 TCP \u8fde\u63a5\u5230\u5404\u81ea\u7684 TURN \u670d\u52a1\u5668\u6765\u5efa\u7acb\u8fde\u63a5\u3002</p> <p>\u4e0b\u9762\u8fd9\u4e9b\u56fe\u6709\u52a9\u4e8e\u8bf4\u660e TURN \u7684\u7528\u6cd5\u3002</p>"},{"location":"webrtc/forcurious/003.html#turn-allocation","title":"\u5355\u4e2a TURN Allocation \u901a\u4fe1","text":""},{"location":"webrtc/forcurious/003.html#turn-allocation_1","title":"\u53cc\u91cd TURN Allocation \u901a\u4fe1","text":"<p>Note</p> <p>\u8bd1\u6ce8\uff1a\u5355\u4e2a TURN Allocation \u7684\u60c5\u51b5\uff0c\u6307\u7684\u662f\u4e00\u4e2a TURN Client \u548c\u53e6\u4e00\u4e2a\u53ef\u8bbf\u95ee\u7684 UDP Client \u7684\u901a\u4fe1\u3002\u53cc\u91cd TURN Allocation \u7684\u60c5\u51b5\uff0c\u6307\u7684\u662f\u4e24\u4e2a TURN Client \u4e4b\u95f4\u901a\u4fe1\u3002</p>"},{"location":"webrtc/forcurious/003.html#ice","title":"ICE","text":"<p>ICE\uff08\u4ea4\u4e92\u5f0f\u8fde\u63a5\u5efa\u7acb\uff09\u662f WebRTC \u8fde\u63a5\u4e24\u4e2a Agent \u7684\u65b9\u5f0f\u3002\u8fd9\u4e5f\u662f\u4e00\u9879 WebRTC \u524d\u5c31\u6709\u7684\u6280\u672f\uff0c\u5728RFC 8445\u4e2d\u5b9a\u4e49\uff01ICE \u662f\u7528\u4e8e\u5efa\u7acb\u8fde\u63a5\u7684\u534f\u8bae\u3002\u5b83\u4f1a\u786e\u5b9a\u4e24\u4e2a peer \u4e4b\u95f4\u6240\u6709\u53ef\u80fd\u7684\u8def\u7531\uff0c\u7136\u540e\u786e\u4fdd\u4f60\u4fdd\u6301\u8fde\u63a5\u72b6\u6001\u3002</p> <p>\u8fd9\u4e9b\u8def\u7531\u88ab\u79f0\u4e3a <code>Candidate Pair\uff08\u5019\u9009\u5730\u5740\u5bf9\uff09</code>\uff0c\u4e5f\u5c31\u662f\u672c\u5730\u5730\u5740\u548c\u8fdc\u7a0b\u5730\u5740\u7684\u914d\u5bf9\u3002\u8fd9\u5c31\u662f STUN \u548c TURN \u5728 ICE \u4e2d\u53d1\u6325\u4f5c\u7528\u7684\u5730\u65b9\u3002\u8fd9\u4e9b\u5730\u5740\u53ef\u4ee5\u662f\u4f60\u7684\u672c\u5730 IP \u5730\u5740\uff0c<code>NAT \u6620\u5c04</code>\u6216<code>\u4e2d\u7ee7\u4f20\u8f93\u5730\u5740</code>\u3002\u901a\u4fe1\u53cc\u65b9\u9700\u8981\u6536\u96c6\u5b83\u4eec\u8981\u4f7f\u7528\u7684\u6240\u6709\u5730\u5740\uff0c\u4ea4\u6362\u8fd9\u4e9b\u5730\u5740\uff0c\u7136\u540e\u5c1d\u8bd5\u8fde\u63a5\uff01</p> <p>\u4e24\u4e2a ICE Agent \u4f7f\u7528 ICE ping \u6570\u636e\u5305\uff08\u6b63\u5f0f\u540d\u79f0\u4e3a\u8fde\u901a\u6027\u68c0\u67e5\uff09\u901a\u4fe1\u4ee5\u5efa\u7acb\u8fde\u63a5\u3002\u4e00\u65e6\u5efa\u7acb\u8fde\u63a5\u540e\uff0c\u4ed6\u4eec\u5c31\u53ef\u4ee5\u53d1\u9001\u4efb\u4f55\u6570\u636e\u3002\u611f\u89c9\u5c31\u50cf\u4f7f\u7528\u666e\u901a socket \u4e00\u6837\u3002\u8fde\u901a\u6027\u68c0\u67e5\u4f7f\u7528 STUN \u534f\u8bae\u3002</p>"},{"location":"webrtc/forcurious/003.html#ice-agent","title":"\u521b\u5efa ICE Agent","text":"<p>ICE Agent \u8981\u4e48\u5904\u4e8e<code>\u63a7\u5236\u4e2d</code>\uff0c\u8981\u4e48\u5904\u4e8e<code>\u53d7\u63a7\u4e2d</code>\u3002<code>\u63a7\u5236\u4e2d</code>\u7684 Agent \u662f\u51b3\u5b9a\u9009\u62e9<code>\u5019\u9009\u5bf9</code>\u7684 Agent\u3002\u901a\u5e38\u6765\u8bf4\uff0c\u53d1\u9001 offer \u7684 peer \u662f<code>\u63a7\u5236\u4e2d</code>\u7684\u4e00\u65b9\u3002</p> <p>\u6bcf\u4e00\u65b9\u90fd\u5fc5\u987b\u6709\u4e00\u4e2a<code>\u7528\u6237\u7247\u6bb5</code>\u548c\u4e00\u4e2a<code>\u5bc6\u7801</code>\u3002\u5fc5\u987b\u5148\u4ea4\u6362\u8fd9\u4e24\u4e2a\u503c\uff0c\u63a5\u4e0b\u6765\u624d\u80fd\u8fdb\u884c\u8fde\u63a5\u6027\u68c0\u67e5\u3002<code>\u7528\u6237\u7247\u6bb5</code>\u4ee5\u7eaf\u6587\u672c\u5f62\u5f0f\u53d1\u9001\uff0c\u7528\u4e8e\u591a\u4e2a ICE \u4f1a\u8bdd\u7684\u89e3\u590d\u7528\uff08demux\uff09\u3002 <code>\u5bc6\u7801</code>\u7528\u4e8e\u751f\u6210 <code>MESSAGE-INTEGRITY</code> \u5c5e\u6027\u3002\u5728\u6bcf\u4e2a STUN \u6570\u636e\u5305\u7684\u672b\u5c3e\uff0c\u90fd\u6709\u8fd9\u4e2a\u5c5e\u6027\uff0c\u8be5\u5c5e\u6027\u662f\u4f7f\u7528<code>\u5bc6\u7801</code>\u4f5c\u4e3a\u5bc6\u94a5\u7684\u6574\u4e2a\u6570\u636e\u5305\u7684\u54c8\u5e0c\u503c\u3002\u8fd9\u7528\u4e8e\u9a8c\u8bc1\u6570\u636e\u5305\u5e76\u786e\u4fdd\u5b83\u672a\u88ab\u7be1\u6539\u3002</p> <p>\u5bf9\u4e8e WebRTC\uff0c\u6240\u6709\u8fd9\u4e9b\u503c\u90fd\u901a\u8fc7\u4e0a\u4e00\u7ae0\u4e2d\u6240\u8ff0\u7684<code>\u4f1a\u8bdd\u63cf\u8ff0</code>\u8fdb\u884c\u5206\u53d1\u3002</p>"},{"location":"webrtc/forcurious/003.html#_24","title":"\u5019\u9009\u5730\u5740\u6536\u96c6","text":"<p>\u73b0\u5728\uff0c\u6211\u4eec\u9700\u8981\u6536\u96c6\u6240\u6709\u53ef\u80fd\u8054\u901a\u7684\u5730\u5740\u3002\u8fd9\u4e9b\u5730\u5740\u88ab\u79f0\u4e3a\u5019\u9009\u5730\u5740 (Candidate)\u3002</p>"},{"location":"webrtc/forcurious/003.html#_25","title":"\u4e3b\u673a","text":"<p>\u4e3b\u673a\u5019\u9009\u5730\u5740\u76f4\u63a5\u5728\u672c\u5730\u63a5\u53e3\u4e0a\u4fa6\u542c\u3002\u53ef\u4ee5\u662f UDP \u6216 TCP \u65b9\u5f0f\u3002</p>"},{"location":"webrtc/forcurious/003.html#mdns","title":"mDNS","text":"<p>mDNS \u5019\u9009\u5730\u5740\u7c7b\u4f3c\u4e8e\u4e3b\u673a\u5019\u9009\u5730\u5740\uff0c\u4f46\u662f\u5176 IP \u5730\u5740\u662f\u9690\u85cf\u7684\u3002\u4f60\u4e0d\u5fc5\u7ed9\u5bf9\u65b9\u63d0\u4f9b\u4f60\u7684 IP \u5730\u5740\uff0c\u53ea\u9700\u8981\u7ed9\u4ed6\u4eec\u63d0\u4f9b\u4e00\u4e2a UUID \u4f5c\u4e3a\u4e3b\u673a\u540d\u3002\u7136\u540e\u8bbe\u7f6e\u4e00\u4e2a\u591a\u64ad\u76d1\u542c\u5668\uff0c\u5e76\u5728\u6709\u4eba\u8bf7\u6c42\u4f60\u53d1\u5e03\u7684 UUID \u65f6\u8fdb\u884c\u54cd\u5e94\u3002</p> <p>\u5982\u679c\u4f60\u4e0e Agent \u4f4d\u4e8e\u540c\u4e00\u7f51\u7edc\u4e2d\uff0c\u5219\u53ef\u4ee5\u901a\u8fc7\u591a\u64ad\u627e\u5230\u5f7c\u6b64\u3002\u5982\u679c\u4e0d\u5728\u540c\u4e00\u7f51\u7edc\u4e2d\uff0c\u5219\u5c06\u65e0\u6cd5\u8fde\u63a5\uff08\u9664\u975e\u7f51\u7edc\u7ba1\u7406\u5458\u660e\u786e\u914d\u7f6e\u7f51\u7edc\u4ee5\u5141\u8bb8\u591a\u64ad\u6570\u636e\u5305\u901a\u8fc7\uff09\u3002</p> <p>\u8fd9\u5bf9\u4e8e\u4fdd\u62a4\u9690\u79c1\u5f88\u6709\u7528\u3002\u4ee5\u524d\uff0c\u7528\u6237\u53ef\u4ee5\u901a\u8fc7 WebRTC \u4f7f\u7528\u4e3b\u673a\u5019\u9009\u5730\u5740\uff08\u751a\u81f3\u65e0\u9700\u5c1d\u8bd5\u4e0e\u4f60\u8fde\u63a5\uff09\u6765\u627e\u51fa\u4f60\u7684\u672c\u5730 IP \u5730\u5740\u3002\u800c\u4f7f\u7528 mDNS \u5019\u9009\u5730\u5740\u7684\u8bdd\uff0c\u4ed6\u4eec\u53ea\u80fd\u83b7\u5f97\u968f\u673a\u7684 UUID\u3002</p>"},{"location":"webrtc/forcurious/003.html#server-reflextive","title":"\u670d\u52a1\u5668\u81ea\u53cd\uff08Server Reflextive\uff09","text":"<p>\u670d\u52a1\u5668\u81ea\u53cd\u5019\u9009\u5730\u5740\u662f\u901a\u8fc7\u5bf9 STUN \u670d\u52a1\u5668\u6267\u884c <code>STUN \u7ed1\u5b9a\u8bf7\u6c42</code>\u65f6\u751f\u6210\u7684\u3002</p> <p>\u5f53\u4f60\u6536\u5230 <code>STUN \u7ed1\u5b9a\u54cd\u5e94</code>\u65f6\uff0c<code>XOR-MAPPED-ADDRESS</code> \u5c31\u662f\u4f60\u7684\u670d\u52a1\u5668\u81ea\u53cd\u5019\u9009\u5730\u5740\u3002</p>"},{"location":"webrtc/forcurious/003.html#peer","title":"Peer \u81ea\u53cd","text":"<p>Peer \u81ea\u53cd\u5019\u9009\u5730\u5740\u662f\u6307\uff0c\u5f53\u4f60\u4ece\u4f60\u4e0d\u77e5\u9053\u7684\u5730\u5740\u6536\u5230\u5165\u7ad9\u8bf7\u6c42\u65f6\uff0c\u7531\u4e8e ICE \u662f\u7ecf\u8fc7\u8eab\u4efd\u9a8c\u8bc1\u7684\u534f\u8bae\uff0c\u56e0\u6b64\u4f60\u77e5\u9053\u8fd9\u4e9b\u4f20\u8f93\u662f\u5408\u6cd5\u7684\uff0c\u8fd9\u53ea\u662f\u610f\u5473\u7740\u8fdc\u7aef Peer \u662f\u901a\u8fc7\u5b83\u4e5f\u4e0d\u77e5\u9053\u7684\u5730\u5740\u4e0e\u4f60\u901a\u4fe1\u3002</p> <p>\u8fd9\u901a\u5e38\u4f1a\u53d1\u751f\u5728\u8fd9\u6837\u7684\u60c5\u51b5\u4e0b\uff0c\u5f53<code>\u4e3b\u673a\u5019\u9009\u5730\u5740</code>\u4e0e<code>\u670d\u52a1\u5668\u81ea\u53cd\u5019\u9009\u5730\u5740</code>\u8fdb\u884c\u901a\u4fe1\u65f6\uff0c\u7531\u4e8e\u4f60\u662f\u5728\u5b50\u7f51\u5916\u90e8\u8fdb\u884c\u901a\u4fe1\uff0c\u56e0\u6b64\u521b\u5efa\u4e86\u4e00\u4e2a\u65b0\u7684 <code>NAT \u6620\u5c04</code>\u3002\u8fd8\u8bb0\u5f97\u6211\u4eec\u8bf4\u8fc7\u7684\u8fde\u901a\u6027\u68c0\u67e5\u5b9e\u9645\u4e0a\u662f STUN \u6570\u636e\u5305\u5417\uff1fSTUN \u54cd\u5e94\u7684\u683c\u5f0f\u81ea\u7136\u5141\u8bb8 peer \u62a5\u544a Peer \u81ea\u53cd\u5730\u5740\u3002</p>"},{"location":"webrtc/forcurious/003.html#_26","title":"\u4e2d\u7ee7","text":"<p>\u4e2d\u7ee7\u5019\u9009\u5730\u5740\u662f\u901a\u8fc7\u4f7f\u7528 TURN \u670d\u52a1\u5668\u751f\u6210\u7684\u3002</p> <p>\u5728\u4e0e TURN \u670d\u52a1\u5668\u8fdb\u884c\u521d\u59cb\u63e1\u624b\u4e4b\u540e\uff0c\u4f60\u5c06\u83b7\u5f97 <code>RELAYED-ADDRESS</code>\uff0c\u8fd9\u5c31\u662f\u4f60\u7684\u4e2d\u7ee7\u5019\u9009\u5730\u5740\u3002</p>"},{"location":"webrtc/forcurious/003.html#_27","title":"\u8fde\u901a\u6027\u68c0\u67e5","text":"<p>\u73b0\u5728\u6211\u4eec\u77e5\u9053\u4e86\u8fdc\u7a0b Agent \u7684<code>\u7528\u6237\u7247\u6bb5</code>\uff0c<code>\u5bc6\u7801</code>\u548c\u5019\u9009\u5730\u5740\u3002\u6211\u4eec\u53ef\u4ee5\u5c1d\u8bd5\u8fde\u63a5\u4e86\uff01 \u5019\u9009\u5730\u5740\u53ef\u4ee5\u76f8\u4e92\u914d\u5bf9\u3002\u56e0\u6b64\uff0c\u5982\u679c\u6bcf\u8fb9\u6709 3 \u4e2a\u5019\u9009\u5730\u5740\uff0c\u90a3\u4e48\u73b0\u5728\u5c31\u6709 9 \u4e2a\u5019\u9009\u5730\u5740\u5bf9\u3002</p> <p>\u770b\u8d77\u6765\u50cf\u8fd9\u6837</p> <p></p>"},{"location":"webrtc/forcurious/003.html#_28","title":"\u5019\u9009\u5730\u5740\u9009\u62e9","text":"<p><code>\u63a7\u5236\u4e2d</code>\u7684 Agent \u548c<code>\u53d7\u63a7\u4e2d</code>\u7684 Agent \u90fd\u5f00\u59cb\u5728\u6bcf\u4e2a\u5019\u9009\u5730\u5740\u5bf9\u4e0a\u53d1\u9001\u6d41\u91cf\u6570\u636e\u3002\u8fd9\u6837\u662f\u5fc5\u987b\u7684\uff0c\u56e0\u4e3a\u5982\u679c\u4e00\u4e2a Agent \u4f4d\u4e8e\u4e00\u4e2a<code>\u5730\u5740\u76f8\u5173\u6620\u5c04</code>\u7684\u7f51\u7edc\u4e2d\uff0c\u8fd9\u6837\u4f1a\u521b\u5efa <code>Peer \u81ea\u53cd\u5019\u9009\u5730\u5740</code>\u3002</p> <p>\u6bcf\u4e2a\u6536\u5230\u6d41\u91cf\u6570\u636e\u7684<code>\u5019\u9009\u5730\u5740\u5bf9</code>\uff0c\u4f1a\u88ab\u63d0\u5347\u4e3a<code>\u6709\u6548\u5019\u9009\u5730\u5740</code>\u5bf9\u3002\u63a5\u4e0b\u6765\uff0c<code>\u63a7\u5236\u4e2d</code>\u7684 Agent \u5c06\u6307\u5b9a\u4e00\u4e2a<code>\u6709\u6548\u5019\u9009\u5730\u5740</code>\u5bf9\u3002\u8fd9\u5c31\u662f<code>\u63d0\u540d\u5019\u9009\u5730\u5740\u5bf9</code>\u3002\u7136\u540e\uff0c<code>\u63a7\u5236\u4e2d</code>\u7684 Agent \u548c<code>\u53d7\u63a7\u4e2d</code>\u7684 Agent \u518d\u5c1d\u8bd5\u8fdb\u884c\u4e00\u8f6e\u53cc\u5411\u901a\u4fe1\u3002\u5982\u679c\u6210\u529f\uff0c\u5219<code>\u63d0\u540d\u5019\u9009\u5730\u5740\u5bf9</code>\u5c06\u6210\u4e3a<code>\u9009\u5b9a\u7684\u5019\u9009\u5730\u5740\u5bf9</code>\uff01\u5b83\u5c06\u88ab\u7528\u4e8e\u540e\u9762\u7684\u4f1a\u8bdd\u4e2d\u3002</p>"},{"location":"webrtc/forcurious/003.html#_29","title":"\u91cd\u65b0\u542f\u52a8","text":"<p>\u5982\u679c<code>\u9009\u5b9a\u7684\u5019\u9009\u5730\u5740\u5bf9</code>\u7531\u4e8e\u4efb\u4f55\u539f\u56e0\u505c\u6b62\u5de5\u4f5c\uff08\u5982\uff1aNAT \u6620\u5c04\u5230\u671f\uff0cTURN \u670d\u52a1\u5668\u5d29\u6e83\u7b49\uff09\uff0c\u5219 ICEAgent \u5c06\u8fdb\u5165<code>\u5931\u8d25</code>\u72b6\u6001\u3002\u6b64\u65f6\u53ef\u4ee5\u91cd\u65b0\u542f\u52a8\u4e24\u4e2a Agent\uff0c\u7136\u540e\u91cd\u65b0\u5b8c\u6574\u6267\u884c\u6574\u4e2a\u8fc7\u7a0b\u3002</p>"},{"location":"webrtc/forcurious/004.html","title":"\u5b89\u5168\u6027","text":""},{"location":"webrtc/forcurious/004.html#webrtc","title":"WebRTC \u5177\u6709\u54ea\u4e9b\u5b89\u5168\u6027\u4fdd\u969c\uff1f","text":"<p>\u6bcf\u4e2a WebRTC \u8fde\u63a5\u90fd\u7ecf\u8fc7\u8eab\u4efd\u9a8c\u8bc1\u548c\u52a0\u5bc6\u3002\u4f60\u53ef\u4ee5\u786e\u4fe1\u7b2c\u4e09\u65b9\u770b\u4e0d\u5230\u4f60\u53d1\u9001\u7684\u5185\u5bb9\uff0c\u4e5f\u65e0\u6cd5\u63d2\u5165\u865a\u5047\u6d88\u606f\u3002\u4f60\u8fd8\u53ef\u4ee5\u786e\u4fdd\u4e0e\u4f60\u8fdb\u884c\u901a\u4fe1\u7684 WebRTC Agent \u6b63\u662f\u751f\u6210\u4f1a\u8bdd\u63cf\u8ff0\u7684 Agent\u3002</p> <p>\u6ca1\u6709\u4eba\u80fd\u591f\u7be1\u6539\u6d88\u606f\u8fd9\u4e00\u70b9\u975e\u5e38\u91cd\u8981\u3002\u5982\u679c\u7b2c\u4e09\u65b9\u5728\u4f20\u8f93\u4e2d\u8bfb\u53d6\u4e86\u4f1a\u8bdd\u63cf\u8ff0\uff0c\u8fd9\u4e0d\u4f1a\u4ea7\u751f\u4ec0\u4e48\u5f71\u54cd\u3002\u7136\u800c\uff0cWebRTC \u65e0\u6cd5\u9632\u6b62\u4f1a\u8bdd\u63cf\u8ff0\u88ab\u4fee\u6539\u3002\u653b\u51fb\u8005\u53ef\u4ee5\u901a\u8fc7\u66f4\u6539 ICE \u5019\u9009\u5730\u5740\u548c\u8bc1\u4e66\u6307\u7eb9\u6765\u5bf9\u4f60\u8fdb\u884c\u4e2d\u95f4\u4eba\u653b\u51fb\uff08man-in-the-middle\uff09\u3002</p> <p>Note</p> <p>\u8bd1\u6ce8\uff1a\u8fd9\u91cc\u6307\u7684\u662f\uff0cP2P \u8fde\u63a5\u5efa\u7acb\u4e4b\u540e\uff0c\u53cc\u65b9\u4e4b\u95f4\u7684\u901a\u4fe1\u5b89\u5168\u662f\u6709\u4fdd\u969c\u7684\u3002\u4f46\u5728\u8fde\u63a5\u5efa\u7acb\u7684\u8fc7\u7a0b\u4e2d\uff0c\u653b\u51fb\u8005\u53ef\u4ee5\u901a\u8fc7 man-in-the-middle \u65b9\u5f0f\u4f2a\u88c5\u4e2d\u95f4\u4eba\u540c\u65f6\u4e0e\u901a\u4fe1\u53cc\u65b9\u5efa\u7acb\u8fde\u63a5\u5e76\u901a\u4fe1\u3002</p>"},{"location":"webrtc/forcurious/004.html#_2","title":"\u5b83\u662f\u5982\u4f55\u505a\u5230\u7684\uff1f","text":"<p>WebRTC \u4f7f\u7528\u4e24\u4e2a\u9884\u5148\u5b58\u5728\u7684\u534f\u8bae\uff0c\u6570\u636e\u62a5\u4f20\u8f93\u5c42\u5b89\u5168\uff08Datagram Transport Layer Security / DTLS\uff09\u548c \u5b89\u5168\u5b9e\u65f6\u4f20\u8f93\u534f\u8bae\uff08Secure Real-time Transport Protocol / SRTP\uff09\u3002</p> <p>DTLS \u4f7f\u4f60\u53ef\u4ee5\u534f\u5546\u4f1a\u8bdd\uff0c\u7136\u540e\u5728\u4e24\u4e2a peer \u4e4b\u95f4\u5b89\u5168\u5730\u4ea4\u6362\u6570\u636e\u3002\u5b83\u662f TLS \u7684\u540c\u7c7b\u4ea7\u54c1\uff0cTLS \u662f HTTPS \u6240\u4f7f\u7528\u7684\u6280\u672f\uff0c\u800c DTLS \u4e0e TLS \u7684\u533a\u522b\u4ec5\u5728\u4e0e\u5176\u4f7f\u7528 UDP \u800c\u4e0d\u662f TCP \u4f5c\u4e3a\u5176\u4f20\u8f93\u5c42\u3002\u8fd9\u4e5f\u610f\u5473\u7740 DTLS \u534f\u8bae\u5fc5\u987b\u5904\u7406\u4e0d\u53ef\u9760\u7684\u6570\u636e\u4f20\u8f93\u3002SRTP \u662f\u4e13\u4e3a\u5b89\u5168\u7684\u4ea4\u6362\u5a92\u4f53\u6570\u636e\u800c\u8bbe\u8ba1\u7684\u3002\u76f8\u5bf9\u4e8e DTLS \u800c\u8a00\uff0c\u4f7f\u7528 SRTP \u5bf9\u4f20\u8f93\u5a92\u4f53\u6570\u636e\u6709\u4e00\u4e9b\u4f18\u5316\u3002</p> <p>DTLS \u5148\u88ab\u4f7f\u7528\u3002\u5b83\u901a\u8fc7 ICE \u63d0\u4f9b\u7684\u8fde\u63a5\u8fdb\u884c\u4e00\u6b21\u63e1\u624b\u3002DTLS \u662f\u4e00\u79cd\u5ba2\u6237\u7aef / \u670d\u52a1\u5668\u534f\u8bae\uff0c\u56e0\u6b64\u5176\u4e2d\u4e00\u4fa7\u9700\u8981\u5f00\u59cb\u63e1\u624b\u3002\u5ba2\u6237\u7aef / \u670d\u52a1\u5668\u7684\u89d2\u8272\u662f\u5728\u4fe1\u4ee4\u4e2d\u88ab\u786e\u5b9a\u7684\u3002\u5728 DTLS \u63e1\u624b\u671f\u95f4\uff0c\u53cc\u65b9\u90fd\u4f1a\u63d0\u4f9b\u8bc1\u4e66\u3002 \u63e1\u624b\u5b8c\u6210\u540e\uff0c\u9700\u8981\u5c06\u6536\u5230\u7684\u8bc1\u4e66\u4e0e<code>\u4f1a\u8bdd\u63cf\u8ff0</code>\u4e2d\u7684\u8bc1\u4e66\u54c8\u5e0c\u8fdb\u884c\u6bd4\u8f83\u3002\u8fd9\u662f\u4e3a\u4e86\u786e\u5b9a\u63e1\u624b\u7684\u76ee\u6807\u5c31\u662f\u4f60\u6240\u671f\u671b\u7684 WebRTC Agent\u3002\u63a5\u4e0b\u6765\uff0c\u53ef\u4ee5\u5c06 DTLS \u8fde\u63a5\u7528\u4e8e DataChannel \u901a\u4fe1\u3002</p> <p>\u8981\u521b\u5efa SRTP \u4f1a\u8bdd\uff0c\u6211\u4eec\u4f7f\u7528 DTLS \u751f\u6210\u7684\u5bc6\u94a5\u5bf9\u5176\u8fdb\u884c\u521d\u59cb\u5316\u3002SRTP \u6ca1\u6709\u63e1\u624b\u673a\u5236\uff0c\u56e0\u6b64\u5fc5\u987b\u4f7f\u7528\u5916\u90e8\u5bc6\u94a5\u8fdb\u884c\u5f15\u5bfc\u3002\u4e00\u65e6\u5b8c\u6210\u6b64\u64cd\u4f5c\uff0c\u5a92\u4f53\u6570\u636e\u5373\u53ef\u4ee5\u7528 SRTP \u52a0\u5bc6\u5e76\u8fdb\u884c\u4ea4\u6362\uff01</p>"},{"location":"webrtc/forcurious/004.html#101","title":"\u5b89\u5168\u6027 101","text":"<p>\u8981\u4e86\u89e3\u672c\u7ae0\u4ecb\u7ecd\u7684\u6280\u672f\uff0c\u4f60\u9996\u5148\u9700\u8981\u4e86\u89e3\u8fd9\u4e9b\u672f\u8bed\u3002\u5bc6\u7801\u5b66\u662f\u4e00\u4e2a\u68d8\u624b\u7684\u4e3b\u9898\uff0c\u56e0\u6b64\u5176\u4ed6\u8d44\u6e90\u4e5f\u662f\u503c\u5f97\u53c2\u8003\u7684\uff01</p>"},{"location":"webrtc/forcurious/004.html#_3","title":"\u660e\u6587\u548c\u5bc6\u6587","text":"<p>\u660e\u6587\u662f cipher \u7684\u8f93\u5165\u3002\u5bc6\u6587\u662f cipher \u7684\u8f93\u51fa\u3002</p>"},{"location":"webrtc/forcurious/004.html#cipher","title":"Cipher","text":"<p>Cipher \u662f\u5c06\u660e\u6587\u8f6c\u6362\u4e3a\u5bc6\u6587\u7684\u4e00\u7cfb\u5217\u6b65\u9aa4\u3002Cipher \u53ef\u4ee5\u53cd\u8fc7\u6765\u8fd0\u884c\uff0c\u56e0\u6b64\u4f60\u53ef\u4ee5\u5c06\u5bc6\u6587\u6062\u590d\u4e3a\u660e\u6587\u3002\u4e00\u4e2a cipher \u901a\u5e38\u62e5\u6709\u4e00\u4e2a\u66f4\u6539\u5176\u884c\u4e3a\u7684\u5bc6\u94a5\u3002\u8fd8\u6709\u4e00\u4e2a\u672f\u8bed\u662f\u52a0\u5bc6\u548c\u89e3\u5bc6\u3002</p> <p>\u4e3e\u4f8b\u6765\u8bf4\uff0c\u4e00\u4e2a\u7b80\u5355\u7684 cipher \u662f ROT13\u3002\u4e5f\u5c31\u662f\u6bcf\u4e2a\u5b57\u6bcd\u5411\u524d\u79fb\u52a8 13 \u4e2a\u5b57\u7b26\u3002\u8981\u89e3\u5bc6\u8fd9\u4e2a cipher\uff0c\u9700\u8981\u6bcf\u4e2a\u5b57\u6bcd\u5411\u540e\u79fb\u52a8 13 \u4e2a\u5b57\u7b26\u3002\u660e\u6587 <code>HELLO</code> \u5c06\u6210\u4e3a\u5bc6\u6587 <code>URYYB</code>\u3002 \u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0cCipher \u662f ROT\uff0c\u5bc6\u94a5\u662f 13\u3002</p>"},{"location":"webrtc/forcurious/004.html#_4","title":"\u54c8\u5e0c\u51fd\u6570","text":"<p>\u54c8\u5e0c\u51fd\u6570\u662f\u4e00\u79cd\u751f\u6210\u6458\u8981\u7684\u5355\u5411\u8fc7\u7a0b\u3002\u7ed9\u5b9a\u4e00\u4e2a\u8f93\u5165\uff0c\u5b83\u6bcf\u6b21\u90fd\u4f1a\u751f\u6210\u76f8\u540c\u7684\u8f93\u51fa\u3002\u5176\u91cd\u8981\u7279\u70b9\u662f\u8f93\u51fa\u4e0d\u53ef\u9006\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u6839\u636e\u8f93\u51fa\u7684\u6458\u8981\uff0c\u65e0\u6cd5\u786e\u5b9a\u5176\u8f93\u5165\u3002\u5f53\u4f60\u8981\u786e\u8ba4\u6d88\u606f\u672a\u88ab\u7be1\u6539\u65f6\uff0c\u54c8\u5e0c\u51fd\u6570\u5f88\u6709\u7528\u3002</p> <p>\u54c8\u5e0c\u51fd\u6570\u53ef\u4ee5\u5f88\u7b80\u5355\uff0c\u6bd4\u5982\u53ea\u662f\u5bf9\u8f93\u5165\u95f4\u9694\u53d6\u5b57\u6bcd\u3002\u8fd9\u6837 HELLO \u5c06\u53d8\u6210 HLO\u3002\u4f60\u4e0d\u80fd\u8ba4\u4e3a <code>HELLO</code> \u5c31\u662f\u8f93\u5165\uff0c\u4f46\u53ef\u4ee5\u786e\u8ba4\u5982\u679c\u8f93\u5165\u7684\u662f <code>HELLO</code>\uff0c\u90a3\u4e48\u7ed3\u679c\u662f\u5339\u914d\u7684\u3002</p>"},{"location":"webrtc/forcurious/004.html#_5","title":"\u516c\u94a5 / \u79c1\u94a5\u52a0\u5bc6","text":"<p>\u516c\u94a5 / \u79c1\u94a5\u52a0\u5bc6\u63cf\u8ff0\u4e86 DTLS \u548c SRTP \u4f7f\u7528\u7684 cipher \u7c7b\u578b\u3002\u5728\u6b64\u7cfb\u7edf\u4e2d\uff0c\u4f60\u6709\u4e24\u4e2a\u5bc6\u94a5\uff0c\u5373\u516c\u94a5\u548c\u79c1\u94a5\u3002\u516c\u94a5\u7528\u4e8e\u52a0\u5bc6\u6d88\u606f\uff0c\u53ef\u4ee5\u5b89\u5168\u5171\u4eab\u3002 \u79c1\u94a5\u7528\u4e8e\u89e3\u5bc6\u6d88\u606f\uff0c\u6c38\u8fdc\u4e0d\u5e94\u5171\u4eab\u3002\u5f53\u89e3\u5bc6\u90a3\u4e9b\u4f7f\u7528\u5bf9\u5e94\u7684\u516c\u94a5\u52a0\u5bc6\u7684\u6d88\u606f\u65f6\uff0c\u5b83\u662f\u552f\u4e00\u7684\u5bc6\u94a5\u3002</p>"},{"location":"webrtc/forcurious/004.html#diffie-hellman","title":"Diffie-Hellman \u4ea4\u6362","text":"<p>Diffie-Hellman \u4ea4\u6362\u5141\u8bb8\u4e24\u4e2a\u4ee5\u524d\u4ece\u672a\u89c1\u8fc7\u7684\u7528\u6237\u901a\u8fc7 Internet \u5b89\u5168\u7684\u521b\u5efa\u4e00\u4e2a\u5171\u4eab\u7684\u79d8\u5bc6\u4fe1\u606f\u3002\u7528\u6237 <code>A</code> \u53ef\u4ee5\u5c06\u79d8\u5bc6\u4fe1\u606f\u53d1\u9001\u7ed9\u7528\u6237 <code>B</code>\uff0c\u800c\u4e0d\u5fc5\u62c5\u5fc3\u88ab\u7a83\u542c\u3002\u7834\u89e3\u8be5\u4fe1\u606f\u7684\u96be\u5ea6\u5c06\u53d6\u51b3\u4e8e\u7834\u89e3\u79bb\u6563\u5bf9\u6570\u95ee\u9898\u7684\u96be\u5ea6\u3002 \u4f60\u4e0d\u5fc5\u5b8c\u5168\u7406\u89e3\u8be5\u7b97\u6cd5\u662f\u5982\u4f55\u5de5\u4f5c\u7684\uff0c\u4f46\u8fd9\u53ef\u4ee5\u5e2e\u52a9\u4f60\u4e86\u89e3\u662f\u4ec0\u4e48\u4f7f\u5f97 DTLS \u63e1\u624b\u53d8\u5f97\u53ef\u884c\u7684\u3002</p> <p>Wikipedia \u5728\u6b64\u5904\u4e2d\u6709\u4e00\u4e2a\u5b9e\u9645\u7684\u4f8b\u5b50\u3002</p>"},{"location":"webrtc/forcurious/004.html#prf","title":"\u4f2a\u968f\u673a\u51fd\u6570\uff08PRF\uff09","text":"<p>\u4f2a\u968f\u673a\u51fd\u6570\u662f\u4e00\u4e2a\u9884\u5b9a\u4e49\u51fd\u6570\uff0c\u7528\u4e8e\u751f\u6210\u968f\u673a\u51fa\u73b0\u7684\u503c\u3002\u5b83\u53ef\u80fd\u9700\u8981\u591a\u4e2a\u8f93\u5165\u5e76\u751f\u6210\u4e00\u4e2a\u8f93\u51fa\u3002</p>"},{"location":"webrtc/forcurious/004.html#kdf","title":"\u5bc6\u94a5\u6d3e\u751f\uff08KDF\uff09","text":"<p>\u5bc6\u94a5\u6d3e\u751f\u662f\u4e00\u7c7b\u4f2a\u968f\u673a\u51fd\u6570\u3002\u662f\u4e00\u79cd\u7528\u4e8e\u589e\u5f3a\u5bc6\u94a5\u7684\u5b89\u5168\u6027\u7684\u65b9\u6cd5\u3002\u4e00\u79cd\u5e38\u89c1\u7684\u6a21\u5f0f\u662f\u5bc6\u94a5\u6269\u5c55\u3002</p> <p>\u5047\u8bbe\u4f60\u83b7\u5f97\u7684\u5bc6\u94a5\u4e3a 8 \u5b57\u8282\u3002\u4f60\u53ef\u4ee5\u4f7f\u7528 KDF \u4f7f\u5176\u66f4\u575a\u56fa\u3002</p>"},{"location":"webrtc/forcurious/004.html#nonce","title":"Nonce","text":"<p>Nonce \u662f cipher \u7684\u9644\u52a0\u8f93\u5165\u3002\u8fd9\u6837\uff0c\u5373\u4f7f\u4f60\u591a\u6b21\u52a0\u5bc6\u540c\u4e00\u6761\u6d88\u606f\uff0c\u4e5f\u53ef\u4ee5\u4ece cipher \u4e2d\u83b7\u5f97\u4e0d\u540c\u7684\u8f93\u51fa\u3002</p> <p>\u5982\u679c\u5c06\u540c\u4e00\u6761\u6d88\u606f\u52a0\u5bc6 10 \u6b21\uff0ccipher \u5c06\u4e3a\u4f60\u63d0\u4f9b 10 \u6b21\u76f8\u540c\u7684\u5bc6\u6587\u3002\u901a\u8fc7\u4f7f\u7528 nonce\uff0c\u5728\u4f7f\u7528\u540c\u4e00\u4e2a\u5bc6\u94a5\u7684\u60c5\u51b5\u4e0b\uff0c\u4f60\u5c06\u5f97\u5230\u4e0d\u540c\u7684\u8f93\u5165\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u6bcf\u6761\u6d88\u606f\u90fd\u8981\u4f7f\u7528\u4e0d\u540c\u7684 nonce\uff01 \u5426\u5219\u5c31\u6ca1\u6709\u592a\u5927\u610f\u4e49\u4e86\u3002</p>"},{"location":"webrtc/forcurious/004.html#message-authentication-code","title":"\u6d88\u606f\u8eab\u4efd\u9a8c\u8bc1\u4ee3\u7801\uff08Message Authentication Code\uff09","text":"<p>\u6d88\u606f\u8eab\u4efd\u9a8c\u8bc1\u4ee3\u7801\uff08MAC\uff09\u662f\u653e\u5728\u6d88\u606f\u672b\u5c3e\u7684\u54c8\u5e0c\u503c\u3002MAC \u80fd\u8bc1\u660e\u8be5\u6d88\u606f\u6765\u81ea\u4f60\u671f\u671b\u7684\u7528\u6237\u3002</p> <p>\u5982\u679c\u4f60\u4e0d\u4f7f\u7528 MAC\uff0c\u653b\u51fb\u8005\u53ef\u80fd\u4f1a\u63d2\u5165\u65e0\u6548\u7684\u6d88\u606f\u3002\u56e0\u4e3a\u4ed6\u4eec\u4e0d\u77e5\u9053\u5bc6\u94a5\uff0c\u6240\u4ee5\u8fd9\u4e9b\u6d88\u606f\u89e3\u5bc6\u540e\u662f\u65e0\u610f\u4e49\u7684\u5783\u573e\u5185\u5bb9\u3002</p>"},{"location":"webrtc/forcurious/004.html#_6","title":"\u5bc6\u94a5\u8f6e\u6362","text":"<p>\u5bc6\u94a5\u8f6e\u6362\u662f\u4e00\u79cd\u95f4\u9694\u4e00\u6bb5\u65f6\u95f4\u4fbf\u66f4\u6539\u5bc6\u94a5\u7684\u505a\u6cd5\u3002\u8fd9\u79cd\u505a\u6cd5\u4f1a\u4f7f\u5f97\u88ab\u7a83\u53d6\u7684\u5bc6\u94a5\u5f71\u54cd\u8f83\u5c0f\u3002\u5982\u679c\u5bc6\u94a5\u88ab\u7a83\u53d6\u6216\u6cc4\u6f0f\uff0c\u90a3\u4e48\u53ea\u6709\u5f88\u5c11\u7684\u6570\u636e\u53ef\u4ee5\u88ab\u89e3\u5bc6\u3002</p>"},{"location":"webrtc/forcurious/004.html#dtls","title":"DTLS","text":"<p>DTLS\uff08\u6570\u636e\u62a5\u4f20\u8f93\u5c42\u5b89\u5168\u534f\u8bae\uff09\u5141\u8bb8\u4e24\u4e2a peer \u5728\u6ca1\u6709\u9884\u5148\u5b58\u5728\u7684\u914d\u7f6e\u7684\u60c5\u51b5\u4e0b\u5efa\u7acb\u5b89\u5168\u7684\u901a\u4fe1\u3002\u5373\u4f7f\u6709\u4eba\u7a83\u542c\u4e86\u901a\u4fe1\uff0c\u4ed6\u4eec\u4e5f\u5c06\u65e0\u6cd5\u89e3\u5bc6\u6d88\u606f\u3002</p> <p>\u4e3a\u4e86\u4f7f DTLS \u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u8fdb\u884c\u901a\u4fe1\uff0c\u4ed6\u4eec\u9700\u8981\u5c31 cipher \u548c\u5bc6\u94a5\u8fbe\u6210\u4e00\u81f4\u3002\u4ed6\u4eec\u901a\u8fc7\u8fdb\u884c DTLS \u63e1\u624b\u6765\u786e\u5b9a\u8fd9\u4e9b\u503c\u3002\u5728\u63e1\u624b\u671f\u95f4\uff0c\u6d88\u606f\u4e3a\u7eaf\u6587\u672c\u683c\u5f0f\u3002 \u5f53 DTLS \u5ba2\u6237\u7aef / \u670d\u52a1\u5668\u4ea4\u6362\u4e86\u8db3\u591f\u7684\u8be6\u7ec6\u4fe1\u606f\u4ee5\u5f00\u59cb\u52a0\u5bc6\u65f6\uff0c\u5b83\u4f1a\u53d1\u9001 <code>Change Cipher Spec</code>\uff08\u66f4\u6539 Cipher \u89c4\u683c\uff09\u6d88\u606f\u3002\u5728\u6b64\u6d88\u606f\u4e4b\u540e\uff0c\u540e\u7eed\u7684\u6bcf\u4e2a\u6d88\u606f\u90fd\u5c06\u4f1a\u88ab\u52a0\u5bc6\uff01</p>"},{"location":"webrtc/forcurious/004.html#_7","title":"\u6570\u636e\u5305\u683c\u5f0f","text":"<p>\u6bcf\u4e2a DTLS \u6570\u636e\u5305\u5f00\u5934\u90fd\u5305\u542b\u4e00\u4e2a\u5934\u90e8\u4fe1\u606f\u3002</p>"},{"location":"webrtc/forcurious/004.html#_8","title":"\u5185\u5bb9\u7c7b\u578b","text":"<p>\u4f60\u53ef\u4ee5\u770b\u5230\u6570\u636e\u5305\u5305\u62ec\u4ee5\u4e0b\u51e0\u79cd\u7c7b\u578b\uff1a</p> <ul> <li><code>20</code> - Change Cipher Spec\uff08\u66f4\u6539 Cipher \u89c4\u683c\uff09</li> <li><code>22</code> - Handshake\uff08\u63e1\u624b\uff09</li> <li><code>23</code> - Application Data\uff08\u5e94\u7528\u7a0b\u5e8f\u6570\u636e\uff09</li> </ul> <p><code>\u63e1\u624b</code>\u7528\u4e8e\u4ea4\u6362\u8be6\u7ec6\u4fe1\u606f\u4ee5\u5f00\u59cb\u4f1a\u8bdd\u3002 <code>\u66f4\u6539 Cipher \u89c4\u683c</code>\u7528\u4e8e\u901a\u77e5\u53e6\u4e00\u7aef\u6240\u6709\u5185\u5bb9\u90fd\u5c06\u88ab\u52a0\u5bc6\u3002<code>\u5e94\u7528\u7a0b\u5e8f\u6570\u636e</code>\u662f\u52a0\u5bc6\u7684\u6d88\u606f\u3002</p>"},{"location":"webrtc/forcurious/004.html#_9","title":"\u7248\u672c","text":"<p>\u7248\u672c\u53ef\u4ee5\u662f <code>0x0000feff</code>\uff08DTLS v1.0\uff09\u6216 <code>0x0000fefd</code>\uff08DTLS v1.2\uff09\uff0c\u6ca1\u6709 v1.1\u3002</p>"},{"location":"webrtc/forcurious/004.html#epoch","title":"Epoch\uff08\u65f6\u6bb5\uff09","text":"<p>\u65f6\u6bb5\u4ece <code>0</code> \u5f00\u59cb\uff0c\u4f46\u5728<code>\u66f4\u6539 Cipher \u89c4\u683c</code>\u4e4b\u540e\u53d8\u4e3a <code>1</code>\u3002\u5728\u975e\u96f6\u65f6\u6bb5\u7684\u4efb\u4f55\u6d88\u606f\u90fd\u5c06\u88ab\u52a0\u5bc6\u3002</p>"},{"location":"webrtc/forcurious/004.html#_10","title":"\u5e8f\u5217\u53f7","text":"<p>\u5e8f\u5217\u53f7\u7528\u4e8e\u4fdd\u6301\u6d88\u606f\u987a\u5e8f\u3002\u6bcf\u6761\u6d88\u606f\u90fd\u4f1a\u589e\u52a0\u5e8f\u5217\u53f7\u3002\u5f53 Epoch\uff08\u65f6\u6bb5\uff09\u589e\u52a0\u65f6\uff0c\u5e8f\u5217\u53f7\u91cd\u65b0\u5f00\u59cb\u3002</p>"},{"location":"webrtc/forcurious/004.html#_11","title":"\u957f\u5ea6\u548c\u6709\u6548\u8f7d\u8377","text":"<p>\u6709\u6548\u8f7d\u8377\u662f\u7279\u5b9a\u4e8e<code>\u5185\u5bb9\u7c7b\u578b</code>\u7684\u3002\u5bf9\u4e8e<code>\u5e94\u7528\u7a0b\u5e8f\u6570\u636e</code>\u800c\u8a00\uff0c<code>\u6709\u6548\u8f7d\u8377</code>\u662f\u52a0\u5bc6\u7684\u6570\u636e\u3002\u5bf9\u4e8e<code>\u63e1\u624b</code>\uff0c\u5b83\u4f1a\u6839\u636e\u6d88\u606f\u800c\u6709\u6240\u4e0d\u540c\u3002\u957f\u5ea6\u662f\u6307<code>\u6709\u6548\u8f7d\u8377</code>\u7684\u5927\u5c0f\u3002</p>"},{"location":"webrtc/forcurious/004.html#_12","title":"<code>\u63e1\u624b</code>\u72b6\u6001\u673a","text":"<p>\u5728\u63e1\u624b\u671f\u95f4\uff0c\u5ba2\u6237\u7aef / \u670d\u52a1\u5668\u4ea4\u6362\u4e00\u7cfb\u5217\u6d88\u606f\u3002\u8fd9\u4e9b\u6d88\u606f\u88ab\u5206\u4e3a\u591a\u4e2a Flight\u3002\u6bcf\u4e2a Flight \u4e2d\u53ef\u80fd\u6709\u591a\u4e2a\u6d88\u606f\uff08\u6216\u53ea\u6709\u4e00\u4e2a\uff09\u3002 \u76f4\u5230\u6536\u5230 Flight \u4e2d\u7684\u6240\u6709\u6d88\u606f\uff0c\u8be5 Flight \u624d\u7b97\u5b8c\u6210\u3002\u6211\u4eec\u5c06\u5728\u4e0b\u9762\u66f4\u8be6\u7ec6\u5730\u63cf\u8ff0\u6bcf\u6761\u6d88\u606f\u7684\u76ee\u7684\u3002</p> <p></p>"},{"location":"webrtc/forcurious/004.html#clienthello","title":"ClientHello","text":"<p>ClientHello \u662f\u5ba2\u6237\u7aef\u53d1\u9001\u7684\u521d\u59cb\u6d88\u606f\u3002\u5b83\u5305\u542b\u4e00\u4e2a\u5c5e\u6027\u5217\u8868\u3002\u8fd9\u4e9b\u5c5e\u6027\u544a\u8bc9\u670d\u52a1\u5668\u5ba2\u6237\u7aef\u652f\u6301\u7684 cipher \u548c\u529f\u80fd\u3002\u5bf9\u4e8e WebRTC\uff0c\u8fd9\u4e5f\u662f\u6211\u4eec\u9009\u62e9 SRTP cipher \u65b9\u5f0f\u7684\u539f\u56e0\u3002\u5b83\u8fd8\u5305\u542b\u5c06\u7528\u4e8e\u751f\u6210\u4f1a\u8bdd\u5bc6\u94a5\u7684\u968f\u673a\u6570\u636e\u3002</p>"},{"location":"webrtc/forcurious/004.html#helloverifyrequest","title":"HelloVerifyRequest","text":"<p>\u670d\u52a1\u5668\u5c06 HelloVerifyRequest \u53d1\u9001\u5230\u5ba2\u6237\u7aef\u3002\u8fd9\u662f\u4e3a\u4e86\u786e\u8ba4\u5ba2\u6237\u7aef\u51c6\u5907\u7ee7\u7eed\u53d1\u9001\u8bf7\u6c42\u3002\u7136\u540e\uff0c\u5ba2\u6237\u7aef\u91cd\u65b0\u53d1\u9001 ClientHello\uff0c\u4f46\u8fd9\u4e00\u6b21\u9700\u8981\u643a\u5e26 HelloVerifyRequest \u4e2d\u63d0\u4f9b\u7684\u4ee4\u724c\u3002</p>"},{"location":"webrtc/forcurious/004.html#serverhello","title":"ServerHello","text":"<p>ServerHello \u662f\u670d\u52a1\u5668\u54cd\u5e94\u6d88\u606f\uff0c\u662f\u6b64\u6b21\u4f1a\u8bdd\u7684\u914d\u7f6e\u4fe1\u606f\u3002\u5b83\u5305\u542b\u6b64\u4f1a\u8bdd\u76f4\u5230\u7ed3\u675f\u65f6\u5c06\u4f7f\u7528\u7684 cipher\u3002\u5b83\u8fd8\u5305\u542b\u670d\u52a1\u5668\u7aef\u7684\u968f\u673a\u6570\u636e\u3002</p>"},{"location":"webrtc/forcurious/004.html#certificate","title":"Certificate","text":"<p>Certificate \u5305\u542b\u5ba2\u6237\u7aef\u6216\u670d\u52a1\u5668\u7684\u8bc1\u4e66\u3002\u5b83\u88ab\u7528\u6765\u552f\u4e00\u8bc6\u522b\u6211\u4eec\u4e0e\u4e4b\u901a\u4fe1\u7684\u5bf9\u65b9\u3002\u63e1\u624b\u7ed3\u675f\u540e\uff0c\u6211\u4eec\u5c06\u786e\u4fdd\u8fd9\u4e2a\u8bc1\u4e66\u7684\u54c8\u5e0c\u4e0e <code>SessionDescription</code> \u4e2d\u7684\u6307\u7eb9\u76f8\u5339\u914d\u3002</p>"},{"location":"webrtc/forcurious/004.html#serverkeyexchangeclientkeyexchange","title":"ServerKeyExchange/ClientKeyExchange","text":"<p>\u8fd9\u4e9b\u6d88\u606f\u7528\u4e8e\u4f20\u8f93\u516c\u5171\u5bc6\u94a5\u3002\u5728\u542f\u52a8\u65f6\uff0c\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u90fd\u4f1a\u751f\u6210\u5bc6\u94a5\u5bf9\u3002\u63e1\u624b\u540e\uff0c\u8fd9\u4e9b\u503c\u5c06\u88ab\u7528\u6765\u751f\u6210 <code>Pre-Master Secret</code>\u3002</p>"},{"location":"webrtc/forcurious/004.html#certificaterequest","title":"CertificateRequest","text":"<p>CertificateRequest \u7531\u670d\u52a1\u7aef\u53d1\u9001\uff0c\u7528\u6765\u901a\u77e5\u5ba2\u6237\u7aef\u9700\u8981\u4e00\u4e2a\u8bc1\u4e66\u3002\u670d\u52a1\u7aef\u65e2\u53ef\u4ee5\u8bf7\u6c42\u4e00\u4e2a\u8bc1\u4e66\uff0c\u4e5f\u53ef\u4ee5\u8981\u6c42\u5fc5\u987b\u63d0\u4f9b\u8bc1\u4e66\u3002</p>"},{"location":"webrtc/forcurious/004.html#serverhellodone","title":"ServerHelloDone","text":"<p>ServerHelloDone \u901a\u77e5\u5ba2\u6237\u7aef\u6b64\u65f6\u670d\u52a1\u5668\u5df2\u5b8c\u6210\u63e1\u624b\u52a8\u4f5c\u3002</p>"},{"location":"webrtc/forcurious/004.html#certificateverify","title":"CertificateVerify","text":"<p>\u53d1\u9001\u8005\u7528 CertificateVerify \u6d88\u606f\u6765\u8bc1\u660e\u4ed6\u5df2\u7ecf\u83b7\u5f97\u4e86 Certificate \u6d88\u606f\u4e2d\u53d1\u9001\u7684\u79c1\u94a5\u3002</p>"},{"location":"webrtc/forcurious/004.html#changecipherspec","title":"ChangeCipherSpec","text":"<p>ChangeCipherSpec \u901a\u77e5\u63a5\u6536\u8005\u5728\u6b64\u6d88\u606f\u4e4b\u540e\u53d1\u9001\u7684\u6240\u6709\u5185\u5bb9\u90fd\u5c06\u88ab\u52a0\u5bc6\u3002</p>"},{"location":"webrtc/forcurious/004.html#finished","title":"Finished","text":"<p>Finished \u6d88\u606f\u662f\u52a0\u5bc6\u7684\uff0c\u5b83\u5305\u542b\u6240\u6709\u6d88\u606f\u7684\u54c8\u5e0c\u3002\u7528\u6765\u65ad\u8a00\u63e1\u624b\u8fc7\u7a0b\u672a\u88ab\u7be1\u6539\u3002</p>"},{"location":"webrtc/forcurious/004.html#_13","title":"\u5bc6\u94a5\u7684\u751f\u6210","text":"<p>\u63e1\u624b\u5b8c\u6210\u540e\uff0c\u4f60\u53ef\u4ee5\u5f00\u59cb\u53d1\u9001\u52a0\u5bc6\u6570\u636e\u3002Cipher \u662f\u7531\u670d\u52a1\u5668\u9009\u62e9\u7684\uff0c\u4f4d\u4e8e ServerHello \u6d88\u606f\u4e2d\u3002\u4f46\u63a5\u4e0b\u6765\u5982\u4f55\u751f\u6210\u5bc6\u94a5\u5462\uff1f</p> <p>\u9996\u5148\uff0c\u6211\u4eec\u9700\u8981\u751f\u6210 <code>Pre-Master Secret</code>\u3002\u4e3a\u4e86\u83b7\u5f97\u8be5\u503c\uff0c\u6211\u4eec\u901a\u8fc7 <code>ServerKeyExchange</code> \u548c <code>ClientKeyExchange</code> \u6d88\u606f\uff0c\u4f7f\u7528 Diffie-Hellman \u7b97\u6cd5\u6765\u4ea4\u6362\u5bc6\u94a5\u3002\u7ec6\u8282\u56e0\u9009\u5b9a\u7684 Cipher \u800c\u5f02\u3002</p> <p>\u63a5\u4e0b\u6765\uff0c\u751f\u6210 <code>Master Secret</code>\u3002\u6bcf\u4e2a\u7248\u672c\u7684 DTLS \u90fd\u6709\u4e00\u4e2a\u5b9a\u4e49\u7684 <code>Pseudorandom function</code>\uff08\u4f2a\u968f\u673a\u51fd\u6570\uff09\u3002\u5bf9\u4e8e DTLS 1.2\uff0c\u4f2a\u968f\u673a\u51fd\u6570\u4f1a\u5728 <code>ClientHello</code> \u548c <code>ServerHello</code> \u4e2d\u83b7\u53d6 <code>Pre-Master Secret</code> \u548c\u968f\u673a\u503c\u3002 \u8fd0\u884c <code>Pseudorandom function</code> \u540e\uff0c\u83b7\u5f97\u7684\u8f93\u51fa\u662f <code>Master Secret</code>\u3002<code>Master Secret</code> \u662f\u7528\u4e8e Cipher \u7684\u503c\u3002</p>"},{"location":"webrtc/forcurious/004.html#applicationdata","title":"\u4ea4\u6362 ApplicationData","text":"<p>DTLS \u7684\u4e3b\u8981\u5185\u5bb9\u662f <code>ApplicationData</code>\u3002\u73b0\u5728\u6211\u4eec\u6709\u4e86\u4e00\u4e2a\u521d\u59cb\u5316\u597d\u7684 Cipher\uff0c\u6211\u4eec\u53ef\u4ee5\u5f00\u59cb\u52a0\u5bc6\u548c\u53d1\u9001\u6570\u636e\u4e86\u3002</p> <p>\u5982\u524d\u6240\u8ff0\uff0c<code>ApplicationData</code> \u6d88\u606f\u4f7f\u7528\u4e00\u4e2a DTLS \u6807\u5934\u3002<code>Payload</code> \u4e2d\u586b\u5145\u4e86\u5bc6\u6587\u3002\u4f60\u73b0\u5728\u53ef\u4ee5\u6b63\u5e38\u4f7f\u7528 DTLS \u4f1a\u8bdd\uff0c\u5e76\u4e14\u53ef\u4ee5\u5b89\u5168\u5730\u8fdb\u884c\u901a\u4fe1\u3002</p> <p>DTLS \u5177\u6709\u66f4\u591a\u6709\u8da3\u7684\u529f\u80fd\uff0c\u4f8b\u5982\u91cd\u65b0\u534f\u5546\u7b49\u3002WebRTC \u4e2d\u4e0d\u4f7f\u7528\u8fd9\u4e9b\u529f\u80fd\uff0c\u56e0\u6b64\u6b64\u5904\u4e0d\u4f5c\u4ecb\u7ecd\u3002</p>"},{"location":"webrtc/forcurious/004.html#srtp","title":"SRTP","text":"<p>SRTP \u662f\u9488\u5bf9\u52a0\u5bc6 RTP \u6570\u636e\u5305\u4e13\u95e8\u6d89\u53ca\u7684\u534f\u8bae\u3002\u8981\u542f\u52a8 SRTP \u4f1a\u8bdd\uff0c\u9700\u8981\u6307\u5b9a\u5bc6\u94a5\u548c cipher\u3002\u4e0e DTLS \u4e0d\u540c\uff0c\u5b83\u6ca1\u6709\u63e1\u624b\u673a\u5236\u3002\u6240\u6709\u7684\u914d\u7f6e\u548c\u5bc6\u94a5\u90fd\u662f\u5728 DTLS \u63e1\u624b\u671f\u95f4\u751f\u6210\u7684\u3002</p> <p>DTLS \u63d0\u4f9b\u4e86\u4e13\u7528\u7684 API\uff0c\u7528\u6765\u5bfc\u51fa\u5bc6\u94a5\u4ee5\u4f9b\u53e6\u4e00\u4e2a\u8fdb\u7a0b\u4f7f\u7528\u3002\u8fd9\u662f\u5728RFC 5705\u4e2d\u5b9a\u4e49\u7684</p>"},{"location":"webrtc/forcurious/004.html#_14","title":"\u4f1a\u8bdd\u521b\u5efa","text":"<p>SRTP \u5b9a\u4e49\u4e86\u4e00\u4e2a\u5bc6\u94a5\u6d3e\u751f\u51fd\u6570\uff0c\u7528\u4e8e\u5904\u7406\u8f93\u5165\u3002\u5728\u521b\u5efa SRTP \u4f1a\u8bdd\u65f6\uff0c\u5bc6\u94a5\u6d3e\u751f\u51fd\u6570\u5c06\u88ab\u6267\u884c\uff0c\u7528\u8f93\u5165\u6570\u636e\u751f\u6210 SRTP Cipher \u7684\u5bc6\u94a5\u3002\u4e4b\u540e\uff0c\u4f60\u53ef\u4ee5\u7ee7\u7eed\u5904\u7406\u5a92\u4f53\u3002</p>"},{"location":"webrtc/forcurious/004.html#_15","title":"\u4ea4\u6362\u5a92\u4f53\u6570\u636e","text":"<p>\u6bcf\u4e2a RTP \u6570\u636e\u5305\u90fd\u6709\u4e00\u4e2a 16 \u4f4d\u7684 SequenceNumber\uff08\u5e8f\u5217\u53f7\uff09\u3002\u8fd9\u4e9b\u5e8f\u5217\u53f7\u7528\u4e8e\u4f7f\u6570\u636e\u5305\u4fdd\u6301\u987a\u5e8f\uff0c\u5c31\u50cf\u4e3b\u952e\u4e00\u6837\u3002\u5728\u901a\u8bdd\u671f\u95f4\uff0c\u8fd9\u4e9b\u5e8f\u5217\u53f7\u5c06\u6eda\u52a8\u7d2f\u52a0\u3002SRTP \u4f1a\u5bf9\u5176\u8fdb\u884c\u8ddf\u8e2a\uff0c\u5e76\u5c06\u5176\u79f0\u4e3a\u6eda\u52a8\u8ba1\u6570\u5668\u3002</p> <p>\u52a0\u5bc6\u6570\u636e\u5305\u65f6\uff0cSRTP \u4f7f\u7528\u6eda\u52a8\u8ba1\u6570\u5668\u548c\u5e8f\u5217\u53f7\u4f5c\u4e3a nonce\u3002\u8fd9\u662f\u4e3a\u4e86\u786e\u4fdd\u5373\u4f7f\u4e24\u6b21\u53d1\u9001\u76f8\u540c\u7684\u6570\u636e\uff0c\u5bc6\u6587\u4e5f\u4f1a\u6709\u6240\u4e0d\u540c\u3002\u8fd9\u6837\u505a\u5f88\u91cd\u8981\uff0c\u53ef\u4ee5\u963b\u6b62\u653b\u51fb\u8005\u8bc6\u522b\u6a21\u5f0f\u6216\u5c1d\u8bd5\u91cd\u64ad\u653b\u51fb\u3002</p>"},{"location":"webrtc/forcurious/005.html","title":"\u5b9e\u65f6\u7f51\u7edc","text":""},{"location":"webrtc/forcurious/005.html#_2","title":"\u4e3a\u4ec0\u4e48\u7f51\u7edc\u5728\u5b9e\u65f6\u901a\u4fe1\u4e2d\u5982\u6b64\u91cd\u8981\uff1f","text":"<p>\u7f51\u7edc\u662f\u5b9e\u65f6\u901a\u4fe1\u4e2d\u7684\u9650\u5236\u56e0\u7d20\u3002\u5728\u7406\u60f3\u7684\u4e16\u754c\u4e2d\uff0c\u6211\u4eec\u5c06\u62e5\u6709\u65e0\u9650\u7684\u5e26\u5bbd\uff0c\u5e76\u4e14\u6570\u636e\u5305\u4f1a\u5373\u65f6\u5230\u8fbe\u3002\u4f46\u4e8b\u5b9e\u5e76\u975e\u5982\u6b64\u3002\u7f51\u7edc\u662f\u53d7\u9650\u7684\uff0c\u4e14\u5176\u9650\u5b9a\u6761\u4ef6\u968f\u65f6\u53ef\u80fd\u66f4\u6539\u3002\u6d4b\u91cf\u548c\u89c2\u5bdf\u7f51\u7edc\u72b6\u51b5\u4e5f\u662f\u4e00\u4e2a\u96be\u9898\u3002\u6839\u636e\u4f60\u6240\u4f7f\u7528\u7684\u786c\u4ef6\uff0c\u8f6f\u4ef6\u53ca\u5176\u914d\u7f6e\uff0c\u4f60\u53ef\u80fd\u770b\u5230\u4e0d\u540c\u7684\u8868\u73b0\u3002</p> <p>\u5b9e\u65f6\u901a\u4fe1\u4e5f\u5e26\u6765\u4e86\u5176\u4ed6\u5927\u591a\u6570\u9886\u57df\u4e2d\u4e0d\u5b58\u5728\u7684\u95ee\u9898\u3002\u5bf9\u4e8e\u7f51\u7ad9\u5f00\u53d1\u4eba\u5458\u6765\u8bf4\uff0c\u5982\u679c\u4f60\u7684\u7f51\u7ad9\u5728\u67d0\u4e9b\u7f51\u7edc\u4e0a\u8fd0\u884c\u901f\u5ea6\u8f83\u6162\uff0c\u90a3\u4e0d\u662f\u81f4\u547d\u95ee\u9898\u3002\u53ea\u8981\u6240\u6709\u6570\u636e\u5230\u8fbe\uff0c\u7528\u6237\u90fd\u4f1a\u611f\u5230\u6ee1\u610f\u3002\u4f46\u5bf9\u4e8e WebRTC\uff0c\u5982\u679c\u4f60\u7684\u6570\u636e\u5ef6\u8fdf\u4e86\uff0c\u90a3\u5c31\u6ca1\u7528\u4e86\u3002\u6ca1\u6709\u4eba\u5728\u4e4e 5 \u79d2\u949f\u524d\u7684\u7535\u8bdd\u4f1a\u8bae\u4e2d\u6240\u8bf4\u8fc7\u7684\u8bdd\u3002\u56e0\u6b64\uff0c\u5728\u5f00\u53d1\u4e00\u4e2a\u5b9e\u65f6\u901a\u4fe1\u7cfb\u7edf\u65f6\uff0c\u5fc5\u987b\u4f5c\u51fa\u6743\u8861\u3002\u6211\u7684\u65f6\u95f4\u9650\u5236\u662f\u591a\u5c11\uff0c\u53ef\u4ee5\u53d1\u9001\u591a\u5c11\u6570\u636e\uff1f</p> <p>\u672c\u7ae0\u4ecb\u7ecd\u4e86\u9002\u7528\u4e8e\u6570\u636e\u548c\u5a92\u4f53\u901a\u4fe1\u7684\u6982\u5ff5\u3002\u5728\u540e\u9762\u7684\u7ae0\u8282\u4e2d\uff0c\u6211\u4eec\u5c06\u8d85\u51fa\u7406\u8bba\u8303\u56f4\uff0c\u8ba8\u8bba\u4e00\u4e0b WebRTC \u7684\u5a92\u4f53\u548c\u6570\u636e\u5b50\u7cfb\u7edf\u5982\u4f55\u89e3\u51b3\u8fd9\u4e9b\u95ee\u9898\u3002</p>"},{"location":"webrtc/forcurious/005.html#_3","title":"\u7f51\u7edc\u7684\u54ea\u4e9b\u5c5e\u6027\u8ba9\u5b83\u5f88\u96be ?","text":"<p>\u5728\u6240\u6709\u7f51\u7edc\u4e0a\u90fd\u80fd\u6709\u6548\u5de5\u4f5c\u7684\u4ee3\u7801\u5f88\u590d\u6742\u3002\u4f60\u4f1a\u9762\u5bf9\u8bb8\u591a\u4e0d\u540c\u7684\u56e0\u7d20\uff0c\u5b83\u4eec\u90fd\u53ef\u4ee5\u76f8\u4e92\u5f71\u54cd\u3002\u8fd9\u4e9b\u662f\u5f00\u53d1\u4eba\u5458\u5c06\u9047\u5230\u7684\u6700\u5e38\u89c1\u95ee\u9898\u3002</p>"},{"location":"webrtc/forcurious/005.html#_4","title":"\u5e26\u5bbd","text":"<p>\u5e26\u5bbd\u662f\u53ef\u4ee5\u5728\u7ed9\u5b9a\u8def\u5f84\u4e0a\u4f20\u8f93\u7684\u6700\u5927\u6570\u636e\u901f\u7387\u3002\u8bf7\u8bb0\u4f4f\uff0c\u5b83\u4e0d\u662f\u4e00\u4e2a\u9759\u6001\u6570\u5b57\uff0c\u8fd9\u4e00\u70b9\u5f88\u91cd\u8981\u3002\u5e26\u5bbd\u4f1a\u968f\u7740\u4f7f\u7528\u8005\u7684\u589e\u591a\uff08\u6216\u51cf\u5c11\uff09\u800c\u6539\u53d8\u3002</p>"},{"location":"webrtc/forcurious/005.html#_5","title":"\u4f20\u8f93\u65f6\u95f4\u548c\u5f80\u8fd4\u65f6\u95f4","text":"<p>\u4f20\u8f93\u65f6\u95f4\u6307\u7684\u662f\u4e00\u4e2a\u6570\u636e\u5305\u9700\u8981\u591a\u957f\u65f6\u95f4\u5230\u8fbe\u3002\u50cf\u5e26\u5bbd\u4e00\u6837\uff0c\u8fd9\u4e0d\u662f\u6052\u5b9a\u7684\u3002\u4f20\u8f93\u65f6\u95f4\u968f\u65f6\u53ef\u80fd\u6ce2\u52a8\u3002</p> <p><code>\u4f20\u8f93\u65f6\u95f4 = \u63a5\u6536\u65f6\u95f4 - \u53d1\u9001\u65f6\u95f4</code></p> <p>\u8981\u8ba1\u7b97\u4f20\u8f93\u65f6\u95f4\uff0c\u4f60\u9700\u8981\u5c06\u53d1\u9001\u65b9\u548c\u63a5\u6536\u65b9\u7684\u65f6\u949f\u4ee5\u6beb\u79d2\u7ea7\u7cbe\u5ea6\u540c\u6b65\u3002 \u5373\u4f7f\u4e00\u4e2a\u5f88\u5c0f\u7684\u504f\u5dee\u4e5f\u4f1a\u5bfc\u81f4\u4f20\u8f93\u65f6\u95f4\u7684\u6d4b\u91cf\u7ed3\u679c\u4e0d\u53ef\u9760\u3002 \u7531\u4e8e WebRTC \u5728\u9ad8\u5ea6\u5f02\u6784\u7684\u73af\u5883\u4e2d\u8fd0\u884c\uff0c\u56e0\u6b64\u4f9d\u9760\u4e3b\u673a\u4e4b\u95f4\u5b8c\u7f8e\u7684\u65f6\u95f4\u540c\u6b65\uff08\u6765\u6d4b\u91cf\u4f20\u8f93\u65f6\u95f4\uff09\u51e0\u4e4e\u662f\u4e0d\u53ef\u80fd\u7684\u3002</p> <p>\u5f80\u8fd4\u65f6\u95f4\u6d4b\u91cf\u662f\u5bf9\u4e0d\u5b8c\u7f8e\u7684\u65f6\u949f\u540c\u6b65\u7684\u4e00\u79cd\u89e3\u51b3\u65b9\u6cd5\u3002</p> <p>\uff08\u8981\u6d4b\u91cf\u5f80\u8fd4\u65f6\u95f4\uff0c\uff09WebRTC peer \u4e0d\u4f7f\u7528\u5206\u5e03\u5f0f\u65f6\u949f\uff0c\u800c\u662f\u53d1\u9001\u4e00\u4e2a\u7279\u6b8a\u6570\u636e\u5305\uff0c\u643a\u5e26\u540d\u4e3a <code>sendertime1</code> \u7684\u81ea\u5df1\u7684\u65f6\u95f4\u6233\u3002 \u5408\u4f5c\u7684 peer \u63a5\u6536\u5230\u8fd9\u4e2a\u7279\u6b8a\u6570\u636e\u5305\u540e\uff0c\u4f1a\u5c06\u65f6\u95f4\u6233\u8fd4\u8fd8\u7ed9\u53d1\u9001\u65b9\u3002 \u5f53\u539f\u59cb\u53d1\u9001\u65b9\u83b7\u5f97\u8fd4\u8fd8\u7684\u65f6\u95f4\u6233\u65f6\uff0c\u5b83\u4f1a\u7528\u5f53\u524d\u65f6\u95f4 <code>sendertime2</code> \u51cf\u53bb <code>sendertime1</code> \u65f6\u95f4\u6233\u3002 \u5f97\u5230\u7684\u65f6\u95f4\u5dee\u79f0\u4e3a \" \u5f80\u8fd4\u4f20\u64ad\u5ef6\u8fdf\uff08round-trip propagation delay\uff09\"\uff0c\u6216\u8005\u5c31\u4f7f\u7528\u66f4\u5e38\u89c1\u7684 \" \u5f80\u8fd4\u65f6\u95f4 \"\u3002</p> <p><code>rtt\uff08\u5f80\u8fd4\u65f6\u95f4\uff09 = sendertime2 - sendertime1</code></p> <p>\u4e00\u822c\u8ba4\u4e3a\uff0c\u5f80\u8fd4\u65f6\u95f4\u7684\u4e00\u534a\u53ef\u4ee5\u7528\u6765\u8f83\u597d\u5730\u8fd1\u4f3c\u4f20\u8f93\u65f6\u95f4\u3002 \u4f46\u6b64\u89e3\u51b3\u65b9\u6cd5\u5e76\u975e\u6ca1\u6709\u7f3a\u70b9\u3002 \u5b83\u5047\u8bbe\u53d1\u9001\u548c\u63a5\u6536\u6570\u636e\u5305\u82b1\u8d39\u7684\u65f6\u95f4\u662f\u76f8\u7b49\u7684\u3002 \u4f46\u662f\uff0c\u5728\u8702\u7a9d\u7f51\u7edc\u4e0a\uff0c\u53d1\u9001\u548c\u63a5\u6536\u64cd\u4f5c\u53ef\u80fd\u4e0d\u662f\u65f6\u95f4\u5bf9\u79f0\u7684\u3002 \u4f60\u53ef\u80fd\u5df2\u7ecf\u6ce8\u610f\u5230\u4e86\uff0c\u624b\u673a\u4e0a\u7684\u4e0a\u4f20\u901f\u5ea6\u51e0\u4e4e\u603b\u662f\u4f4e\u4e8e\u4e0b\u8f7d\u901f\u5ea6\u3002</p> <p><code>\u4f20\u8f93\u65f6\u95f4 = rtt\uff08\u5f80\u8fd4\u65f6\u95f4\uff09/2</code></p> <p>\u5173\u4e8e\u5f80\u8fd4\u65f6\u95f4\u6d4b\u91cf\u7684\u6280\u672f\uff0c\u5728RTCP \u7684\u53d1\u9001\u65b9\u548c\u63a5\u6536\u65b9\u62a5\u544a\u7ae0\u8282\u4e2d\u6709\u66f4\u8be6\u7ec6\u7684\u63cf\u8ff0\u3002</p>"},{"location":"webrtc/forcurious/005.html#_6","title":"\u6296\u52a8","text":"<p>\u6296\u52a8\u662f\u6bcf\u4e2a\u6570\u636e\u5305\u7684<code>\u4f20\u8f93\u65f6\u95f4</code>\u53ef\u80fd\u4f1a\u6709\u6240\u4e0d\u540c\u7684\u73b0\u5b9e\u8868\u73b0\u3002\u4f60\u7684\u6570\u636e\u5305\u53ef\u80fd\u4f1a\u5ef6\u8fdf\uff0c\u4f46\u968f\u540e\u4f1a\u7a81\u7136\u5927\u91cf\u96c6\u4e2d\u5230\u8fbe\u3002</p>"},{"location":"webrtc/forcurious/005.html#_7","title":"\u6570\u636e\u5305\u4e22\u5931","text":"<p>\u6570\u636e\u5305\u4e22\u5931\u662f\u6307\u6d88\u606f\u5728\u4f20\u8f93\u4e2d\u4e22\u5931\u3002\u6570\u636e\u635f\u5931\u7387\u53ef\u80fd\u662f\u7a33\u5b9a\u7684\uff0c\u4e5f\u53ef\u80fd\u51fa\u73b0\u6ce2\u5cf0\u548c\u6ce2\u8c37\u3002 \u8fd9\u53ef\u80fd\u662f\u7531\u4e8e\u7f51\u7edc\u7c7b\u578b\u7684\u539f\u56e0\u9020\u6210\u7684\uff0c\u4f8b\u5982\u536b\u661f\u6216 Wi-Fi \u7b49\u3002\u6216\u8005\u4e5f\u53ef\u80fd\u662f\u4f20\u8f93\u8def\u5f84\u4e0a\u7684\u8f6f\u4ef6\u5bfc\u81f4\u7684\u3002</p>"},{"location":"webrtc/forcurious/005.html#mtu","title":"\u6700\u5927\u4f20\u8f93\u5355\u4f4d\uff08MTU\uff09","text":"<p>\u6700\u5927\u4f20\u8f93\u5355\u4f4d\u6307\u7684\u662f\u5355\u4e2a\u6570\u636e\u5305\u5927\u5c0f\u7684\u9650\u5236\u3002\u7f51\u7edc\u4e0d\u5141\u8bb8\u4f60\u53d1\u9001\u4e00\u4e2a\u5de8\u5927\u7684\u6d88\u606f\u3002\u5728\u534f\u8bae\u7ea7\u522b\uff0c\u6d88\u606f\u53ef\u80fd\u5fc5\u987b\u88ab\u62c6\u5206\u4e3a\u591a\u4e2a\u8f83\u5c0f\u7684\u6570\u636e\u5305\u3002</p> <p>\u6839\u636e\u4f60\u91c7\u7528\u7684\u7f51\u7edc\u8def\u5f84\uff0cMTU \u4e5f\u5c06\u6709\u6240\u4e0d\u540c\u3002\u4f60\u53ef\u4ee5\u4f7f\u7528MTU \u8def\u5f84\u53d1\u73b0\u4e4b\u7c7b\u7684\u534f\u8bae\u6765\u786e\u5b9a\u53ef\u4ee5\u53d1\u9001\u7684\u6700\u5927\u6570\u636e\u5305\u5927\u5c0f\u3002</p>"},{"location":"webrtc/forcurious/005.html#_8","title":"\u62e5\u585e","text":"<p>\u62e5\u585e\u662f\u6307\u7f51\u7edc\u8fbe\u5230\u6781\u9650\u65f6\u7684\u60c5\u51b5\u3002\u8fd9\u901a\u5e38\u662f\u56e0\u4e3a\u4f60\u5df2\u8fbe\u5230\u5f53\u524d\u8def\u7531\u53ef\u4ee5\u5904\u7406\u7684\u5cf0\u503c\u5e26\u5bbd\u3002\u6216\u8005\u53ef\u80fd\u662f\u8fd0\u8425\u5546\u5bf9\u4f60\u7684 ISP \u914d\u7f6e\u5bfc\u81f4\uff0c\u6bd4\u5982\u9650\u5236\u4e86\u6bcf\u5c0f\u65f6\u7684\u6d41\u91cf\u3002</p> <p>\u62e5\u585e\u4f1a\u4ee5\u591a\u79cd\u4e0d\u540c\u7684\u65b9\u5f0f\u5c55\u73b0\u51fa\u6765\u3002\u6ca1\u6709\u6807\u51c6\u5316\u7684\u8868\u73b0\u3002\u5728\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u5f53\u62e5\u585e\u53d1\u751f\u65f6\uff0c\u7f51\u7edc\u5c06\u4e22\u5f03\u591a\u4f59\u7684\u6570\u636e\u5305\u3002\u5728\u5176\u4ed6\u4e00\u4e9b\u60c5\u51b5\u4e0b\uff0c\u7f51\u7edc\u5c06\u7f13\u5b58\u6570\u636e\u5305\u3002\u8fd9\u5c06\u5bfc\u81f4\u6570\u636e\u5305\u7684\u4f20\u8f93\u65f6\u95f4\u589e\u52a0\u3002\u968f\u7740\u7f51\u7edc\u7684\u62e5\u585e\uff0c\u4f60\u8fd8\u4f1a\u770b\u5230\u66f4\u591a\u7684\u6296\u52a8\u3002\u8fd9\u662f\u4e00\u4e2a\u5feb\u901f\u53d8\u5316\u7684\u9886\u57df\uff0c\u5e76\u4e14\u8fd8\u6709\u5176\u4ed6\u7528\u4e8e\u62e5\u585e\u68c0\u6d4b\u7684\u65b0\u7b97\u6cd5\u76ee\u524d\u4ecd\u5728\u7f16\u5199\u4e2d\u3002</p>"},{"location":"webrtc/forcurious/005.html#_9","title":"\u52a8\u6001\u53d8\u5316","text":"<p>\u7f51\u7edc\u662f\u52a8\u6001\u7684\uff0c\u5404\u79cd\u72b6\u51b5\u53ef\u80fd\u4f1a\u8fc5\u901f\u53d8\u5316\u3002\u5728\u901a\u8bdd\u8fc7\u7a0b\u4e2d\uff0c\u4f60\u53ef\u80fd\u4f1a\u53d1\u9001\u548c\u63a5\u6536\u6570\u5341\u4e07\u4e2a\u6570\u636e\u5305\u3002 \u8fd9\u4e9b\u6570\u636e\u5305\u53ef\u80fd\u7ecf\u8fc7\u591a\u4e2a\u8dc3\u70b9\u3002\u8fd9\u4e9b\u8dc3\u70b9\u53ef\u80fd\u7531\u6570\u767e\u4e07\u5176\u4ed6\u7528\u6237\u5171\u4eab\u3002\u5373\u4f7f\u5728\u4f60\u7684\u672c\u5730\u7f51\u7edc\u4e2d\uff0c\u4f60\u4e5f\u53ef\u80fd\u6b63\u5728\u4e0b\u8f7d\u9ad8\u6e05\u7535\u5f71\uff0c\u6216\u8005\u53ef\u80fd\u6709\u8bbe\u5907\u6b63\u8981\u4e0b\u8f7d\u8f6f\u4ef6\u66f4\u65b0\u3002</p> <p>\u4fdd\u8bc1\u901a\u8bdd\u8d28\u91cf\u4e0d\u80fd\u4ec5\u4ec5\u662f\u5728\u542f\u52a8\u65f6\u7b80\u5355\u7684\u5ea6\u91cf\u4f60\u7684\u7f51\u7edc\u3002\u4f60\u9700\u8981\u6301\u7eed\u4e0d\u65ad\u7684\u8bc4\u4f30\u3002\u8fd8\u9700\u8981\u5904\u7406\u6765\u81ea\u4e8e\u591a\u79cd\u7f51\u7edc\u786c\u4ef6\u548c\u8f6f\u4ef6\u7684\u6240\u6709\u4e0d\u540c\u8868\u73b0\u3002</p>"},{"location":"webrtc/forcurious/005.html#_10","title":"\u89e3\u51b3\u6570\u636e\u5305\u4e22\u5931\u95ee\u9898","text":"<p>\u5904\u7406\u6570\u636e\u5305\u635f\u5931\u662f\u9700\u8981\u89e3\u51b3\u7684\u9996\u8981\u95ee\u9898\u3002\u6709\u591a\u79cd\u89e3\u51b3\u65b9\u6cd5\uff0c\u6bcf\u79cd\u65b9\u6cd5\u90fd\u6709\u81ea\u5df1\u7684\u4f18\u52bf\u3002\u8fd9\u53d6\u51b3\u4e8e\u4f60\u8981\u53d1\u9001\u7684\u5185\u5bb9\u4ee5\u53ca\u5bf9\u5ef6\u8fdf\u7684\u5bb9\u5fcd\u5ea6\u3002\u540c\u6837\u91cd\u8981\u7684\u4e00\u70b9\u662f\uff0c\u5e76\u975e\u6240\u6709\u6570\u636e\u5305\u4e22\u5931\u90fd\u662f\u81f4\u547d\u7684\u3002\u4e22\u5931\u4e00\u4e9b\u89c6\u9891\u53ef\u80fd\u4e0d\u662f\u4ec0\u4e48\u95ee\u9898\uff0c\u4eba\u773c\u751a\u81f3\u53ef\u80fd\u65e0\u6cd5\u611f\u89c9\u5230\u3002\u4f46\u4e22\u6389\u7528\u6237\u7684\u77ed\u4fe1\u5c31\u662f\u4e0d\u53ef\u63a5\u53d7\u7684\u4e86\u3002</p> <p>\u5047\u8bbe\u4f60\u53d1\u9001\u4e86 10 \u4e2a\u6570\u636e\u5305\uff0c\u800c\u6570\u636e\u5305 5 \u548c 6 \u4e22\u5931\u4e86\u3002\u4e0b\u9762\u662f\u4e00\u4e9b\u89e3\u51b3\u95ee\u9898\u7684\u65b9\u6cd5\u3002</p>"},{"location":"webrtc/forcurious/005.html#acknowledgments","title":"\u786e\u8ba4\uff08Acknowledgments\uff09","text":"<p>\u786e\u8ba4\u662f\u6307\u63a5\u6536\u65b9\u6536\u5230\u6bcf\u4e2a\u6570\u636e\u5305\u65f6\uff0c\u90fd\u53bb\u901a\u77e5\u53d1\u9001\u65b9\u3002\u5982\u679c\u53d1\u9001\u65b9\u6536\u5230\u4e00\u4e2a\u6570\u636e\u5305\u7684\u4e24\u6b21\u786e\u8ba4\u6d88\u606f\uff0c\u4e14\u8be5\u6570\u636e\u5305\u4e0d\u662f\u6700\u7ec8\u6570\u636e\u5305\u65f6\uff0c\u53d1\u9001\u65b9\u5c31\u4f1a\u610f\u8bc6\u5230\u6709\u6570\u636e\u5305\u5df2\u7ecf\u4e22\u5931\u3002\u4f8b\u5982\uff0c\u5f53\u53d1\u9001\u65b9\u4e24\u6b21\u6536\u5230\u6570\u636e\u5305 4 \u7684 <code>ACK</code> \u6d88\u606f\u65f6\uff0c\u5b83\u5c31\u77e5\u9053\u63a5\u6536\u65b9\u6ca1\u6709\u6536\u5230\u6570\u636e\u5305 5\u3002</p>"},{"location":"webrtc/forcurious/005.html#selective-acknowledgments","title":"\u9009\u62e9\u6027\u786e\u8ba4\uff08Selective Acknowledgments\uff09","text":"<p>\u9009\u62e9\u6027\u786e\u8ba4\u662f\u5bf9\u786e\u8ba4\u7684\u6539\u8fdb\u3002\u63a5\u6536\u65b9\u53ef\u4ee5\u53d1\u9001\u4e00\u4e2a <code>SACK</code> \u6d88\u606f\u6765\u786e\u8ba4\u591a\u4e2a\u6570\u636e\u5305\u5df2\u7ecf\u6536\u5230\uff0c\u5e76\u901a\u77e5\u53d1\u9001\u8005\u95f4\u9694\u65f6\u95f4\u3002 \u4f8b\u5982\uff0c\u53d1\u9001\u65b9\u53ef\u80fd\u6536\u5230\u4e00\u4e2a\u5305\u542b\u6570\u636e\u5305 4 \u548c 7 \u7684 <code>SACK</code> \u6d88\u606f\u3002\u8fd9\u6837\u5b83\u5c31\u77e5\u9053\u9700\u8981\u91cd\u65b0\u53d1\u9001\u6570\u636e\u5305 5 \u548c 6\u3002</p>"},{"location":"webrtc/forcurious/005.html#negative-acknowledgments","title":"\u5426\u5b9a\u5e94\u7b54\uff08Negative Acknowledgments\uff09","text":"<p>\u5426\u5b9a\u5e94\u7b54\u4ee5\u76f8\u53cd\u7684\u65b9\u5f0f\u89e3\u51b3\u4e86\u95ee\u9898\u3002\u63a5\u6536\u65b9\u5e76\u4e0d\u901a\u77e5\u53d1\u9001\u65b9\u81ea\u5df1\u5df2\u7ecf\u6536\u5230\u4e86\u4ec0\u4e48\uff0c\u800c\u662f\u901a\u77e5\u53d1\u9001\u65b9\u4e22\u5931\u4e86\u4ec0\u4e48\u3002\u5728\u6211\u4eec\u7684\u4f8b\u5b50\u91cc\uff0c\u5c06\u4e3a\u6570\u636e\u5305 5 \u548c 6 \u53d1\u9001\u4e00\u4e2a <code>NACK</code>\u3002\u53d1\u9001\u65b9\u4ec5\u77e5\u9053\u63a5\u6536\u65b9\u5e0c\u671b\u518d\u6b21\u53d1\u9001\u7684\u6570\u636e\u5305\u3002</p>"},{"location":"webrtc/forcurious/005.html#fec","title":"\u524d\u5411\u7ea0\u9519\uff08FEC\uff09","text":"<p>\u524d\u5411\u7ea0\u9519\u53ef\u4ee5\u62a2\u5148\u89e3\u51b3\u4e22\u5305\u95ee\u9898\u3002\u53d1\u9001\u65b9\u5c06\u53d1\u9001\u5197\u4f59\u6570\u636e\uff0c\u8fd9\u610f\u5473\u7740\u90e8\u5206\u6570\u636e\u5305\u4e22\u5931\u4e0d\u4f1a\u5f71\u54cd\u6700\u7ec8\u6d41\u3002\u4e00\u79cd\u6d41\u884c\u7684\u7b97\u6cd5\u662f Reed\u2013Solomon \u7ea0\u9519\u7b97\u6cd5\u3002</p> <p>\u8fd9\u51cf\u5c11\u4e86\u53d1\u9001\u548c\u5904\u7406\u786e\u8ba4\u7684\u5ef6\u8fdf / \u590d\u6742\u5ea6\u3002\u5982\u679c\u4f60\u6240\u5728\u7684\u7f51\u7edc\u7684\u635f\u8017\u4e3a\u96f6\uff0c\u5219\u524d\u5411\u7ea0\u9519\u4f1a\u6d6a\u8d39\u5e26\u5bbd\u3002</p>"},{"location":"webrtc/forcurious/005.html#_11","title":"\u89e3\u51b3\u6296\u52a8\u95ee\u9898","text":"<p>\u5927\u591a\u6570\u7f51\u7edc\u90fd\u5b58\u5728\u6296\u52a8\u3002\u5373\u4f7f\u5728\u5c40\u57df\u7f51\u5185\u90e8\uff0c\u4f60\u4e5f\u6709\u8bb8\u591a\u8bbe\u5907\u4ee5\u53d8\u5316\u7684\u901f\u7387\u53d1\u9001\u6570\u636e\u3002\u4f60\u53ef\u4ee5\u901a\u8fc7\u8fd0\u884c <code>ping</code> \u547d\u4ee4\u5bf9\u5176\u4ed6\u8bbe\u5907\u6267\u884c ping \u64cd\u4f5c\uff0c\u5e76\u6ce8\u610f\u5f80\u8fd4\u5ef6\u8fdf\u7684\u6ce2\u52a8\uff0c\u4ece\u800c\u8f7b\u677e\u5730\u89c2\u5bdf\u5230\u6296\u52a8\u3002</p> <p>\u8981\u89e3\u51b3\u6296\u52a8\u95ee\u9898\uff0c\u5ba2\u6237\u7aef\u4f7f\u7528 JitterBuffer\u3002JitterBuffer \u786e\u4fdd\u6570\u636e\u5305\u7684\u7a33\u5b9a\u4f20\u9012\u65f6\u95f4\u3002\u4e0d\u5229\u7684\u4e00\u9762\u662f\uff0cJitterBuffer \u4e3a\u63d0\u524d\u5230\u8fbe\u7684\u6570\u636e\u5305\u589e\u52a0\u4e86\u4e00\u4e9b\u5ef6\u8fdf\u3002\u597d\u5904\u662f\u5ef6\u8fdf\u7684\u6570\u636e\u5305\u4e0d\u4f1a\u5f15\u8d77\u6296\u52a8\u3002\u60f3\u8c61\u4e00\u4e0b\uff0c\u5728\u901a\u8bdd\u671f\u95f4\uff0c\u4f60\u53ef\u80fd\u4f1a\u770b\u5230\u7c7b\u4f3c\u4e0b\u9762\u8fd9\u6837\u7684\u6570\u636e\u5305\u5230\u8fbe\u65f6\u95f4\u3002</p> <pre><code>* time=1.46 ms\n* time=1.93 ms\n* time=1.57 ms\n* time=1.55 ms\n* time=1.54 ms\n* time=1.72 ms\n* time=1.45 ms\n* time=1.73 ms\n* time=1.80 ms\n</code></pre> <p>\u5728\u8fd9\u4e2a\u4f8b\u5b50\u91cc\uff0c1.8ms \u5de6\u53f3\u5c06\u662f\u4e00\u4e2a\u4e0d\u9519\u7684\u9009\u62e9\u3002\u8f83\u665a\u5230\u8fbe\u7684\u6570\u636e\u5305\u5c06\u4f7f\u7528\u6211\u4eec\u7684\u5ef6\u8fdf\u7a97\u53e3\u3002\u8f83\u65e9\u5230\u8fbe\u7684\u6570\u636e\u5305\u5c06\u88ab\u5ef6\u540e\u4e00\u70b9\uff0c\u5e76\u53ef\u4ee5\u586b\u5145\u7531\u8f83\u665a\u7684\u6570\u636e\u5305\u8017\u5c3d\u7684\u5ef6\u8fdf\u7a97\u53e3\u3002\u8fd9\u610f\u5473\u7740\u6211\u4eec\u4e0d\u4f1a\u518d\u9677\u5165\u65e0\u6570\u636e\u5305\u53ef\u7528\u7684\u56f0\u5883\uff0c\u4ece\u800c\u4e3a\u5ba2\u6237\u63d0\u4f9b\u987a\u7545\u7684\u4f20\u8f93\u7387\u3002</p>"},{"location":"webrtc/forcurious/005.html#jitterbuffer","title":"JitterBuffer\uff08\u6296\u52a8\u7f13\u51b2\u533a\uff09\u64cd\u4f5c","text":"<p>\u6bcf\u4e2a\u6570\u636e\u5305\u5230\u8fbe\u65f6\uff0c\u5c06\u7acb\u5373\u88ab\u6dfb\u52a0\u5230\u6296\u52a8\u7f13\u51b2\u533a\u3002 \u4e00\u65e6\u6709\u4e86\u8db3\u591f\u7684\u6570\u636e\u5305\u6765\u91cd\u5efa\u5e27\uff0c\u7ec4\u6210\u8be5\u5e27\u7684\u6570\u636e\u5305\u5c06\u88ab\u4ece\u7f13\u51b2\u533a\u4e2d\u91ca\u653e\u51fa\u6765\uff0c\u5e76\u53d1\u7ed9\u89e3\u7801\u5668\u8fdb\u884c\u89e3\u7801\u3002 \u89e3\u7801\u5668\u6309\u987a\u5e8f\u8fdb\u884c\u89e3\u7801\uff0c\u5e76\u5728\u7528\u6237\u5c4f\u5e55\u4e0a\u7ed8\u5236\u89c6\u9891\u5e27\u3002 \u7531\u4e8e\u6296\u52a8\u7f13\u51b2\u533a\u7684\u5bb9\u91cf\u662f\u6709\u9650\u7684\uff0c\u56e0\u6b64\u5728\u7f13\u51b2\u533a\u4e2d\u505c\u653e\u65f6\u95f4\u8fc7\u957f\u7684\u6570\u636e\u5305\u5c06\u88ab\u4e22\u5f03\u3002</p> <p>\u5173\u4e8e\u89c6\u9891\u5e27\u662f\u5982\u4f55\u8f6c\u6362\u4e3a RTP \u6570\u636e\u5305\uff0c\u4ee5\u53ca\u4e3a\u4f55\u9700\u8981\u91cd\u5efa\u89c6\u9891\u5e27\u7684\u77e5\u8bc6\uff0c\u4f60\u53ef\u4ee5\u5728\u5a92\u4f53\u901a\u4fe1\u7ae0\u8282\u4e2d\u8bfb\u5230\u66f4\u591a\u3002</p> <p><code>jitterBufferDelay</code>\uff08\u6296\u52a8\u7f13\u51b2\u5ef6\u8fdf\uff09\u4e3a\u4e86\u89e3\u4f60\u7684\u7f51\u7edc\u6027\u80fd\u53ca\u5176\u5bf9\u64ad\u653e\u5e73\u6ed1\u5ea6\u7684\u5f71\u54cd\u63d0\u4f9b\u4e86\u4e00\u4e2a\u5f88\u597d\u7684\u89c6\u89d2\u3002 \u5b83\u662fWebRTC \u7edf\u8ba1 API\u4e2d\u7684\u4e00\u90e8\u5206\uff0c\u4e0e\u63a5\u6536\u65b9\u7684\u5165\u7ad9\u6d41\u6709\u5173\u3002 \u8be5\u5ef6\u8fdf\u5b9a\u4e49\u4e86\u89c6\u9891\u5e27\u5728\u88ab\u53d1\u7ed9\u89e3\u7801\u5668\u4e4b\u524d\u5728 JitterBuffer \u4e2d\u6240\u82b1\u8d39\u7684\u65f6\u95f4\u3002 \u8f83\u957f\u7684\u6296\u52a8\u7f13\u51b2\u5ef6\u8fdf\uff0c\u610f\u5473\u7740\u4f60\u7684\u7f51\u7edc\u5904\u4e8e\u9ad8\u5ea6\u62e5\u585e\u72b6\u6001\u3002</p>"},{"location":"webrtc/forcurious/005.html#_12","title":"\u68c0\u6d4b\u62e5\u585e\u95ee\u9898","text":"<p>\u5728\u6211\u4eec\u89e3\u51b3\u62e5\u585e\u95ee\u9898\u4e4b\u524d\uff0c\u6211\u4eec\u9700\u8981\u5148\u68c0\u6d4b\u5230\u62e5\u585e\u3002\u4e3a\u4e86\u68c0\u6d4b\u5230\u5b83\uff0c\u6211\u4eec\u4f7f\u7528\u62e5\u585e\u63a7\u5236\u5668\u3002\u8fd9\u662f\u4e00\u4e2a\u590d\u6742\u7684\u4e3b\u9898\uff0c\u5e76\u4e14\u4ecd\u5728\u8fc5\u901f\u53d8\u5316\u4e2d\u3002 \u4e00\u4e9b\u65b0\u7b97\u6cd5\u4ecd\u5728\u6301\u7eed\u88ab\u53d1\u5e03\u548c\u6d4b\u8bd5\u3002\u603b\u7684\u6765\u770b\uff0c\u5b83\u4eec\u90fd\u4ee5\u76f8\u540c\u7684\u65b9\u5f0f\u8fd0\u884c\u3002\u5373\u662f\u8bf4\uff0c\u62e5\u585e\u63a7\u5236\u5668\u5728\u7ed9\u5b9a\u67d0\u4e9b\u8f93\u5165\u7684\u60c5\u51b5\u4e0b\u63d0\u4f9b\u5e26\u5bbd\u4f30\u8ba1\u503c\u3002 \u8fd9\u91cc\u662f\u4e00\u4e9b\u53ef\u80fd\u7684\u8f93\u5165\uff1a</p> <ul> <li>\u6570\u636e\u5305\u4e22\u5931 - \u968f\u7740\u7f51\u7edc\u9010\u6e10\u53d8\u5f97\u62e5\u585e\uff0c\u6570\u636e\u5305\u5f00\u59cb\u88ab\u4e22\u5f03\u3002</li> <li>\u6296\u52a8 - \u968f\u7740\u7f51\u7edc\u8bbe\u5907\u53d8\u5f97\u8d8a\u6765\u8d8a\u8fc7\u8f7d\uff0c\u5c06\u5bfc\u81f4\u6570\u636e\u5305\u6392\u961f\u65f6\u95f4\u53d8\u5f97\u4e0d\u7a33\u5b9a\u3002</li> <li>\u5c01\u5305\u5f80\u8fd4\u65f6\u95f4\uff08RTT\uff09 - \u62e5\u585e\u65f6\uff0c\u6570\u636e\u5305\u5c06\u9700\u8981\u66f4\u957f\u7684\u65f6\u95f4\u624d\u80fd\u5230\u8fbe\u3002\u4e0e\u6296\u52a8\u4e0d\u540c\u7684\u662f\uff0c\u5f80\u8fd4\u65f6\u95f4\u662f\u6301\u7eed\u589e\u52a0\u7684\u3002</li> <li>\u663e\u5f0f\u62e5\u585e\u901a\u77e5\uff08ECN\uff09 - \u8f83\u65b0\u7684\u7f51\u7edc\u53ef\u80fd\u4f1a\u5c06\u6570\u636e\u5305\u6807\u8bb0\u4e3a\u6709\u62e5\u585e\u9020\u6210\u4e22\u5931\u7684\u98ce\u9669\uff0c\u8fd9\u6837\u53ef\u4ee5\u7f13\u89e3\u62e5\u585e\u3002</li> </ul> <p>\u8fd9\u4e9b\u503c\u9700\u8981\u5728\u901a\u8bdd\u671f\u95f4\u6301\u7eed\u4e0d\u65ad\u7684\u6d4b\u91cf\u3002\u7f51\u7edc\u7684\u5229\u7528\u7387\u53ef\u80fd\u4f1a\u589e\u52a0\u6216\u51cf\u5c11\uff0c\u56e0\u6b64\u53ef\u7528\u5e26\u5bbd\u53ef\u80fd\u4f1a\u4e0d\u65ad\u53d8\u5316\u3002</p>"},{"location":"webrtc/forcurious/005.html#_13","title":"\u89e3\u51b3\u62e5\u585e\u95ee\u9898","text":"<p>\u73b0\u5728\u6211\u4eec\u6709\u4e86\u4e00\u4e2a\u4f30\u8ba1\u7684\u5e26\u5bbd\u503c\uff0c\u6211\u4eec\u9700\u8981\u8c03\u6574\u53d1\u9001\u7684\u5185\u5bb9\u3002\u5982\u4f55\u8c03\u6574\u53d6\u51b3\u4e8e\u6211\u4eec\u8981\u53d1\u9001\u7684\u6570\u636e\u7c7b\u578b\u3002</p>"},{"location":"webrtc/forcurious/005.html#_14","title":"\u964d\u4f4e\u53d1\u9001\u901f\u5ea6","text":"<p>\u9650\u5236\u53d1\u9001\u6570\u636e\u7684\u901f\u5ea6\u662f\u9632\u6b62\u62e5\u585e\u7684\u7b2c\u4e00\u4e2a\u89e3\u51b3\u65b9\u6848\u3002\u62e5\u585e\u63a7\u5236\u5668\u4e3a\u4f60\u63d0\u4f9b\u4e86\u5e26\u5bbd\u7684\u4f30\u8ba1\u503c\uff0c\u53d1\u9001\u65b9\u6709\u8d23\u4efb\u5bf9\u53d1\u9001\u901f\u7387\u8fdb\u884c\u9650\u5236\u3002</p> <p>\u8fd9\u662f\u9002\u7528\u4e8e\u5927\u591a\u6570\u6570\u636e\u901a\u4fe1\u7684\u65b9\u6cd5\u3002\u5bf9\u4e8e\u50cf TCP \u8fd9\u6837\u7684\u534f\u8bae\uff0c\u8fd9\u5168\u90e8\u7531\u64cd\u4f5c\u7cfb\u7edf\u5b8c\u6210\uff0c\u5e76\u4e14\u5bf9\u7528\u6237\u548c\u5f00\u53d1\u4eba\u5458\u90fd\u662f\u5b8c\u5168\u900f\u660e\u7684\u3002</p>"},{"location":"webrtc/forcurious/005.html#_15","title":"\u51cf\u5c11\u53d1\u9001\u7684\u6570\u636e","text":"<p>\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u53ef\u4ee5\u53d1\u9001\u66f4\u5c11\u7684\u4fe1\u606f\u6765\u6ee1\u8db3\u6211\u4eec\u7684\u9650\u5236\u3002\u5bf9\u4e8e\u6570\u636e\u7684\u5230\u8fbe\u65f6\u95f4\uff0c\u6211\u4eec\u53ef\u80fd\u6709\u4e25\u683c\u7684\u9650\u5236\uff0c\u56e0\u6b64\u6211\u4eec\u53d1\u9001\u901f\u5ea6\u4e0d\u80fd\u592a\u6162\u3002\u8fd9\u4e9b\u662f\u5b9e\u65f6\u5a92\u4f53\u6240\u53d7\u7684\u9650\u5236\u3002</p> <p>\u5982\u679c\u6211\u4eec\u6ca1\u6709\u8db3\u591f\u7684\u53ef\u7528\u5e26\u5bbd\uff0c\u6211\u4eec\u53ef\u4ee5\u964d\u4f4e\u53d1\u9001\u7684\u89c6\u9891\u8d28\u91cf\u3002\u8fd9\u8981\u6c42\u4f60\u7684\u89c6\u9891\u7f16\u7801\u5668\u548c\u62e5\u585e\u63a7\u5236\u5668\u4e4b\u95f4\u5b58\u5728\u7d27\u5bc6\u7684\u53cd\u9988\u56de\u8def\u3002</p>"},{"location":"webrtc/forcurious/006.html","title":"\u5a92\u4f53\u901a\u4fe1","text":""},{"location":"webrtc/forcurious/006.html#webrtc","title":"\u6211\u53ef\u4ee5\u4ece WebRTC \u7684\u5a92\u4f53\u901a\u4fe1\u4e2d\u5f97\u5230\u4ec0\u4e48\uff1f","text":"<p>WebRTC \u5141\u8bb8\u4f60\u53d1\u9001\u548c\u63a5\u6536\u65e0\u9650\u591a\u6761\u97f3\u9891\u548c\u89c6\u9891\u6d41\u3002\u4f60\u53ef\u4ee5\u5728\u901a\u8bdd\u671f\u95f4\u968f\u65f6\u6dfb\u52a0\u548c\u5220\u9664\u8fd9\u4e9b\u6d41\u3002\u8fd9\u4e9b\u6d41\u53ef\u4ee5\u5168\u90e8\u72ec\u7acb\uff0c\u4e5f\u53ef\u4ee5\u6346\u7ed1\u5728\u4e00\u8d77\uff01\u4f60\u751a\u81f3\u53ef\u4ee5\u5c06\u7f51\u7edc\u6444\u50cf\u5934\u7684\u97f3\u9891\u548c\u89c6\u9891\u653e\u5230\u4f60\u684c\u9762\u7684\u89c6\u9891\u4e2d\uff0c\u7136\u540e\u5c06\u6b64\u89c6\u9891\u4ee5 feed \u7684\u5f62\u5f0f\u53d1\u9001\u51fa\u53bb\u3002</p> <p>WebRTC \u534f\u8bae\u4e0e\u7f16\u89e3\u7801\u5668\u65e0\u5173\u3002\u5e95\u5c42\u4f20\u8f93\u652f\u6301\u6240\u6709\u683c\u5f0f\u7684\u5185\u5bb9\uff0c\u5373\u4f7f\u662f\u8fd8\u4e0d\u5b58\u5728\u7684\u683c\u5f0f\uff01 \u4f46\u662f\uff0c\u4f60\u6b63\u4e0e\u4e4b\u901a\u4fe1\u7684 WebRTC Agent \u53ef\u80fd\u6ca1\u6709\u5fc5\u8981\u7684\u5de5\u5177\u6765\u63a5\u53d7\u5b83\u3002</p> <p>WebRTC \u9488\u5bf9\u52a8\u6001\u7f51\u7edc\u72b6\u51b5\u4e5f\u6709\u5bf9\u5e94\u7684\u5904\u7406\u65b9\u6848\u3002\u5728\u901a\u8bdd\u8fc7\u7a0b\u4e2d\uff0c\u5e26\u5bbd\u53ef\u80fd\u4f1a\u589e\u52a0\u6216\u51cf\u5c11\u3002\u751a\u81f3\u53ef\u80fd\u7a81\u7136\u95f4\u5927\u91cf\u4e22\u5305\u3002\u8be5\u534f\u8bae\u5bf9\u6240\u6709\u8fd9\u7c7b\u95ee\u9898\u7684\u5904\u7406\u90fd\u505a\u4e86\u76f8\u5e94\u7684\u8bbe\u8ba1\u3002WebRTC \u6839\u636e\u7f51\u7edc\u72b6\u51b5\u4f5c\u51fa\u54cd\u5e94\uff0c\u5e76\u5c1d\u8bd5\u5229\u7528\u53ef\u7528\u8d44\u6e90\u4e3a\u4f60\u63d0\u4f9b\u6700\u4f73\u4f53\u9a8c\u3002</p>"},{"location":"webrtc/forcurious/006.html#_2","title":"\u5b83\u662f\u5982\u4f55\u5de5\u4f5c\u7684\uff1f","text":"<p>WebRTC \u4f7f\u7528RFC 1889\u4e2d\u5b9a\u4e49\u7684\u4e24\u4e2a\u65e2\u6709\u534f\u8bae RTP \u548c RTCP\u3002</p> <p>RTP\uff08\u5b9e\u65f6\u4f20\u8f93\u534f\u8bae /Real-time Transport Protocol\uff09\u662f\u627f\u8f7d\u5a92\u4f53\u7684\u534f\u8bae\u3002\u5b83\u4e3a\u89c6\u9891\u7684\u5b9e\u65f6\u4f20\u8f93\u800c\u8bbe\u8ba1\u3002\u5b83\u6ca1\u6709\u89c4\u5b9a\u6709\u5173\u5ef6\u8fdf\u6216\u53ef\u9760\u6027\u7684\u4efb\u4f55\u89c4\u5219\uff0c\u4f46\u662f\u4e3a\u4f60\u63d0\u4f9b\u4e86\u5b9e\u73b0\u8fd9\u4e9b\u89c4\u5219\u7684\u5de5\u5177\u3002RTP \u63d0\u4f9b\u4e86\u6d41\u7684\u8bbe\u8ba1\uff0c\u56e0\u6b64\u4f60\u53ef\u4ee5\u901a\u8fc7\u4e00\u4e2a\u8fde\u63a5\u53d1\u5e03\u591a\u4e2a\u5a92\u4f53\u6e90\u3002\u5b83\u8fd8\u4e3a\u4f60\u63d0\u4f9b\u4e86\u5b8c\u5584\u5a92\u4f53\u4f20\u9012\u9014\u5f84\u6240\u9700\u7684\u8ba1\u65f6\u548c\u6392\u5e8f\u4fe1\u606f\u3002</p> <p>RTCP\uff08RTP \u63a7\u5236\u534f\u8bae /RTP Control Protocol\uff09\u662f\u7528\u4e8e\u4f20\u8fbe\u6709\u5173\u547c\u53eb\u7684\u5143\u6570\u636e\u7684\u534f\u8bae\u3002\u5176\u683c\u5f0f\u975e\u5e38\u7075\u6d3b\uff0c\u5e76\u5141\u8bb8\u4f60\u53ef\u4ee5\u6dfb\u52a0\u6240\u9700\u7684\u4efb\u4f55\u5143\u6570\u636e\u3002\u8fd9\u70b9\u88ab\u7528\u6765\u4f20\u8fbe\u6709\u5173\u547c\u53eb\u7684\u7edf\u8ba1\u4fe1\u606f\u3002\u4e5f\u662f\u5904\u7406\u5206\u7ec4\u4e22\u5931\u548c\u5b9e\u73b0\u62e5\u585e\u63a7\u5236\u7684\u5fc5\u5907\u7279\u6027\u3002\u5b83\u4e3a\u4f60\u63d0\u4f9b\u4e86\u54cd\u5e94\u53d8\u5316\u7684\u7f51\u7edc\u72b6\u51b5\u6240\u5fc5\u9700\u7684\u53cc\u5411\u901a\u4fe1\u80fd\u529b\u3002</p>"},{"location":"webrtc/forcurious/006.html#_3","title":"\u5ef6\u8fdf\u4e0e\u8d28\u91cf","text":"<p>\u5b9e\u65f6\u5a92\u4f53\u5c31\u662f\u8981\u5728\u5ef6\u8fdf\u548c\u8d28\u91cf\u4e4b\u95f4\u8fdb\u884c\u6743\u8861\u3002\u4f60\u613f\u610f\u5fcd\u53d7\u7684\u5ef6\u8fdf\u65f6\u95f4\u8d8a\u957f\uff0c\u53ef\u4ee5\u9884\u671f\u7684\u89c6\u9891\u8d28\u91cf\u5c31\u8d8a\u9ad8\u3002</p>"},{"location":"webrtc/forcurious/006.html#_4","title":"\u73b0\u5b9e\u4e16\u754c\u7684\u5c40\u9650\u6027","text":"<p>\u4e0b\u9762\u8fd9\u4e9b\u9650\u5236\u90fd\u662f\u7531\u73b0\u5b9e\u4e16\u754c\u7684\u5c40\u9650\u6027\u5f15\u8d77\u7684\u3002\u5b83\u4eec\u90fd\u662f\u4f60\u9700\u8981\u8003\u8651\u7684\u7f51\u7edc\u7279\u6027\u3002</p>"},{"location":"webrtc/forcurious/006.html#_5","title":"\u89c6\u9891\u662f\u590d\u6742\u7684","text":"<p>\u4f20\u8f93\u89c6\u9891\u5e76\u4e0d\u5bb9\u6613\u3002\u8981\u5b58\u50a8 30 \u5206\u949f\u672a\u7ecf\u538b\u7f29\u7684 720p \u7684 8-bit \u89c6\u9891\uff0c\u4f60\u9700\u8981\u5927\u7ea6 110GB\u3002\u6309\u7167\u8fd9\u4e2a\u6570\u636e\uff0c4 \u4eba\u7535\u8bdd\u4f1a\u8bae\u5c31\u5f00\u4e0d\u6210\u4e86\u3002\u6211\u4eec\u9700\u8981\u4e00\u79cd\u7f29\u5c0f\u5bb9\u91cf\u7684\u65b9\u6cd5\uff0c\u800c\u7b54\u6848\u5c31\u662f\u89c6\u9891\u538b\u7f29\u3002\u4f46\u662f\uff0c\u8fd9\u5e76\u975e\u6ca1\u6709\u7f3a\u70b9\u3002</p>"},{"location":"webrtc/forcurious/006.html#101","title":"\u89c6\u9891 101","text":"<p>\u6211\u4eec\u4e0d\u4f1a\u6df1\u5165\u4ecb\u7ecd\u89c6\u9891\u538b\u7f29\uff0c\u53ea\u9700\u8981\u8ba9\u5927\u5bb6\u8db3\u4ee5\u7406\u89e3\u4e3a\u4ec0\u4e48 RTP \u662f\u8fd9\u4e48\u8bbe\u8ba1\u7684\u3002\u89c6\u9891\u538b\u7f29\u4f1a\u5c06\u89c6\u9891\u7f16\u7801\u4e3a\u4e00\u79cd\u65b0\u683c\u5f0f\uff0c\u8fd9\u6837\u53ef\u4ee5\u9700\u8981\u8f83\u5c11\u7684 bit \u6570\u6765\u8868\u793a\u540c\u4e00\u89c6\u9891\u3002</p>"},{"location":"webrtc/forcurious/006.html#_6","title":"\u6709\u635f\u548c\u65e0\u635f\u538b\u7f29","text":"<p>\u4f60\u53ef\u4ee5\u5c06\u89c6\u9891\u7f16\u7801\u4e3a\u65e0\u635f\uff08\u65e0\u4fe1\u606f\u4e22\u5931\uff09\u6216\u6709\u635f\uff08\u4fe1\u606f\u53ef\u80fd\u4e22\u5931\uff09\u538b\u7f29\u3002\u7531\u4e8e\u65e0\u635f\u7f16\u7801\u9700\u8981\u5c06\u66f4\u591a\u7684\u6570\u636e\u53d1\u9001\u5230\u5bf9\u7aef\uff0c\u8fd9\u6837\u4f1a\u5bfc\u81f4\u66f4\u9ad8\u7684\u6d41\u5ef6\u8fdf\u548c\u66f4\u591a\u7684\u4e22\u5305\uff0c\u56e0\u6b64 RTP \u901a\u5e38\u4f7f\u7528\u6709\u635f\u538b\u7f29\uff0c\u5373\u4f7f\u8fd9\u6837\u53ef\u80fd\u4f1a\u5bfc\u81f4\u89c6\u9891\u8d28\u91cf\u4e0d\u4f73\u3002</p>"},{"location":"webrtc/forcurious/006.html#_7","title":"\u5e27\u5185\u548c\u5e27\u95f4\u538b\u7f29","text":"<p>\u89c6\u9891\u538b\u7f29\u6709\u4e24\u79cd\u7c7b\u578b\u3002\u9996\u5148\u662f\u5e27\u5185\u538b\u7f29\u3002\u5e27\u5185\u538b\u7f29\u51cf\u5c11\u4e86\u7528\u4e8e\u63cf\u8ff0\u5355\u4e2a\u89c6\u9891\u5e27\u7684 bit \u6570\u3002\u76f8\u540c\u7684\u6280\u672f\u88ab\u7528\u6765\u538b\u7f29\u9759\u6001\u56fe\u7247\uff0c\u4f8b\u5982 JPEG \u538b\u7f29\u65b9\u6cd5\u3002</p> <p>\u7b2c\u4e8c\u79cd\u7c7b\u578b\u662f\u5e27\u95f4\u538b\u7f29\u3002\u7531\u4e8e\u89c6\u9891\u662f\u7531\u8bb8\u591a\u56fe\u7247\u7ec4\u6210\u7684\uff0c\u56e0\u6b64\u6211\u4eec\u9700\u8981\u5bfb\u627e\u65e0\u9700\u5c06\u76f8\u540c\u4fe1\u606f\u53d1\u9001\u4e24\u6b21\u7684\u65b9\u5f0f\u3002</p>"},{"location":"webrtc/forcurious/006.html#_8","title":"\u5e27\u95f4\u538b\u7f29","text":"<p>\u5e27\u6709\u4e09\u79cd\u7c7b\u578b\uff1a</p> <ul> <li>I \u5e27 - \u4e00\u5f20\u5b8c\u6574\u7684\u56fe\u7247\uff0c\u65e0\u9700\u4efb\u4f55\u5176\u4ed6\u5185\u5bb9\u5373\u53ef\u89e3\u7801\u3002</li> <li>P \u5e27 - \u4e00\u5f20\u56fe\u7247\u7684\u4e00\u90e8\u5206\uff0c\u4ec5\u5305\u542b\u5bf9\u4e4b\u524d\u56fe\u7247\u7684\u4fee\u6539\u3002</li> <li>B \u5e27 - \u4e00\u5f20\u56fe\u7247\u7684\u4e00\u90e8\u5206\uff0c\u5305\u542b\u5bf9\u4e4b\u524d\u56fe\u7247\u548c\u5c06\u6765\u56fe\u7247\u7684\u4fee\u6539\u3002</li> </ul> <p>\u4ee5\u4e0b\u662f\u5bf9\u8fd9\u4e09\u79cd\u7c7b\u578b\u5e27\u7684\u56fe\u89e3\u3002</p> <p></p>"},{"location":"webrtc/forcurious/006.html#_9","title":"\u89c6\u9891\u5f88\u8106\u5f31","text":"<p>\u538b\u7f29\u540e\u7684\u89c6\u9891\u662f\u6709\u72b6\u6001\u7684\uff0c\uff08\u89c6\u9891\u89e3\u7801\uff09\u975e\u5e38\u4f9d\u8d56\u5176\u4e0a\u4e0b\u6587\uff0c\u8fd9\u4f7f\u5f97\u89c6\u9891\u5f88\u96be\u901a\u8fc7 Internet \u8fdb\u884c\u4f20\u8f93\u3002\u60f3\u50cf\u4e00\u4e0b\uff0c\u5982\u679c I \u5e27\u7684\u4e00\u90e8\u5206\u4e22\u5931\u4e86\u4f1a\u600e\u6837\uff1f\u8fd9\u6837 P \u5e27\u5982\u4f55\u77e5\u9053\u8981\u4fee\u6539\u7684\u5185\u5bb9\uff1f \u968f\u7740\u89c6\u9891\u538b\u7f29\u53d8\u5f97\u8d8a\u6765\u8d8a\u590d\u6742\uff0c\u8fd9\u6210\u4e3a\u4e00\u4e2a\u66f4\u5927\u7684\u95ee\u9898\u3002\u5e78\u8fd0\u7684\u662f\uff0cRTP \u548c RTCP \u5bf9\u6b64\u90fd\u6709\u89e3\u51b3\u65b9\u6848\u3002</p>"},{"location":"webrtc/forcurious/006.html#rtp","title":"RTP","text":""},{"location":"webrtc/forcurious/006.html#packet-format","title":"Packet Format\uff08\u5305\u683c\u5f0f\uff09","text":"<p>\u6bcf\u4e2a RTP \u6570\u636e\u5305\u90fd\u5177\u6709\u4ee5\u4e0b\u7ed3\u6784\uff1a</p> <pre><code> 0                   1                   2                   3\n 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n|V=2|P|X|  CC   |M|     PT      |       Sequence Number         |\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n|                           Timestamp                           |\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n|           Synchronization Source (SSRC) identifier            |\n+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+\n|            Contributing Source (CSRC) identifiers             |\n|                             ....                              |\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n|                            Payload                            |\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n</code></pre>"},{"location":"webrtc/forcurious/006.html#version-v","title":"Version (V)","text":"<p><code>Version</code> \u603b\u662f <code>2</code>\u3002</p>"},{"location":"webrtc/forcurious/006.html#padding-p","title":"Padding (P)","text":"<p><code>Padding</code> \u662f\u63a7\u5236\u6709\u6548\u8f7d\u8377\u662f\u5426\u5177\u6709\u586b\u5145\u503c\u7684\u5e03\u5c14\u503c\u3002</p> <p>\u6709\u6548\u8d1f\u8f7d\u7684\u6700\u540e\u4e00\u4e2a\u5b57\u8282\u5305\u542b\u6dfb\u52a0\u4e86\u591a\u5c11\u586b\u5145\u5b57\u8282\u7684\u8ba1\u6570\u3002</p>"},{"location":"webrtc/forcurious/006.html#extension-x","title":"Extension (X)","text":"<p>\u5982\u679c\u8bbe\u7f6e\u7684\u8bdd\uff0cRTP \u62a5\u5934\u5c06\u6709\u6269\u5c55\u6bb5\uff08\u53ef\u9009\uff09\u3002\u8fd9\u70b9\u5c06\u5728\u4e0b\u9762\u66f4\u8be6\u7ec6\u5730\u63cf\u8ff0\u3002</p>"},{"location":"webrtc/forcurious/006.html#csrc-count-cc","title":"CSRC count (CC)","text":"<p>\u5728 <code>SSRC</code> \u4e4b\u540e\uff0c\u6709\u6548\u8d1f\u8f7d\u4e4b\u524d\u7684 <code>CSRC</code> \u6807\u8bc6\u7b26\u7684\u6570\u91cf\u3002</p>"},{"location":"webrtc/forcurious/006.html#marker-m","title":"Marker (M)","text":"<p>\u6807\u8bb0\u4f4d\u6ca1\u6709\u9884\u8bbe\u542b\u4e49\uff0c\u7528\u6237\u53ef\u4ee5\u6839\u636e\u81ea\u5df1\u7684\u9700\u6c42\u968f\u610f\u4f7f\u7528\u5b83\u3002</p> <p>\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c\u5b83\u662f\u5728\u7528\u6237\u8bb2\u8bdd\u65f6\u8bbe\u7f6e\u7684\u3002\u5b83\u8fd8\u901a\u5e38\u7528\u4e8e\u6807\u8bb0\u5173\u952e\u5e27\u3002</p>"},{"location":"webrtc/forcurious/006.html#payload-type-pt","title":"Payload Type (PT)","text":"<p><code>Payload Type</code>\uff08\u8d1f\u8f7d\u7c7b\u578b\uff09\u662f\u6b64\u6570\u636e\u5305\u6240\u627f\u8f7d\u7684\u7f16\u89e3\u7801\u5668\u7684\u4e00\u4e2a\u552f\u4e00\u6807\u8bc6\u7b26\u3002</p> <p>\u5bf9\u4e8e WebRTC\uff0c<code>Payload Type</code> \u662f\u52a8\u6001\u7684\u3002\u4e00\u4e2a\u547c\u53eb\u4e2d\u7684 VP8 \u7684 PT \u53ef\u80fd\u4e0e\u53e6\u4e00\u4e2a\u547c\u53eb\u4e2d\u7684\u4e0d\u540c\u3002\u547c\u53eb\u4e2d\u7684 offerer \u786e\u5b9a <code>Payload Type</code> \u5230 <code>Session Description</code>\uff08\u4f1a\u8bdd\u63cf\u8ff0\u7b26\uff09\u4e2d\u7684\u7f16\u89e3\u7801\u5668\u7684\u6620\u5c04\u3002</p>"},{"location":"webrtc/forcurious/006.html#sequence-number","title":"Sequence Number","text":"<p><code>Sequence Number</code>\uff08\u5e8f\u5217\u53f7\uff09\u7528\u4e8e\u5bf9\u6d41\u4e2d\u7684\u6570\u636e\u5305\u8fdb\u884c\u6392\u5e8f\u3002\u6bcf\u6b21\u53d1\u9001\u6570\u636e\u5305\u65f6\uff0c<code>Sequence Number</code> \u90fd\u4f1a\u589e\u52a0 1\u3002</p> <p>RTP \u88ab\u8bbe\u8ba1\u4e3a\u53ef\u4ee5\u5728\u6709\u635f\u7f51\u7edc\u4e0a\u4f7f\u7528\u3002\u8fd9\u4e3a\u63a5\u6536\u5668\u63d0\u4f9b\u4e86\u4e00\u79cd\u68c0\u6d4b\u6570\u636e\u5305\u4f55\u65f6\u4e22\u5931\u7684\u65b9\u6cd5\u3002</p>"},{"location":"webrtc/forcurious/006.html#timestamp","title":"Timestamp","text":"<p>\u6b64\u6570\u636e\u5305\u7684\u91c7\u6837\u65f6\u523b\u3002\u8fd9\u4e0d\u662f\u5168\u5c40\u65f6\u949f\uff0c\u800c\u662f\u5728\u5f53\u524d\u5a92\u4f53\u6d41\u4e2d\u6240\u7ecf\u8fc7\u7684\u65f6\u95f4\u3002\u4e3e\u4f8b\u6765\u8bf4\uff0c\u5982\u679c\u591a\u4e2a RTP \u5305\u90fd\u5c5e\u4e8e\u540c\u4e00\u89c6\u9891\u5e27\uff0c\u90a3\u4e48\u5b83\u4eec\u53ef\u80fd\u5177\u6709\u76f8\u540c\u7684\u65f6\u95f4\u6233\u3002</p>"},{"location":"webrtc/forcurious/006.html#synchronization-source-ssrc","title":"Synchronization Source (SSRC)","text":"<p><code>SSRC</code> \u662f\u6b64\u6d41\u7684\u552f\u4e00\u6807\u8bc6\u7b26\u3002\u8fd9\u4f7f\u4f60\u53ef\u4ee5\u5728\u5355\u4e2a RTP \u6d41\u4e0a\u4f20\u8f93\u591a\u4e2a\u5a92\u4f53\u6d41\u3002</p>"},{"location":"webrtc/forcurious/006.html#contributing-source-csrc","title":"Contributing Source (CSRC)","text":"<p>\u4e00\u4e2a\u5217\u8868\uff0c\u7528\u4e8e\u8868\u793a\u54ea\u4e9b <code>SSRC</code> \u53c2\u4e0e\u5230\u4e86\u8fd9\u4e2a\u6570\u636e\u5305\u4e2d\u3002</p> <p>\u8fd9\u901a\u5e38\u7528\u4e8e\u8bed\u97f3\u6307\u793a\u5668\u3002\u5047\u8bbe\u5728\u670d\u52a1\u5668\u7aef\uff0c\u4f60\u5c06\u591a\u4e2a\u97f3\u9891\u6e90\u7ec4\u5408\u5230\u4e00\u4e2a\u5355\u72ec\u7684 RTP \u6d41\u4e2d\u3002\u7136\u540e\uff0c\u4f60\u53ef\u4ee5\u5728\u6b64\u5b57\u6bb5\u4e2d\u8868\u793a \" \u8f93\u5165\u6d41 A \u548c C \u6b64\u65f6\u6b63\u5728\u8bb2\u8bdd \"\u3002</p>"},{"location":"webrtc/forcurious/006.html#payload","title":"Payload","text":"<p>\u5b9e\u9645\u6709\u6548\u8d1f\u8f7d\u6570\u636e\u3002\u5982\u679c\u8bbe\u7f6e\u4e86\u586b\u5145\uff08padding\uff09\u6807\u8bb0\uff0c\u5219\u53ef\u80fd\u4ee5\u6dfb\u52a0\u7684\u586b\u5145\u5b57\u8282\u6570\u7ed3\u5c3e\u3002</p>"},{"location":"webrtc/forcurious/006.html#extensions","title":"Extensions\uff08\u6269\u5c55\uff09","text":""},{"location":"webrtc/forcurious/006.html#rtcp","title":"RTCP","text":""},{"location":"webrtc/forcurious/006.html#packet-format_1","title":"Packet Format","text":"<p>\u6bcf\u4e2a RTCP \u6570\u636e\u5305\u90fd\u5177\u6709\u4ee5\u4e0b\u7ed3\u6784\uff1a</p> <pre><code> 0                   1                   2                   3\n 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n|V=2|P|    RC   |       PT      |             length            |\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n|                            Payload                            |\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n</code></pre>"},{"location":"webrtc/forcurious/006.html#version-v_1","title":"Version (V)","text":"<p><code>Version</code> \u603b\u662f <code>2</code>\u3002</p>"},{"location":"webrtc/forcurious/006.html#padding-p_1","title":"Padding (P)","text":"<p><code>Padding</code> \u662f\u63a7\u5236\u6709\u6548\u8f7d\u8377\u662f\u5426\u5177\u6709\u586b\u5145\u503c\u7684\u5e03\u5c14\u503c\u3002</p> <p>\u6709\u6548\u8d1f\u8f7d\u7684\u6700\u540e\u4e00\u4e2a\u5b57\u8282\u5305\u542b\u6dfb\u52a0\u4e86\u591a\u5c11\u586b\u5145\u5b57\u8282\u7684\u8ba1\u6570\u3002</p>"},{"location":"webrtc/forcurious/006.html#reception-report-count-rc","title":"Reception Report Count (RC)","text":"<p>\u6b64\u6570\u636e\u5305\u4e2d\u7684\u62a5\u544a\u6570\u3002\u5355\u4e2a RTCP \u6570\u636e\u5305\u53ef\u4ee5\u5305\u542b\u591a\u4e2a\u4e8b\u4ef6\u3002</p>"},{"location":"webrtc/forcurious/006.html#packet-type-pt","title":"Packet Type (PT)","text":"<p>\u6307\u793a RTCP \u6570\u636e\u5305\u7c7b\u578b\u7684\u552f\u4e00\u6807\u8bc6\u7b26\u3002WebRTC Agent \u4e0d\u9700\u8981\u652f\u6301\u6240\u6709\u8fd9\u4e9b\u7c7b\u578b\uff0c\u5e76\u4e14 Agent \u4e4b\u95f4\u7684\u652f\u6301\u80fd\u529b\u53ef\u4ee5\u662f\u4e0d\u540c\u7684\u3002\u4e0b\u9762\u8fd9\u4e9b\u662f\u4f60\u53ef\u80fd\u7ecf\u5e38\u770b\u5230\u7684\u7c7b\u578b\uff1a</p> <ul> <li><code>192</code> - \u5b8c\u6574\u7684\u5e27\u5185\u8bf7\u6c42\uff08FIR\uff09-</li> <li><code>193</code> - \u5426\u5b9a\u786e\u8ba4\uff08NACK\uff09</li> <li><code>200</code> - \u53d1\u9001\u65b9\u62a5\u544a</li> <li><code>201</code> - \u63a5\u6536\u65b9\u62a5\u544a</li> <li><code>205</code> - \u901a\u7528 RTP \u53cd\u9988</li> <li><code>206</code> - \u6709\u6548\u8d1f\u8f7d\u7279\u5b9a\u53cd\u9988</li> </ul> <p>\u8fd9\u4e9b\u5206\u7ec4\u7c7b\u578b\u7684\u610f\u4e49\u5c06\u5728\u4e0b\u9762\u66f4\u8be6\u7ec6\u5730\u63cf\u8ff0\u3002</p>"},{"location":"webrtc/forcurious/006.html#firpli","title":"\u5b8c\u6574\u7684\u5e27\u5185\u8bf7\u6c42\uff08FIR\uff09\u548c\u56fe\u7247\u4e22\u5931\u6307\u793a\uff08PLI\uff09","text":"<p><code>FIR</code> \u548c <code>PLI</code> \u6d88\u606f\u7684\u76ee\u7684\u662f\u7c7b\u4f3c\u7684\u3002\u8fd9\u4e9b\u6d88\u606f\u90fd\u662f\u5411\u53d1\u9001\u65b9\u8bf7\u6c42\u4e00\u4e2a\u5b8c\u6574\u7684\u5173\u952e\u5e27\u3002 <code>PLI</code> \u7528\u4e8e\u89e3\u7801\u5668\u5f97\u5230\u4e86\u90e8\u5206\u5e27\uff0c\u4f46\u5374\u65e0\u6cd5\u89e3\u7801\u7684\u60c5\u51b5\u3002 \u4e4b\u6240\u4ee5\u4f1a\u53d1\u751f\u8fd9\u79cd\u60c5\u51b5\uff0c\u662f\u56e0\u4e3a\u4f60\u6709\u5f88\u591a\u6570\u636e\u5305\u4e22\u5931\uff0c\u6216\u8005\u89e3\u7801\u5668\u5d29\u6e83\u4e86\u3002</p> <p>\u6839\u636eRFC 5104\uff0c\u5f53\u6570\u636e\u5305\u6216\u5e27\u4e22\u5931\u65f6\uff0c\u4e0d\u5e94\u4f7f\u7528 <code>FIR</code>\uff0c\u90a3\u662f <code>PLI</code> \u7684\u4efb\u52a1\u3002\u7528 <code>FIR</code> \u8bf7\u6c42\u5173\u952e\u5e27\u9002\u7528\u4e8e\u4e22\u5305\u4ee5\u5916\u7684\u5176\u4ed6\u539f\u56e0\uff08\u4f8b\u5982\uff0c\u5f53\u65b0\u6210\u5458\u8fdb\u5165\u89c6\u9891\u4f1a\u8bae\u65f6\uff09\u3002\u4ed6\u4eec\u9700\u8981\u4e00\u4e2a\u5b8c\u6574\u7684\u5173\u952e\u5e27\u624d\u80fd\u5f00\u59cb\u5bf9\u89c6\u9891\u6d41\u8fdb\u884c\u89e3\u7801\uff0c\u89e3\u7801\u5668\u5c06\u4e22\u5f03\u4e00\u4e9b\u5e27\uff0c\u76f4\u5230\u5173\u952e\u5e27\u5230\u8fbe\u4e3a\u6b62\u3002</p> <p>\u5bf9\u4e8e\u63a5\u6536\u65b9\u6765\u8bf4\uff0c\u5728\u8fde\u63a5\u5efa\u7acb\u540e\u7acb\u5373\u8bf7\u6c42\u4e00\u4e2a\u5b8c\u6574\u7684\u5173\u952e\u5e27\u662f\u4e2a\u597d\u4e3b\u610f\uff0c\u8fd9\u53ef\u4ee5\u6700\u5927\u7a0b\u5ea6\u5730\u51cf\u5c11\u8fde\u63a5\u5efa\u7acb\u548c\u5728\u7528\u6237\u5c4f\u5e55\u4e0a\u663e\u793a\u56fe\u50cf\u4e4b\u95f4\u7684\u5ef6\u8fdf\u3002</p> <p><code>PLI</code> \u6570\u636e\u5305\u662f \" \u6709\u6548\u8d1f\u8f7d\u7279\u5b9a\u53cd\u9988 \" \u6d88\u606f\u7684\u7ec4\u6210\u90e8\u5206\u3002</p> <p>\u5728\u5b9e\u8df5\u4e2d\uff0c\u80fd\u591f\u540c\u65f6\u5904\u7406 <code>PLI</code> \u548c <code>FIR</code> \u6570\u636e\u5305\u7684\u8f6f\u4ef6\u5728\u4e24\u79cd\u573a\u666f\u4e0b\u7684\u884c\u4e3a\u662f\u76f8\u540c\u7684\u3002\u5b83\u4f1a\u5411\u7f16\u7801\u5668\u53d1\u9001\u4fe1\u53f7\u4ee5\u4ea7\u751f\u65b0\u7684\u5b8c\u6574\u5173\u952e\u5e27\u3002</p>"},{"location":"webrtc/forcurious/006.html#negative-acknowledgements","title":"Negative ACKnowledgements\uff08\u5426\u5b9a\u786e\u8ba4\uff09","text":"<p><code>NACK</code> \u8bf7\u6c42\u53d1\u9001\u65b9\u91cd\u65b0\u53d1\u9001\u5355\u4e2a RTP \u6570\u636e\u5305\u3002\u8fd9\u901a\u5e38\u662f\u7531\u4e8e RTP \u6570\u636e\u5305\u4e22\u5931\u800c\u5f15\u8d77\u7684\uff0c\u4f46\u662f\u4e5f\u53ef\u80fd\u7531\u4e8e\u5ef6\u8fdf\u800c\u53d1\u751f\u3002</p> <p>\u4e0e\u8bf7\u6c42\u91cd\u65b0\u53d1\u9001\u6574\u4e2a\u5e27\u76f8\u6bd4\uff0c<code>NACK</code> \u7684\u5e26\u5bbd\u4f7f\u7528\u6548\u7387\u8981\u9ad8\u5f97\u591a\u3002\u7531\u4e8e RTP \u5c06\u6570\u636e\u5305\u5206\u89e3\u6210\u5f88\u5c0f\u7684\u5757\uff0c\u56e0\u6b64\u4f60\u5b9e\u9645\u4e0a\u53ea\u662f\u5728\u8bf7\u6c42\u4e22\u5931\u7684\u4e00\u4e2a\u5f88\u5c0f\u7684\u90e8\u5206\u3002\u63a5\u6536\u65b9\u4f7f\u7528 SSRC \u548c\u5e8f\u5217\u53f7\u5236\u4f5c RTCP \u6d88\u606f\u3002\u5982\u679c\u53d1\u9001\u65b9\u6ca1\u6709\u53ef\u7528\u4e8e\u91cd\u65b0\u53d1\u9001\u7684 RTP \u6570\u636e\u5305\uff0c\u90a3\u4e48\u5b83\u53ea\u4f1a\u5ffd\u7565\u8be5\u6d88\u606f\u3002</p>"},{"location":"webrtc/forcurious/006.html#sender-and-receiver-reports","title":"Sender and Receiver Reports\uff08\u53d1\u9001\u65b9\u548c\u63a5\u6536\u65b9\u62a5\u544a\uff09","text":"<p>\u8fd9\u4e9b\u62a5\u544a\u7528\u4e8e\u5728 Agent \u4e4b\u95f4\u53d1\u9001\u7edf\u8ba1\u4fe1\u606f\u3002\u5b83\u4f20\u8fbe\u4e86\u5b9e\u9645\u63a5\u6536\u5230\u7684\u548c\u6296\u52a8\u7684\u6570\u636e\u5305\u6570\u91cf\u3002</p> <p>\u8fd9\u4e9b\u62a5\u544a\u53ef\u7528\u4e8e\u8bca\u65ad\u4ee5\u53ca\u63a7\u5236\u62e5\u585e\u3002</p>"},{"location":"webrtc/forcurious/006.html#rtprtcp","title":"RTP/RTCP \u662f\u5982\u4f55\u534f\u4f5c\u89e3\u51b3\u95ee\u9898\u7684","text":"<p>RTP \u548c RTCP \u9700\u8981\u534f\u540c\u89e3\u51b3\u7f51\u7edc\u5f15\u8d77\u7684\u6240\u6709\u95ee\u9898\u3002\u8fd9\u4e9b\u6280\u672f\u4ecd\u5728\u4e0d\u65ad\u8fdb\u5316\u4e2d\uff01</p>"},{"location":"webrtc/forcurious/006.html#forward-error-correction","title":"Forward Error Correction\uff08\u524d\u5411\u7ea0\u9519\uff09","text":"<p>\u7b80\u79f0\u4e3a FEC\u3002\u5904\u7406\u4e22\u5305\u7684\u53e6\u4e00\u79cd\u65b9\u6cd5\u3002FEC \u6307\u7684\u662f\u53d1\u9001\u65b9\u591a\u6b21\u91cd\u590d\u53d1\u9001\u76f8\u540c\u7684\u6570\u636e\uff0c\u751a\u81f3\u662f\u5728\u63a5\u6536\u65b9\u6ca1\u6709\u8981\u6c42\u7684\u60c5\u51b5\u4e0b\u53d1\u9001\u3002\u8fd9\u662f\u5728 RTP \u534f\u8bae\u5c42\u7ea7\u5b8c\u6210\u7684\uff0c\u751a\u81f3\u4e5f\u53ef\u4ee5\u5728\u7f16\u89e3\u7801\u5668\u4ee5\u4e0b\u7684\u5c42\u7ea7\u5b8c\u6210\u3002</p> <p>\u5728\u547c\u53eb\u7684\u6570\u636e\u4e22\u5305\u7387\u6bd4\u8f83\u7a33\u5b9a\u7684\u60c5\u51b5\u4e0b\uff0c\u4f5c\u4e3a\u5ef6\u8fdf\u5904\u7406\u65b9\u6848\uff0cFEC \u6bd4 NACK \u597d\u7684\u591a\u3002\u5bf9\u4e8e NACK\uff0c\u5fc5\u987b\u5148\u8bf7\u6c42\uff0c\u7136\u540e\u91cd\u65b0\u4f20\u8f93\u4e22\u5931\u7684\u6570\u636e\u5305\uff0c\u6570\u636e\u5f80\u8fd4\u7684\u65f6\u95f4\u5bf9\u6027\u80fd\u7684\u5f71\u54cd\u53ef\u80fd\u662f\u5f88\u660e\u663e\u7684\u3002</p>"},{"location":"webrtc/forcurious/006.html#_10","title":"\u81ea\u9002\u5e94\u6bd4\u7279\u7387\u548c\u5e26\u5bbd\u4f30\u8ba1","text":"<p>\u6b63\u5982\u642d\u5efa\u5b9e\u65f6\u7f51\u7edc\u7ae0\u8282\u4e2d\u8ba8\u8bba\u7684\u90a3\u6837\uff0c\u7f51\u7edc\u662f\u4e0d\u53ef\u9884\u6d4b\u4e14\u4e0d\u53ef\u9760\u7684\u3002\u5e26\u5bbd\u7684\u53ef\u7528\u6027\u5728\u6574\u4e2a\u4f1a\u8bdd\u4e2d\u53ef\u80fd\u4f1a\u591a\u6b21\u53d8\u5316\u3002 \u5728\u4e00\u79d2\u949f\u4e4b\u5185\u770b\u5230\u53ef\u7528\u7684\u5e26\u5bbd\u6025\u5267\u53d8\u5316\uff08\u5dee\u522b\u8fbe\u5230\u6570\u91cf\u7ea7\uff09\uff0c\u8fd9\u6837\u7684\u60c5\u51b5\u5e76\u4e0d\u5c11\u89c1\u3002</p> <p>\u8fd9\u91cc\u7684\u4e3b\u8981\u601d\u8def\u662f\u6839\u636e\u9884\u6d4b\u7684\uff0c\u5f53\u524d\u7684\u548c\u5c06\u6765\u7684\u53ef\u7528\u7f51\u7edc\u5e26\u5bbd\u6765\u8c03\u6574\u7f16\u7801\u6bd4\u7279\u7387\u3002 \u8fd9\u6837\u53ef\u4ee5\u786e\u4fdd\u4f20\u8f93\u8d28\u91cf\u6700\u4f73\u7684\u89c6\u9891\u548c\u97f3\u9891\u4fe1\u53f7\uff0c\u5e76\u4e14\u4e0d\u4f1a\u56e0\u4e3a\u7f51\u7edc\u62e5\u585e\u800c\u65ad\u5f00\u8fde\u63a5\u3002 \u5bf9\u7f51\u7edc\u884c\u4e3a\u5efa\u6a21\u5e76\u5c1d\u8bd5\u5bf9\u5176\u8fdb\u884c\u9884\u6d4b\u7684\u542f\u53d1\u5f0f\u65b9\u6cd5\u79f0\u4e3a\u5e26\u5bbd\u4f30\u8ba1\u3002</p> <p>\u8fd9\u91cc\u6709\u5f88\u591a\u7ec6\u5fae\u7684\u5dee\u522b\uff0c\u56e0\u6b64\uff0c\u8ba9\u6211\u4eec\u6765\u63a2\u7d22\u4e00\u4e0b\u66f4\u591a\u7ec6\u8282\u3002</p>"},{"location":"webrtc/forcurious/006.html#_11","title":"\u8bc6\u522b\u548c\u4f20\u9012\u7f51\u7edc\u72b6\u6001","text":"<p>RTP/RTCP \u53ef\u80fd\u8fd0\u884c\u5728\u5404\u79cd\u4e0d\u540c\u7684\u7f51\u7edc\u4e0a\uff0c\u56e0\u6b64\uff0c\u901a\u8baf\u4e2d\u51fa\u73b0\u4e22\u5305\u662f\u5f88\u5e38\u89c1\u7684\u3002\u5efa\u7acb\u5728 UDP \u4f20\u8f93\u534f\u8bae\u4e4b\u4e0a\uff0c\u6ca1\u6709\u5185\u7f6e\u7684\u4e22\u5305\u91cd\u4f20\u673a\u5236\uff0c\u66f4\u4e0d\u7528\u8bf4\u5904\u7406\u62e5\u585e\u63a7\u5236\u4e86\u3002</p> <p>\u4e3a\u4e86\u7ed9\u7528\u6237\u63d0\u4f9b\u6700\u597d\u7684\u4f53\u9a8c\uff0cWebRTC \u5fc5\u987b\u8bc4\u4f30\u7f51\u7edc\u8def\u5f84\u7684\u8d28\u91cf\uff0c\u5e76\u4e14\u968f\u65f6\u9002\u5e94\u7f51\u7edc\u8d28\u91cf\u7684\u6ce2\u52a8\u3002\u8981\u76d1\u63a7\u7684\u5173\u952e\u7279\u5f81\u5305\u62ec\uff1a \u5e26\u5bbd\uff08\u5728\u6bcf\u4e2a\u65b9\u5411\u4e0a\uff0c\u56e0\u4e3a\u53cc\u5411\u5e26\u5bbd\u53ef\u80fd\u662f\u4e0d\u5bf9\u79f0\u7684\uff09\u3001\u5f80\u8fd4\u65f6\u95f4\u548c\u6296\u52a8\u3002\u5b83\u9700\u8981\u8003\u8651\u6570\u636e\u5305\u4e22\u5931\uff0c\u5e76\u968f\u65f6\u4f20\u9012\u8fd9\u4e9b\u5c5e\u6027\u7279\u5f81\u7684\u53d8\u5316\u60c5\u51b5\u3002</p> <p>\u8fd9\u4e9b\u534f\u8bae\u6709\u4e24\u4e2a\u4e3b\u8981\u76ee\u6807\uff1a </p> <ol> <li>\u8bc4\u4f30\u7f51\u7edc\u652f\u6301\u7684\u53ef\u7528\u5e26\u5bbd\uff08\u53cc\u5411\uff09 </li> <li>\u53d1\u9001\u8005\u548c\u63a5\u6536\u8005\u4e4b\u95f4\u7684\u901a\u4fe1\u7f51\u7edc\u7279\u6027 </li> </ol> <p>RTP/RTCP \u6709\u4e09\u79cd\u4e0d\u540c\u7684\u65b9\u6cd5\u6765\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u3002\u4ed6\u4eec\u90fd\u6709\u81ea\u5df1\u7684\u4f18\u70b9\u548c\u7f3a\u70b9\uff0c \u603b\u7684\u6765\u8bf4\uff0c\u6bcf\u4e00\u4ee3\u90fd\u6bd4\u5176\u4e0a\u4e00\u4ee3\u6709\u6240\u6539\u8fdb\u3002\u4f7f\u7528\u54ea\u79cd\u5b9e\u73b0\u65b9\u5f0f\u4e3b\u8981\u53d6\u51b3\u4e8e\u5ba2\u6237\u53ef\u7528\u7684\u8f6f\u4ef6\u5806\u6808\u548c\u53ef\u7528\u7684\u57fa\u7840\u5e93\u3002 </p>"},{"location":"webrtc/forcurious/006.html#receiver-reports-sender-reports","title":"Receiver Reports / Sender Reports","text":"<p>\u7b2c\u4e00\u79cd\u5b9e\u73b0\u662f\u4e00\u5bf9\u63a5\u6536\u8005\u62a5\u544a\u53ca\u5176\u8865\u5145\u2014\u2014\u53d1\u9001\u8005\u62a5\u544a\u3002\u8fd9\u4e9b RTCP \u6d88\u606f\u5728 RFC 3550 \u4e2d\u5b9a\u4e49\uff0c\u5e76\u4e14\u662f \u8d1f\u8d23\u5728\u7aef\u70b9\u4e4b\u95f4\u4f20\u9012\u7f51\u7edc\u72b6\u6001\u3002 Receiver Reports \u4fa7\u91cd\u4e8e \u5173\u4e8e\u7f51\u7edc\u7684\u901a\u4fe1\u8d28\u91cf\uff08\u5305\u62ec\u4e22\u5305\u3001\u5f80\u8fd4\u65f6\u95f4\u548c\u6296\u52a8\uff09\uff0c\u53ef\u4ee5\u914d\u5408\u5176\u4ed6\u7b97\u6cd5\uff0c\u5229\u7528\u8fd9\u4e9b\u62a5\u544a\u4fe1\u606f\u8fdb\u884c\u8bc4\u4f30\u3002 </p> <p>Sender / Receiver Reports\uff08SR \u548c RR\uff09\u5171\u540c\u63cf\u7ed8\u4e86\u7f51\u7edc\u8d28\u91cf\u3002\u4ed6\u4eec\u662f\u4ee5\u6bcf\u4e2a SSRC \u4e3a\u7c92\u5ea6\u6309\u8ba1\u5212\u53d1\u9001\uff0c\u4f5c\u4e3a\u8bc4\u4f30\u53ef\u7528\u5e26\u5bbd\u7684\u8f93\u5165\u6570\u636e\u3002\u8fd9\u4e9b\u8bc4\u4f30\u662f\u7531\u53d1\u9001\u8005\u5728\u6536\u5230 RR \u6570\u636e\u540e\u505a\u51fa\u7684\uff0c\u5176\u4e2d\u5305\u542b \u4ee5\u4e0b\u5b57\u6bb5\uff1a</p> <ul> <li>Fraction Lost(\u4e22\u5305\u7387) - \u81ea\u4e0a\u6b21\u63a5\u6536\u8005\u62a5\u544a\u4ee5\u6765\u4e22\u5931\u4e86\u6570\u636e\u5305\u7684\u767e\u5206\u6bd4\u3002</li> <li>Cumulative Number of Packets Lost(\u7d2f\u8ba1\u4e22\u5305\u6570) - \u5728\u6574\u4e2a\u901a\u8bdd\u8fc7\u7a0b\u4e2d\u4e22\u4e86\u591a\u5c11\u5305\u3002</li> <li>Extended Highest Sequence Number Received(\u63a5\u6536\u5230\u7684\u6700\u9ad8\u5e8f\u5217\u53f7\u6269\u5c55) - \u63a5\u6536\u5230\u7684\u6700\u540e\u4e00\u4e2a\u5e8f\u5217\u53f7\uff0c\u4ee5\u53ca\u5b83\u7684\u91cd\u7f6e\u6b21\u6570\u3002</li> <li>\u5230\u8fbe\u95f4\u9694\u6296\u52a8\uff08Interarrival Jitter\uff09 - \u6574\u4e2a\u901a\u8bdd\u8fc7\u7a0b\u4e2d\u7684\u6296\u52a8\u6eda\u52a8\u3002\uff08\u8bd1\u6ce8\uff1aRTP \u6570\u636e\u5305\u5230\u8fbe\u65f6\u95f4\u7684\u7edf\u8ba1\u65b9\u5dee\u7684\u4f30\u8ba1\u503c\uff0c\u4ee5\u65f6\u95f4\u6233\u4e3a\u5355\u4f4d\u8fdb\u884c\u5ea6\u91cf\uff0c\u5e76\u8868\u793a\u4e3a\u65e0\u7b26\u53f7\u6574\u6570\u3002\uff09</li> <li>\u4e0a\u6b21\u53d1\u9001\u65b9\u62a5\u544a\u65f6\u95f4\u6233\uff08Last Sender Report Timestamp\uff09 - \u5df2\u77e5\u7684\u6700\u540e\u4e00\u6b21\u7684\u53d1\u9001\u65b9\u62a5\u544a\u7684\u65f6\u95f4\u6233\uff0c\u7528\u4e8e\u5f80\u8fd4\u65f6\u95f4\u7684\u8ba1\u7b97\u3002</li> </ul> <p>\u53d1\u9001\u65b9\u548c\u63a5\u6536\u65b9\u62a5\u544a\uff08SR \u548c RR\uff09\u914d\u5408\uff0c\u53ef\u4ee5\u8ba1\u7b97\u5f80\u8fd4\u65f6\u95f4\u3002</p> <p>\u53d1\u9001\u65b9\u5728 SR \u4e2d\u5305\u542b\u5176\u672c\u5730\u65f6\u95f4 <code>sendertime1</code>\u3002 \u5f53\u63a5\u6536\u65b9\u83b7\u5f97 SR \u6570\u636e\u5305\u65f6\uff0c\u53d1\u56de RR\u3002 \u9664\u4e86\u5176\u4ed6\u4e00\u4e9b\u4fe1\u606f\uff0cRR \u8fd8\u8981\u5305\u62ec\u521a\u4ece\u53d1\u9001\u65b9\u63a5\u6536\u5230\u7684 <code>sendertime1</code>\u3002 \u5728\u63a5\u6536 SR \u548c\u53d1\u9001 RR \u4e4b\u95f4\uff0c\u4f1a\u6709\u4e00\u4e2a\u5ef6\u8fdf\u3002\u56e0\u6b64\uff0cRR \u8fd8\u5305\u62ec \" \u81ea\u4e0a\u6b21\u53d1\u9001\u65b9\u62a5\u544a\u4ee5\u6765\u7684\u5ef6\u8fdf \" \u65f6\u95f4 - <code>DLSR</code>\uff08delay since last sender report\uff09\u3002 <code>DLSR</code> \u7528\u4e8e\u5728\u8be5\u8fc7\u7a0b\u7684\u7a0d\u540e\u9636\u6bb5\u8c03\u6574\u5f80\u8fd4\u65f6\u95f4\u7684\u4f30\u8ba1\u3002 \u4e00\u65e6\u53d1\u9001\u8005\u63a5\u6536\u5230 RR\uff0c\u5b83\u5c31\u4ece\u5f53\u524d\u65f6\u95f4 <code>sendertime2</code> \u4e2d\u51cf\u53bb <code>sendertime1</code> \u548c <code>DLSR</code>\u3002 \u8fd9\u4e2a\u65f6\u95f4\u589e\u91cf\u79f0\u4e3a\u5f80\u8fd4\u4f20\u64ad\u5ef6\u8fdf\u6216\u5f80\u8fd4\u65f6\u95f4\u3002</p> <p><code>rtt\uff08\u5f80\u8fd4\u65f6\u95f4\uff09 = sendertime2 - sendertime1 - DLSR</code></p> <p>\u6362\u4e2a\u7b80\u5355\u7684\u8bf4\u6cd5\u6765\u89e3\u91ca\uff0c\u5c31\u662f\u8fd9\u6837\uff1a - \u6211\u770b\u4e86\u770b\u8868\uff0c\u5411\u4f60\u53d1\u9001\u4e86\u4e00\u6761\u6d88\u606f\uff0c\u8bf4\u8fd9\u662f\u4e0b\u5348 4 \u70b9 20 \u5206 42 \u79d2 420 \u6beb\u79d2\u3002 - \u4f60\u518d\u5c06\u76f8\u540c\u7684\u65f6\u95f4\u6233\u53d1\u56de\u7ed9\u6211\u3002 - \uff08\u8fd4\u56de\u7684\u6d88\u606f\u4e2d\uff09\u8fd8\u5305\u62ec\u4e86\u4ece\u9605\u8bfb\u6211\u7684\u6d88\u606f\u5230\u53d1\u56de\u6d88\u606f\u6240\u82b1\u8d39\u7684\u65f6\u95f4\uff0c\u4f8b\u5982 5 \u6beb\u79d2\u3002 - \u6536\u5230\u65f6\u95f4\u540e\uff0c\u6211\u4f1a\u518d\u6b21\u770b\u65f6\u949f\u3002 - \u73b0\u5728\u6211\u7684\u8868\u662f\u4e0b\u5348 4 \u70b9 20 \u5206 42 \u79d2 690 \u6beb\u79d2\u3002 - \u8fd9\u610f\u5473\u7740\u6d88\u606f\u9700\u8981 265 \u6beb\u79d2\uff08690-420-5\uff09\u624d\u80fd\u5230\u8fbe\u4f60\uff0c\u5e76\u8fd4\u56de\u5230\u6211\u3002 - \u56e0\u6b64\uff0c\u5f80\u8fd4\u65f6\u95f4\u4e3a 265 \u6beb\u79d2\u3002</p> <p></p>"},{"location":"webrtc/forcurious/006.html#tmmbrtmmbnremb-twcc-gcc","title":"TMMBR\uff0cTMMBN\uff0cREMB \u548c TWCC, \u4e0e GCC \u914d\u5408","text":""},{"location":"webrtc/forcurious/006.html#google-congestion-control-gcc","title":"Google Congestion Control (GCC)","text":"<p>Google \u62e5\u585e\u63a7\u5236 (GCC) \u7b97\u6cd5\uff08\u5728draft-ietf-rmcat-gcc-02) \u89e3\u51b3\u4e86\u5e26\u5bbd\u4f30\u8ba1\u7684\u6311\u6218\u3002 \u5b83\u4e0e\u5404\u79cd\u5176\u4ed6\u534f\u8bae\u914d\u5408\uff0c\u4ee5\u5e94\u5bf9\u76f8\u5e94\u7684\u901a\u4fe1\u9700\u6c42\u3002 \u56e0\u6b64\uff0c\u5b83\u975e\u5e38\u9002\u5408\u5728\u4efb\u4e00\u63a5\u6536\u7aef\uff08\u5f53\u4f7f\u7528 TMMBR/TMMBN \u6216 REMB \u8fd0\u884c\u65f6\uff09\u6216\u53d1\u9001\u7aef\uff08\u5f53\u4f7f\u7528 TWCC \u8fd0\u884c\u65f6\uff09\u3002</p> <p>\u4e3a\u4e86\u4f30\u7b97\u53ef\u7528\u5e26\u5bbd\uff0cGCC \u5173\u6ce8\u6570\u636e\u5305\u4e22\u5931\u548c\u5e27\u5230\u8fbe\u65f6\u95f4\u7684\u6ce2\u52a8\u4f5c\u4e3a\u5176\u4e24\u4e2a\u4e3b\u8981\u6307\u6807\u3002 \u5b83\u901a\u8fc7\u4e24\u4e2a\u94fe\u63a5\u7684\u63a7\u5236\u5668\u8fd0\u884c\u8fd9\u4e9b\u6307\u6807\uff1a \u57fa\u4e8e\u635f\u5931\u7684 (loss-based) \u63a7\u5236\u5668\u548c\u57fa\u4e8e\u5ef6\u8fdf\u7684 (delay-based) \u63a7\u5236\u5668\u3002</p> <p>GCC \u7684\u7b2c\u4e00\u4e2a\u63a7\u5236\u5668\u662f\u57fa\u4e8e\u4e22\u5931\u7684\u63a7\u5236\u5668\uff0c\u539f\u7406\u5f88\u7b80\u5355\uff1a</p> <ul> <li>\u5982\u679c\u4e22\u5305\u7387\u8d85\u8fc7 10%\uff0c\u5e26\u5bbd\u4f30\u8ba1\u4f1a\u964d\u4f4e</li> <li>\u5982\u679c\u4e22\u5305\u7387\u5728 2-10% \u4e4b\u95f4\uff0c\u5e26\u5bbd\u4f30\u8ba1\u4fdd\u6301\u4e0d\u53d8</li> <li>\u5982\u679c\u4e22\u5305\u7387\u4f4e\u4e8e 2%\uff0c\u5e26\u5bbd\u4f30\u8ba1\u4f1a\u589e\u52a0</li> </ul> <p>\u9891\u7e41\u5730\u8fdb\u884c\u4e22\u5305\u6d4b\u91cf\u3002 \u6839\u636e\u914d\u5bf9\u7684\u901a\u4fe1\u534f\u8bae\uff0c\u4e22\u5305\u53ef\u80fd\u662f\u660e\u786e\u4f20\u8fbe\u7684\uff08\u5982 TWCC\uff09\u6216\u63a8\u65ad\u7684\uff08\u5982 TMMBR/TMMBN \u548c REMB\uff09\u3002 \u8fd9\u4e9b\u767e\u5206\u6bd4\u662f\u5728\u5927\u7ea6\u4e00\u79d2\u7684\u65f6\u95f4\u7a97\u53e3\u5185\u8bc4\u4f30\u7684\u3002</p> <p>\u7b2c\u4e8c\u4e2a\u63a7\u5236\u5668\u4e0e\u57fa\u4e8e\u4e22\u5931\u7684\u63a7\u5236\u5668\u5408\u4f5c\uff0c\u5e76\u5173\u6ce8\u6570\u636e\u5305\u7684\u53d8\u5316\u5230\u8fbe\u65f6\u95f4\u3002\u8fd9\u79cd\u57fa\u4e8e\u5ef6\u8fdf\u7684\u63a7\u5236\u5668\u65e8\u5728\u8bc6\u522b\u7f51\u7edc\u94fe\u63a5\u4f55\u65f6\u53d8\u5f97\u8d8a\u6765\u8d8a\u62e5\u6324\uff0c\u751a\u81f3\u53ef\u80fd\u5728\u4e22\u5305\u53d1\u751f\u4e4b\u524d\u5c31\u964d\u4f4e\u5e26\u5bbd\u4f30\u8ba1\u3002\u7406\u8bba\u4e0a\uff0c\u8def\u5f84\u4e0a\u6700\u7e41\u5fd9\u7684\u7f51\u7edc\u63a5\u53e3\u5c06\u7ee7\u7eed\u5c06\u6570\u636e\u5305\u6392\u961f\u76f4\u5230\u63a5\u53e3\u8017\u5c3d\u5176\u7f13\u51b2\u533a\u5185\u7684\u5bb9\u91cf\u3002\u5982\u679c\u8be5\u63a5\u53e3\u7ee7\u7eed\u63a5\u6536\u8d85\u8fc7\u5b83\u80fd\u591f\u53d1\u9001\u7684\u6d41\u91cf\uff0c\u5b83\u5c06\u88ab\u8feb\u4e22\u5f03\u7f13\u51b2\u7a7a\u95f4\u4e2d\u65e0\u6cd5\u5bb9\u7eb3\u7684\u6240\u6709\u6570\u636e\u5305\u3002\u8fd9\u79cd\u7c7b\u578b\u7684\u6570\u636e\u5305\u4e22\u5931\u5bf9\u4e8e\u4f4e\u5ef6\u8fdf / \u5b9e\u65f6\u901a\u4fe1\u573a\u666f\u5c24\u5176\u5177\u6709\u7834\u574f\u6027\uff0c\u540c\u65f6\u5b83\u4e5f\u4f1a\u964d\u4f4e\u8be5\u94fe\u8def\u4e0a\u6240\u6709\u901a\u4fe1\u7684\u541e\u5410\u91cf\uff0c\u6240\u4ee5\u6700\u597d\u5e94\u8be5\u907f\u514d\u3002\u56e0\u6b64\uff0cGCC \u8bd5\u56fe\u5728\u4e22\u5305\u5b9e\u9645\u53d1\u751f\u4e4b\u524d\uff0c\u5f04\u6e05\u695a\u7f51\u7edc\u94fe\u63a5\u662f\u5426\u8d8a\u6765\u8d8a\u5927\u961f\u5217\u6df1\u5ea6\u3002\u5982\u679c\u5b83\u89c2\u5bdf\u5230\uff0c\u968f\u7740\u65f6\u95f4\u7684\u63a8\u79fb\u6392\u961f\u5ef6\u8fdf\u589e\u52a0\u4e86\uff0c\u5b83\u5c06\u4e3b\u52a8\u51cf\u5c11\u5e26\u5bbd\u4f7f\u7528\u3002</p> <p>\u4e3a\u4e86\u5b9e\u73b0\u8fd9\u4e00\u70b9\uff0cGCC \u5c1d\u8bd5\u901a\u8fc7\u6d4b\u91cf\u5f80\u8fd4\u65f6\u95f4\u7684\u5fae\u91cf\u589e\u52a0\uff0c\u6765\u63a8\u65ad\u961f\u5217\u6df1\u5ea6\u7684\u589e\u52a0\u3002 \u5b83\u8bb0\u5f55\u5e27\u7684\u201c\u5230\u8fbe\u95f4\u9694\u65f6\u95f4\u201d\uff0c<code>t(i) - t(i-1)</code>\uff1a\u5373\u4e24\u7ec4\u6570\u636e\u5305\uff08\u901a\u5e38\u662f\u8fde\u7eed\u7684\u89c6\u9891\u5e27\uff09\u7684\u5230\u8fbe\u65f6\u95f4\u5dee\u3002\u8fd9\u4e9b\u6570\u636e\u5305\u7ec4\u7ecf\u5e38 \u4ee5\u56fa\u5b9a\u7684\u65f6\u95f4\u95f4\u9694\u51fa\u53d1\uff08\u4f8b\u5982\uff0c\u5bf9\u4e8e 24 fps \u7684\u89c6\u9891\uff0c\u6bcf 1/24 \u79d2\uff09\u3002 \u56e0\u6b64\uff0c\u6d4b\u91cf\u5230\u8fbe\u95f4\u9694\u65f6\u95f4\uff0c\u5c31\u50cf\u8bb0\u5f55\u7b2c\u4e00\u4e2a\u6570\u636e\u5305\u7ec4\uff08\u5373\u5e27\uff09\u7684\u5f00\u59cb\u548c\u4e0b\u4e00\u4e2a\u6570\u636e\u5305\u7ec4\u7684\u7b2c\u4e00\u5e27\u4e4b\u95f4\u7684\u65f6\u95f4\u5dee\u4e00\u6837\u7b80\u5355\u3002</p> <p>\u5728\u4e0b\u56fe\u4e2d\uff0c\u6570\u636e\u5305\u95f4\u5ef6\u8fdf\u589e\u52a0\u7684\u4e2d\u4f4d\u6570\u4e3a +20 \u6beb\u79d2\uff0c\u8fd9\u662f\u4e00\u4e2a\u660e\u786e\u7684\u6307\u6807\u7f51\u7edc\u62e5\u585e\u3002</p> <p></p> <p>\u5982\u679c\u5230\u8fbe\u95f4\u9694\u65f6\u95f4\u968f\u7740\u65f6\u95f4\u7684\u63a8\u79fb\u800c\u589e\u52a0\uff0c\u5219\u5047\u5b9a\u8fde\u63a5\u7f51\u7edc\u63a5\u53e3\u4e0a\u7684\u961f\u5217\u6df1\u5ea6\u589e\u52a0\u5e76\u88ab\u8ba4\u4e3a\u662f\u7f51\u7edc\u62e5\u585e\u7684\u8bc1\u636e\u3002 \uff08\u6ce8\u610f\uff1aGCC \u8db3\u591f\u806a\u660e\uff0c\u53ef\u4ee5\u63a7\u5236\u8fd9\u4e9b\u6d4b\u91cf\u4ee5\u5e94\u5bf9\u5e27\u5b57\u8282\u5927\u5c0f\u7684\u6ce2\u52a8\u3002\uff09GCC \u4f7f\u7528 Kalman \u6ee4\u6ce2\u5668\u6539\u8fdb\u5176\u5ef6\u8fdf\u6d4b\u91cf\uff0c\u5e76\u5728\u6807\u8bb0\u62e5\u585e\u4e4b\u524d\u591a\u6b21\u6d4b\u91cf\u7f51\u7edc\u5f80\u8fd4\u65f6\u95f4\uff08\u53ca\u5176\u53d8\u5316\uff09\u3002\u53ef\u4ee5\u5c06 GCC \u7684\u5361\u5c14\u66fc\u6ee4\u6ce2\u5668\u89c6\u4e3a\u4ee3\u66ff\u7ebf\u6027\u56de\u5f52\uff1a\u5373\u4f7f\u5728\u6296\u52a8\u5c06\u566a\u58f0\u6dfb\u52a0\u5230\u65f6\u5e8f\u6d4b\u91cf\u4e2d\u65f6\uff0c\u4e5f\u6709\u52a9\u4e8e\u505a\u51fa\u51c6\u786e\u7684\u9884\u6d4b\u3002\u5728\u6807\u8bb0\u62e5\u585e\u65f6\uff0cGCC \u5c06\u964d\u4f4e\u53ef\u7528\u6bd4\u7279\u7387\u3002\u6216\u8005\uff0c\u5728\u7a33\u5b9a\u7684\u7f51\u7edc\u6761\u4ef6\u4e0b\uff0c\u5b83\u53ef\u4ee5\u7f13\u6162\u589e\u52a0\u5176\u5e26\u5bbd\u8bc4\u4f30\u4ee5\u6d4b\u8bd5\u66f4\u9ad8\u7684\u8d1f\u8f7d\u503c\u3002</p>"},{"location":"webrtc/forcurious/006.html#tmmbr-tmmbn-and-remb","title":"TMMBR, TMMBN, and REMB","text":"<p>\u5bf9\u4e8e TMMBR/TMMBN \u548c REMB\uff0c\u63a5\u6536\u65b9\u9996\u5148\u4f30\u8ba1\u53ef\u7528\u7684\u5165\u53e3\u5e26\u5bbd\uff08\u4f7f\u7528 GCC \u7b49\u534f\u8bae\uff09\uff0c\u7136\u540e\u5c06\u8fd9\u4e9b\u5e26\u5bbd\u8bc4\u4f30\u503c\u4f20\u8fbe\u7ed9\u8fdc\u7a0b\u53d1\u9001\u8005\u3002\u4ed6\u4eec\u4e0d\u9700\u8981\u4ea4\u6362\u6709\u5173\u4e22\u5305\u7684\u8be6\u7ec6\u4fe1\u606f\u6216\u6709\u5173\u7f51\u7edc\u62e5\u585e\u7684\u5176\u4ed6\u8d28\u91cf\uff08\u56e0\u4e3a\u5728\u63a5\u6536\u7aef\u8fdb\u884c\u64cd\u4f5c\u53ef\u4ee5\u76f4\u63a5\u6d4b\u91cf\u5230\u8fbe\u7684\u95f4\u9694\u65f6\u95f4\u548c\u4e22\u5305\uff09 \u800c\u662f\u53ea\u4ea4\u6362\u5e26\u5bbd\u8bc4\u4f30\u503c\u672c\u8eab\uff1a</p> <ul> <li>TMMBR\uff08\u4e34\u65f6\u6700\u5927\u5a92\u4f53\u7801\u7387\u8bf7\u6c42\uff09 - \u5355\u4e2a SSRC \u8bf7\u6c42\u7801\u7387\u7684\u5c3e\u6570 / \u6307\u6570\u3002\uff08\u8bd1\u6ce8\uff1a\u63a5\u6536\u7aef\u5f53\u524d\u5e26\u5bbd\u53d7\u9650\uff0c\u544a\u8bc9\u53d1\u9001\u7aef\u63a7\u5236\u7801\u7387\u3002\uff09</li> <li>TMMBN\uff08\u4e34\u65f6\u6700\u5927\u5a92\u4f53\u7801\u7387\u901a\u77e5\uff09 - \uff08\u53d1\u9001\u7aef\uff09\u901a\u77e5\uff08\u63a5\u6536\u7aef\uff09\u5df2\u7ecf\u6536\u5230 TMMBR \u7684\u6d88\u606f\u3002</li> <li>REMB\uff08\u63a5\u6536\u65b9\u4f30\u8ba1\u7684\u6700\u5927\u7801\u7387\uff09 - \u6574\u4e2a\u4f1a\u8bdd\u4e2d\u8bf7\u6c42\u7801\u7387\u7684\u5c3e\u6570 / \u6307\u6570\u3002</li> </ul> <p>TMMBR \u548c TMMBN \u662f\u5148\u51fa\u73b0\u7684\uff0c\u5b83\u4eec\u5728RFC 5104\u4e2d\u5b9a\u4e49\u3002REMB \u662f\u540e\u6765\u51fa\u73b0\u7684\uff0c\u662f\u5728draft-alvestrand-rmcat-remb\u4e2d\u63d0\u4ea4\u7684\u4e00\u4e2a\u8349\u6848\uff0c\u4f46\u4ece\u672a\u88ab\u6807\u51c6\u5316\u3002</p> <p>\u4f7f\u7528 REMB \u7684\u4f1a\u8bdd\u5982\u4e0b\u56fe\u6240\u793a\uff1a</p> <p></p> <p>\u8fd9\u4e2a\u65b9\u6cd5\u5728\u7eb8\u9762\u4e0a\u770b\u8d77\u6765\u6548\u679c\u5f88\u597d\u3002\u53d1\u9001\u65b9\u4ece\u63a5\u6536\u65b9\u63a5\u6536\u4f30\u8ba1\u503c\uff0c\u7136\u540e\u5c06\u7f16\u7801\u5668\u6bd4\u7279\u7387\u8bbe\u7f6e\u4e3a\u63a5\u6536\u5230\u7684\u503c\u3002\u554a\u54c8\uff01\u6211\u4eec\u5df2\u7ecf\u6839\u636e\u7f51\u7edc\u6761\u4ef6\u4f5c\u51fa\u4e86\u8c03\u8282\u3002</p> <p>\u7136\u800c\uff0c\u5728\u5b9e\u8df5\u4e2d\uff0cREMB \u65b9\u6cd5\u6709\u51e0\u4e2a\u7f3a\u70b9\u3002</p> <p>\u9996\u5148\u5c31\u662f\u7f16\u7801\u5668\u6548\u7387\u4f4e\u4e0b\u3002\u5f53\u60a8\u4e3a\u7f16\u7801\u5668\u8bbe\u7f6e\u6bd4\u7279\u7387\u65f6\uff0c\u5b83\u4e0d\u4e00\u5b9a \u8f93\u51fa\u60a8\u8981\u6c42\u7684\u786e\u5207\u6bd4\u7279\u7387\u3002\u7f16\u7801\u53ef\u80fd\u4f1a\u8f93\u51fa\u66f4\u591a\u6216\u66f4\u5c11\u7684\u4f4d\uff0c\u5177\u4f53\u53d6\u51b3\u4e8e \u7f16\u7801\u5668\u8bbe\u7f6e\u548c\u88ab\u7f16\u7801\u7684\u5e27\u3002</p> <p>\u4e3e\u4f8b\u6765\u8bf4\uff0cx264 \u7f16\u7801\u5668\uff0c\u914d\u7f6e\u4e3a <code>tune=zerolatency</code>\uff0c\u8ddf\u6307\u5b9a\u7684\u76ee\u6807\u6bd4\u7279\u7387\u76f8\u6bd4\uff0c\u5176\u8f93\u51fa\u53ef\u80fd\u4f1a\u4ea7\u751f\u660e\u663e\u7684\u504f\u79bb\u3002\u4e0b\u9762\u662f\u4e00\u79cd\u53ef\u80fd\u7684\u573a\u666f\uff1a</p> <ul> <li>\u5047\u8bbe\u6211\u4eec\u4e00\u5f00\u59cb\u5c06\u6bd4\u7279\u7387\u8bbe\u7f6e\u4e3a 1000kbps\u3002</li> <li>\u7531\u4e8e\u6ca1\u6709\u5f88\u591a\u9ad8\u9891\u7279\u5f81\u503c\u9700\u8981\u7f16\u7801\uff0c\u7f16\u7801\u5668\u53ea\u80fd\u8f93\u51fa 700kbps\u3002\uff08\u4ea6\u79f0\u4e3a\uff1a\" \u51dd\u89c6\u4e00\u5835\u5899 \"\u3002\uff09</li> <li>\u6211\u4eec\u518d\u5047\u8bbe\u63a5\u6536\u65b9\u83b7\u5f97\u4e86 700kbps \u7684\u89c6\u9891\uff0c\u6ca1\u6709\u53d1\u751f\u6570\u636e\u5305\u4e22\u5931\uff0c\u7136\u540e\u5b83\u5c06\u5e94\u7528 REMB \u7684\u89c4\u5219 1\uff0c\u628a\u8f93\u5165\u6bd4\u7279\u7387\u63d0\u5347 8\uff05\u3002</li> <li>\u63a5\u6536\u65b9\u5411\u53d1\u9001\u65b9\u53d1\u9001\u4e86\u4e00\u4e2a REMB \u5305\uff0c\u5efa\u8bae\u5c06\u8f93\u5165\u6bd4\u7279\u7387\u63d0\u9ad8\u5230 756kbps\uff08700kbps * 1.08\uff09\u3002</li> <li>\u53d1\u9001\u65b9\u5c06\u7f16\u7801\u5668\u7684\u6bd4\u7279\u7387\u8bbe\u7f6e\u4e3a 756kbps\u3002</li> <li>\u7f16\u7801\u5668\u8f93\u51fa\u66f4\u4f4e\u7684\u6bd4\u7279\u7387\u3002</li> <li>\u8fd9\u4e2a\u8fc7\u7a0b\u4f1a\u7ee7\u7eed\u91cd\u590d\u8fdb\u884c\uff0c\u8fd9\u6837\uff0c\u6bd4\u7279\u7387\u4f1a\u88ab\u964d\u4f4e\u5230\u7edd\u5bf9\u6700\u5c0f\u503c\u3002</li> </ul> <p>\u4f60\u53ef\u4ee5\u770b\u5230\uff0c\u8fd9\u4f1a\u5bfc\u81f4\u7f16\u7801\u5668\u591a\u6b21\u89e6\u53d1\u53c2\u6570\u8c03\u6574\uff1b\u540c\u65f6\u7528\u6237\u4f1a\u60ca\u8bb6\u7684\u53d1\u73b0\uff0c\u867d\u7136\u8fde\u63a5\u72b6\u51b5\u826f\u597d\uff0c\u4f46\u89c6\u9891\u8d28\u91cf\u770b\u8d77\u6765\u5374\u8ba9\u4eba\u96be\u4ee5\u63a5\u53d7\u3002</p>"},{"location":"webrtc/forcurious/006.html#twcc","title":"\u4f20\u8f93\u8303\u56f4\u5185\u7684\u62e5\u585e\u63a7\u5236\uff08TWCC\uff09","text":"<p>Transport Wide Congestion Control \u662f RTCP \u7f51\u7edc\u72b6\u6001\u7684\u6700\u65b0\u53d1\u5c55 \u6c9f\u901a\u3002 \u5b83\u5b9a\u4e49\u5728draft-holmer-rmcat-transport-wide-cc-extensions-01, \u4f46\u4e00\u76f4\u672a\u88ab\u6807\u51c6\u5316\u3002</p> <p>TWCC \u4f7f\u7528\u4e86\u4e00\u4e2a\u975e\u5e38\u7b80\u5355\u7684\u539f\u7406\uff1a</p> <p></p> <p>\u4f7f\u7528 REMB\uff0c\u63a5\u6536\u65b9\u4ee5\u53ef\u7528\u7684\u4e0b\u8f7d\u6bd4\u7279\u7387\u6307\u793a\u53d1\u9001\u65b9\u3002\u5b83\u4f7f\u7528\u5173\u4e8e\u63a8\u65ad\u7684\u6570\u636e\u5305\u4e22\u5931\u7684\u7cbe\u786e\u6d4b\u91cf\u548c\u4ec5\u5b83\u5177\u6709\u7684\u5173\u4e8e\u6570\u636e\u5305\u95f4\u5230\u8fbe\u65f6\u95f4\u7684\u6570\u636e\u3002</p> <p>TWCC \u53ef\u4ee5\u770b\u4f5c\u662f SR/RR \u548c REMB \u534f\u8bae\u7684\u6df7\u5408\u65b9\u6cd5\u3002\u5b83\u5c06\u5e26\u5bbd\u4f30\u8ba1\u5e26\u56de\u53d1\u9001\u65b9\uff08\u7c7b\u4f3c\u4e8e SR/RR\uff09\uff0c\u4f46\u5176\u5e26\u5bbd\u4f30\u8ba1\u6280\u672f\u66f4\u7c7b\u4f3c\u4e8e REMB \u751f\u6210\u3002</p> <p>\u4f7f\u7528 TWCC\uff0c\u63a5\u6536\u65b9\u8ba9\u53d1\u9001\u65b9\u77e5\u9053\u6bcf\u4e2a\u6570\u636e\u5305\u7684\u5230\u8fbe\u65f6\u95f4\u3002\u8fd9\u662f\u8db3\u4ee5\u8ba9\u53d1\u9001\u8005\u6d4b\u91cf\u6570\u636e\u5305\u4e4b\u95f4\u5230\u8fbe\u5ef6\u8fdf\u7684\u53d8\u5316\uff0c\u4ee5\u53ca\u8bc6\u522b\u54ea\u4e9b\u6570\u636e\u5305\u4e22\u5931\u6216\u5230\u8fbe\u592a\u665a\u800c\u4e0d\u80fd\u63d0\u4f9b\u97f3\u9891 / \u89c6\u9891\u6e90\u3002\u968f\u7740\u8fd9\u4e9b\u6570\u636e\u7684\u9891\u7e41\u4ea4\u6362\uff0c\u53d1\u9001\u65b9\u80fd\u591f\u5feb\u901f\u8c03\u6574\u4ee5\u9002\u5e94\u4e0d\u65ad\u53d8\u5316\u7684\u7f51\u7edc\u6761\u4ef6\uff0c\u5e76\u4f7f\u7528\u8bf8\u5982 GCC \u7684\u7b97\u6cd5\u6539\u53d8\u5176\u8f93\u51fa\u5e26\u5bbd\u3002</p> <p>\u53d1\u9001\u8005\u8ddf\u8e2a\u53d1\u9001\u7684\u6570\u636e\u5305\u3001\u5b83\u4eec\u7684\u5e8f\u5217\u53f7\u3001\u5927\u5c0f\u548c\u65f6\u95f4\u6233\u3002\u5f53\u53d1\u9001\u65b9\u63a5\u6536\u5230\u6765\u81ea\u63a5\u6536\u65b9\u7684 RTCP \u6d88\u606f\u65f6\uff0c\u5b83\u4f1a\u5c06\u53d1\u9001\u5305\u95f4\u5ef6\u8fdf\u4e0e\u63a5\u6536\u5ef6\u8fdf\u8fdb\u884c\u6bd4\u8f83\u3002\u5982\u679c\u63a5\u6536\u5ef6\u8fdf\u589e\u52a0\uff0c\u5219\u8868\u660e\u7f51\u7edc\u62e5\u585e\uff0c\u53d1\u9001\u65b9\u5fc5\u987b\u91c7\u53d6\u7ea0\u6b63\u63aa\u65bd\u3002</p> <p>\u901a\u8fc7\u5411\u53d1\u9001\u8005\u63d0\u4f9b\u539f\u59cb\u6570\u636e\uff0cTWCC \u63d0\u4f9b\u4e86\u5b9e\u65f6\u7f51\u7edc\u72b6\u51b5\u7684\u7edd\u4f73\u89c6\u56fe\uff1a </p> <ul> <li>\u51e0\u4e4e\u662f\u5373\u65f6\u7684\u4e22\u5305\u884c\u4e3a\uff0c\u5177\u4f53\u5230\u5355\u4e2a\u4e22\u5305 </li> <li>\u51c6\u786e\u7684\u53d1\u9001\u6bd4\u7279\u7387 </li> <li>\u51c6\u786e\u7684\u63a5\u6536\u6bd4\u7279\u7387 </li> <li>\u6296\u52a8\u6d4b\u91cf </li> <li>\u53d1\u9001\u548c\u63a5\u6536\u6570\u636e\u5305\u5ef6\u8fdf\u4e4b\u95f4\u7684\u5dee\u5f02 </li> <li>\u63cf\u8ff0\u7f51\u7edc\u5982\u4f55\u5bb9\u5fcd\u7a81\u53d1\u6216\u7a33\u5b9a\u7684\u5e26\u5bbd\u4f20\u8f93</li> </ul> <p>TWCC \u6700\u91cd\u8981\u7684\u8d21\u732e\u4e4b\u4e00\u662f\u5b83\u4e3a WebRTC \u5f00\u53d1\u4eba\u5458\u63d0\u4f9b\u7684\u7075\u6d3b\u6027\u3002\u901a\u8fc7\u5c06\u62e5\u585e\u63a7\u5236\u7b97\u6cd5\u6574\u5408\u5230\u53d1\u9001\u7aef\uff0c\u5b83\u5141\u8bb8\u7b80\u5355\u7684\u5ba2\u6237\u7aef\u4ee3\u7801\u88ab\u5e7f\u6cdb\u4f7f\u7528\uff0c\u5e76\u4e14\u968f\u7740\u65f6\u95f4\u7684\u63a8\u79fb\u9700\u8981\u6700\u5c11\u7684\u589e\u5f3a\u3002\u7136\u540e\u53ef\u4ee5\u5728\u5b83\u4eec\u76f4\u63a5\u63a7\u5236\u7684\u786c\u4ef6\u4e0a\u66f4\u5feb\u5730\u8fed\u4ee3\u590d\u6742\u7684\u62e5\u585e\u63a7\u5236\u7b97\u6cd5\uff08\u5982\u7b2c 8 \u8282\u4e2d\u8ba8\u8bba\u7684\u9009\u62e9\u6027\u8f6c\u53d1\u5355\u5143\uff09\u3002\u5bf9\u4e8e\u6d4f\u89c8\u5668\u548c\u79fb\u52a8\u8bbe\u5907\uff0c\u8fd9\u610f\u5473\u7740\u8fd9\u4e9b\u5ba2\u6237\u7aef\u53ef\u4ee5\u4ece\u7b97\u6cd5\u589e\u5f3a\u4e2d\u53d7\u76ca\uff0c\u800c\u65e0\u9700\u7b49\u5f85\u6807\u51c6\u5316\u6216\u6d4f\u89c8\u5668\u66f4\u65b0\uff08\u8fd9\u53ef\u80fd\u9700\u8981\u5f88\u957f\u65f6\u95f4\u624d\u80fd\u88ab\u5e7f\u6cdb\u4f7f\u7528\uff09\u3002</p>"},{"location":"webrtc/forcurious/006.html#_12","title":"\u751f\u6210\u5e26\u5bbd\u4f30\u8ba1\u503c","text":"<p>\u90e8\u7f72\u6700\u591a\u7684\u5b9e\u73b0\u662f\u201cA Google Congestion Control Algorithm for Real-Time Communication\u201d\uff0c\u5b9a\u4e49\u5728 draft-alvestrand-rmcat-congestion\u3002</p> <p>GCC \u6709\u51e0\u79cd\u66ff\u4ee3\u65b9\u6848\uff0c\u4f8b\u5982 </p> <ul> <li>NADA: A Unified Congestion Control Scheme forReal-Time Media </li> <li>SCReAM - \u81ea\u65f6\u949f\u591a\u5a92\u4f53\u901f\u7387\u9002\u5e94\u3002</li> </ul>"},{"location":"webrtc/forcurious/007.html","title":"\u6570\u636e\u901a\u4fe1","text":""},{"location":"webrtc/forcurious/007.html#webrtc","title":"\u6211\u53ef\u4ee5\u4ece WebRTC \u7684\u6570\u636e\u901a\u4fe1\u4e2d\u83b7\u5f97\u4ec0\u4e48\uff1f","text":"<p>WebRTC \u63d0\u4f9b\u7528\u4e8e\u6570\u636e\u901a\u4fe1\u7684\u6570\u636e\u901a\u9053\u3002\u5728\u4e24\u4e2a peer \u4e4b\u95f4\uff0c\u4f60\u53ef\u4ee5\u6253\u5f00 65,534 \u4e2a\u6570\u636e\u901a\u9053\u3002 \u6570\u636e\u901a\u9053\u57fa\u4e8e\u6570\u636e\u62a5\uff0c\u5e76\u4e14\u6bcf\u4e2a\u901a\u9053\u90fd\u6709\u5176\u81ea\u5df1\u7684\u6301\u4e45\u6027\u8bbe\u7f6e\u3002\u9ed8\u8ba4\u8bbe\u7f6e\u4e0b\uff0c\u6bcf\u4e2a\u6570\u636e\u901a\u9053\u90fd\u80fd\u4fdd\u8bc1\u6709\u5e8f\u4ea4\u4ed8\u3002</p> <p>\u5982\u679c\u4f60\u4ece\u4f20\u9012\u5a92\u4f53\u6570\u636e\u7684\u89d2\u5ea6\u5f00\u59cb\u63a5\u89e6 WebRTC\uff0c\u53ef\u80fd\u6570\u636e\u901a\u9053\u770b\u8d77\u6765\u662f\u4e00\u79cd\u6d6a\u8d39\u3002\u5f53\u6211\u53ea\u4f7f\u7528 HTTP \u6216 WebSocket \u5c31\u80fd\u4f20\u9012\u6570\u636e\u7684\u65f6\u5019\uff0c\u4e3a\u4ec0\u4e48\u9700\u8981\u6574\u4e2a\u6570\u636e\u901a\u9053\u5b50\u7cfb\u7edf\u5462\uff1f</p> <p>\u6570\u636e\u901a\u9053\u7684\u771f\u6b63\u5f3a\u5927\u4e4b\u5904\u5728\u4e8e\uff0c\u4f60\u53ef\u4ee5\u5c06\u5b83\u4eec\u914d\u7f6e\u4e3a\u50cf UDP \u4e00\u6837\u8fdb\u884c\u65e0\u5e8f / \u6709\u635f\u4f20\u9012\u3002 \u5bf9\u4e8e\u4f4e\u5ef6\u8fdf\u548c\u9ad8\u6027\u80fd\u7684\u60c5\u51b5\uff0c\u8fd9\u662f\u5fc5\u9700\u7684\u3002\u4f60\u53ef\u4ee5\u6d4b\u91cf\u80cc\u538b\uff0c\u5e76\u786e\u4fdd\u4f60\u4ec5\u53d1\u9001\u7f51\u7edc\u652f\u6301\u7684\u6700\u5927\u6570\u636e\u91cf\u3002</p>"},{"location":"webrtc/forcurious/007.html#_2","title":"\u5b83\u662f\u5982\u4f55\u5de5\u4f5c\u7684\uff1f","text":"<p>WebRTC \u4f7f\u7528RFC 4960\u4e2d\u5b9a\u4e49\u7684\u6d41\u63a7\u5236\u4f20\u8f93\u534f\u8bae\uff08SCTP\uff09\u3002SCTP \u662f\u4e00\u79cd\u4f20\u8f93\u5c42\u534f\u8bae\uff0c\u65e8\u5728\u66ff\u4ee3 TCP \u6216 UDP\u3002\u5bf9\u4e8e WebRTC\uff0c\u6211\u4eec\u5c06 SCTP \u7528\u4f5c\u5728 DTLS \u8fde\u63a5\u4e0a\u8fd0\u884c\u7684\u5e94\u7528\u5c42\u534f\u8bae\u3002</p> <p>SCTP \u4e3a\u4f60\u63d0\u4f9b\u6d41\uff0c\u5e76\u4e14\u6bcf\u4e2a\u6d41\u90fd\u53ef\u4ee5\u72ec\u7acb\u914d\u7f6e\u3002WebRTC \u6570\u636e\u901a\u9053\u53ea\u662f\u57fa\u4e8e\u6d41\u7684\u7b80\u5355\u62bd\u8c61\u3002\u6709\u5173\u6301\u4e45\u6027\u548c\u987a\u5e8f\u7684\u8bbe\u7f6e\u4f1a\u88ab\u76f4\u63a5\u4f20\u9012\u5230 SCTP Agent \u4e2d\u3002</p> <p>\u6570\u636e\u901a\u9053\u5177\u6709 SCTP \u65e0\u6cd5\u8868\u8fbe\u7684\u67d0\u4e9b\u529f\u80fd\uff0c\u4f8b\u5982\u901a\u9053\u6807\u7b7e\u3002\u4e3a\u4e86\u89e3\u51b3\u8be5\u95ee\u9898\uff0cWebRTC \u4f7f\u7528\u4e86RFC 8832\u4e2d\u5b9a\u4e49\u7684\u6570\u636e\u901a\u9053\u5efa\u7acb\u534f\u8bae\uff08DCEP\uff09\u3002DCEP \u5b9a\u4e49\u4e86\u4e00\u6761\u6d88\u606f\uff0c\u7528\u4e8e\u4f20\u9012\u901a\u9053\u6807\u7b7e\u548c\u534f\u8bae\u3002</p>"},{"location":"webrtc/forcurious/007.html#dcep","title":"DCEP","text":"<p>DCEP \u53ea\u6709\u4e24\u4e2a\u6d88\u606f <code>DATA_CHANNEL_OPEN</code> \u548c <code>DATA_CHANNEL_ACK</code>\u3002\u5bf9\u4e8e\u6253\u5f00\u7684\u6bcf\u4e2a\u6570\u636e\u901a\u9053\uff0c\u8fdc\u7aef\u5fc5\u987b\u4ee5 ack \u54cd\u5e94\u3002</p>"},{"location":"webrtc/forcurious/007.html#data_channel_open","title":"DATA_CHANNEL_OPEN","text":"<p>\u8be5\u6d88\u606f\u7531\u5e0c\u671b\u6253\u5f00\u6570\u636e\u901a\u9053\u7684 WebRTC Agent \u53d1\u9001\u3002</p>"},{"location":"webrtc/forcurious/007.html#_3","title":"\u5c01\u5305\u683c\u5f0f","text":"<pre><code> 0                   1                   2                   3\n 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n|  Message Type |  Channel Type |            Priority           |\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n|                    Reliability Parameter                      |\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n|         Label Length          |       Protocol Length         |\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\\                                                               \\\n/                             Label                             /\n\\                                                               \\\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\\                                                               \\\n/                            Protocol                           /\n\\                                                               \\\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n</code></pre>"},{"location":"webrtc/forcurious/007.html#message-type","title":"\u6d88\u606f\u7c7b\u578b\uff08Message Type\uff09","text":"<p>\u6d88\u606f\u7c7b\u578b\u662f\u4e00\u4e2a\u9759\u6001\u503c <code>0x03</code>\u3002</p>"},{"location":"webrtc/forcurious/007.html#channel-type","title":"\u901a\u9053\u7c7b\u578b\uff08Channel Type\uff09","text":"<p>Channel Type controls durability/ordering attributes of the channel. It may have the following values: \u901a\u9053\u7c7b\u578b\u63a7\u5236\u901a\u9053\u7684\u6301\u4e45\u6027 / \u6392\u5e8f\u5c5e\u6027\u3002\u5b83\u53ef\u80fd\u5177\u6709\u4ee5\u4e0b\u503c\uff1a</p> <ul> <li><code>DATA_CHANNEL_RELIABLE</code> (<code>0x00</code>) - \u6ca1\u6709\u6d88\u606f\u4e22\u5931\uff0c\u6d88\u606f\u4f9d\u5e8f\u5230\u8fbe\u3002</li> <li><code>DATA_CHANNEL_RELIABLE_UNORDERED</code> (<code>0x80</code>) - \u6ca1\u6709\u6d88\u606f\u4e22\u5931\uff0c\u4f46\u6d88\u606f\u53ef\u80fd\u4e71\u5e8f\u5230\u8fbe\u3002</li> <li><code>DATA_CHANNEL_PARTIAL_RELIABLE_REXMIT</code> (<code>0x01</code>) - \u6309\u7167\u8bf7\u6c42\u4e2d\u7684\u6b21\u6570\u91cd\u8bd5\u53d1\u9001\u540e\uff0c\u6d88\u606f\u53ef\u80fd\u4f1a\u4e22\u5931\uff0c\u4f46\u6d88\u606f\u5c06\u4f9d\u5e8f\u5230\u8fbe\u3002</li> <li><code>DATA_CHANNEL_PARTIAL_RELIABLE_REXMIT_UNORDERED</code> (<code>0x81</code>) - \u6309\u7167\u8bf7\u6c42\u4e2d\u7684\u6b21\u6570\u91cd\u8bd5\u53d1\u9001\u540e\uff0c\u6d88\u606f\u53ef\u80fd\u4f1a\u4e22\u5931\uff0c\u4e14\u6d88\u606f\u53ef\u80fd\u4e71\u5e8f\u5230\u8fbe\u3002</li> <li><code>DATA_CHANNEL_PARTIAL_RELIABLE_TIMED</code> (<code>0x02</code>) - \u5982\u679c\u6ca1\u6709\u5728\u8bf7\u6c42\u7684\u65f6\u95f4\u5185\u5230\u8fbe\uff0c\u6d88\u606f\u53ef\u80fd\u4f1a\u4e22\u5931\uff0c\u4f46\u6d88\u606f\u5c06\u4f9d\u5e8f\u5230\u8fbe\u3002</li> <li><code>DATA_CHANNEL_PARTIAL_RELIABLE_TIMED_UNORDERED</code> (<code>0x82</code>) - \u5982\u679c\u6ca1\u6709\u5728\u8bf7\u6c42\u7684\u65f6\u95f4\u5185\u5230\u8fbe\uff0c\u6d88\u606f\u53ef\u80fd\u4f1a\u4e22\u5931\uff0c\u4e14\u6d88\u606f\u53ef\u80fd\u4e71\u5e8f\u5230\u8fbe\u3002</li> </ul>"},{"location":"webrtc/forcurious/007.html#priority","title":"\u4f18\u5148\u7ea7\uff08Priority\uff09","text":"<p>\u6570\u636e\u901a\u9053\u7684\u4f18\u5148\u7ea7\u3002\u5177\u6709\u8f83\u9ad8\u4f18\u5148\u7ea7\u7684\u6570\u636e\u901a\u9053\u5c06\u9996\u5148\u88ab\u8c03\u5ea6\u3002\u8f83\u5927\u7684\u4f4e\u4f18\u5148\u7ea7\u7528\u6237\u6d88\u606f\u4e0d\u4f1a\u803d\u8bef\u9ad8\u4f18\u5148\u7ea7\u7528\u6237\u6d88\u606f\u7684\u53d1\u9001\u3002</p>"},{"location":"webrtc/forcurious/007.html#_4","title":"\u53ef\u9760\u6027\u53c2\u6570","text":"<p>\u5982\u679c\u6570\u636e\u901a\u9053\u7c7b\u578b\u7684\u524d\u7f00\u4e3a <code>DATA_CHANNEL_PARTIAL_RELIABLE</code>\uff0c\u5219\u4e0d\u540c\u7684\u540e\u7f00\u5bf9\u5e94\u7684\u53c2\u6570\u914d\u7f6e\u5982\u4e0b\uff1a</p> <ul> <li><code>REXMIT</code> - \u5b9a\u4e49\u53d1\u9001\u65b9\u91cd\u8bd5\u53d1\u9001\u6d88\u606f\u7684\u6b21\u6570\uff0c\u8d85\u51fa\u6b64\u6b21\u6570\u5c06\u653e\u5f03\u5c1d\u8bd5\u3002</li> <li><code>TIMED</code> - \u5b9a\u4e49\u53d1\u9001\u65b9\u91cd\u8bd5\u53d1\u9001\u6d88\u606f\u7684\u65f6\u95f4\uff08\u4ee5\u6beb\u79d2\u4e3a\u5355\u4f4d\uff09\uff0c\u8d85\u51fa\u6b64\u65f6\u95f4\u5c06\u653e\u5f03\u5c1d\u8bd5\u3002</li> </ul>"},{"location":"webrtc/forcurious/007.html#label","title":"\u6807\u7b7e\uff08Label\uff09","text":"<p>\u4e00\u4e2a\u5305\u542b\u6570\u636e\u901a\u9053\u540d\u79f0\u7684 UTF-8 \u7f16\u7801\u7684\u5b57\u7b26\u4e32\u3002\u53ef\u80fd\u4e3a\u7a7a\u3002</p>"},{"location":"webrtc/forcurious/007.html#protocol","title":"\u534f\u8bae\uff08Protocol\uff09","text":"<p>\u5982\u679c\u8fd9\u91cc\u4e3a\u7a7a\u5b57\u7b26\u4e32\uff0c\u5219\u534f\u8bae\u672a\u6307\u5b9a\u3002\u5982\u679c\u662f\u975e\u7a7a\u5b57\u7b26\u4e32\uff0c\u5219\u8fd9\u91cc\u5e94\u6307\u5b9a\u4e00\u4e2a\u534f\u8bae\uff0c\u53ef\u6307\u5b9a\u7684\u534f\u8bae\u8bf7\u53c2\u8003RFC 6455\u4e2d\u5b9a\u4e49\u7684 \"WebSocket \u5b50\u534f\u8bae\u540d\u79f0\u6ce8\u518c\u8868 \" \u4e2d\u7684\u6ce8\u518c\u534f\u8bae\u3002</p>"},{"location":"webrtc/forcurious/007.html#data_channel_ack","title":"DATA_CHANNEL_ACK","text":"<p>WebRTC Agent \u53d1\u9001\u6b64\u6d88\u606f\u4ee5\u786e\u8ba4\u6b64\u6570\u636e\u901a\u9053\u5df2\u6253\u5f00\u3002</p>"},{"location":"webrtc/forcurious/007.html#_5","title":"\u5c01\u5305\u683c\u5f0f","text":"<pre><code> 0                   1                   2                   3\n 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n|  Message Type |\n+-+-+-+-+-+-+-+-+\n</code></pre>"},{"location":"webrtc/forcurious/007.html#sctp","title":"\u6d41\u63a7\u4f20\u8f93\u534f\u8bae\uff08SCTP\uff09","text":"<p>SCTP \u662f WebRTC \u6570\u636e\u901a\u9053\u80cc\u540e\u7684\u771f\u6b63\u52a8\u529b\u3002\u5b83\u63d0\u4f9b\u4e86\u6570\u636e\u901a\u9053\u7684\u4ee5\u4e0b\u6240\u6709\u529f\u80fd\uff1a</p> <ul> <li>\u591a\u8def\u590d\u7528</li> <li>\u4f7f\u7528\u7c7b\u4f3c TCP \u7684\u91cd\u4f20\u673a\u5236\u8fdb\u884c\u53ef\u9760\u4f20\u9012</li> <li>\u90e8\u5206\u53ef\u9760\u6027\u9009\u9879</li> <li>\u907f\u514d\u62e5\u585e</li> <li>\u6d41\u91cf\u63a7\u5236</li> </ul> <p>\u4e3a\u4e86\u7406\u89e3 SCTP\uff0c\u6211\u4eec\u5c06\u5206\u4e09\u4e2a\u90e8\u5206\u8fdb\u884c\u63a2\u8ba8\u3002\u6211\u4eec\u7684\u76ee\u6807\u662f\uff0c\u5728\u672c\u7ae0\u4e4b\u540e\uff0c\u4f60\u5c06\u62e5\u6709\u8db3\u591f\u7684\u77e5\u8bc6\u6765\u81ea\u884c\u8c03\u8bd5\u548c\u5b66\u4e60 SCTP \u7684\u8be6\u7ec6\u4fe1\u606f\u3002</p>"},{"location":"webrtc/forcurious/007.html#_6","title":"\u6982\u5ff5","text":"<p>SCTP \u534f\u8bae\u529f\u80fd\u5f88\u591a\u3002\u672c\u8282\u4ec5\u6db5\u76d6 WebRTC \u4f7f\u7528\u7684 SCTP \u90e8\u5206\u3002 SCTP \u4e2d\uff0cWebRTC \u4e0d\u4f7f\u7528\u7684\u529f\u80fd\u5305\u62ec\u591a\u5bbf\u4e3b\uff08multi-homing\uff09\u548c\u8def\u5f84\u9009\u62e9\u3002</p> <p>\u7ecf\u8fc7 20 \u591a\u5e74\u7684\u53d1\u5c55\uff0cSCTP \u53d8\u5f97\u96be\u4ee5\u5b8c\u5168\u638c\u63e1\u3002</p>"},{"location":"webrtc/forcurious/007.html#association","title":"\u5173\u8054\uff08Association\uff09","text":"<p>\u5173\u8054\u662f\u7528\u4e8e SCTP \u4f1a\u8bdd\u7684\u672f\u8bed\u3002\u8fd9\u662f\u4e24\u4e2a SCTP Agent \u5728\u901a\u4fe1\u65f6\u5171\u4eab\u7684\u72b6\u6001\u3002</p>"},{"location":"webrtc/forcurious/007.html#_7","title":"\u6d41","text":"<p>\u4e00\u4e2a\u6d41\u662f\u7528\u6237\u6570\u636e\u7684\u4e00\u4e2a\u53cc\u5411\u5e8f\u5217\u3002\u521b\u5efa\u6570\u636e\u901a\u9053\u65f6\uff0c\u5b9e\u9645\u4e0a\u53ea\u662f\u5728\u521b\u5efa\u4e00\u4e2a SCTP \u6d41\u3002\u6bcf\u4e2a SCTP \u5173\u8054\u90fd\u5305\u542b\u4e00\u4e2a\u6d41\u5217\u8868\u3002\u53ef\u4ee5\u4e3a\u6bcf\u4e2a\u6d41\u914d\u7f6e\u4e0d\u540c\u7684\u53ef\u9760\u6027\u7c7b\u578b\u3002</p> <p>WebRTC \u53ea\u5141\u8bb8\u4f60\u5728\u521b\u5efa\u6d41\u65f6\u8fdb\u884c\u914d\u7f6e\uff0c\u800c SCTP \u5b9e\u9645\u4e0a\u5141\u8bb8\u968f\u65f6\u66f4\u6539\u914d\u7f6e\u3002</p>"},{"location":"webrtc/forcurious/007.html#_8","title":"\u57fa\u4e8e\u6570\u636e\u62a5","text":"<p>SCTP \u5c06\u6570\u636e\u6784\u9020\u4e3a\u6570\u636e\u62a5\uff0c\u800c\u4e0d\u662f\u5b57\u8282\u6d41\u3002\u53d1\u9001\u548c\u63a5\u6536\u6570\u636e\u5c31\u50cf\u662f\u4f7f\u7528 UDP \u800c\u4e0d\u662f TCP\u3002 \u4f60\u65e0\u9700\u6dfb\u52a0\u4efb\u4f55\u989d\u5916\u7684\u4ee3\u7801\u5373\u53ef\u901a\u8fc7\u4e00\u4e2a\u6d41\u4f20\u8f93\u591a\u4e2a\u6587\u4ef6\u3002</p> <p>SCTP \u6d88\u606f\u6ca1\u6709\u50cf UDP \u8fd9\u6837\u7684\u5927\u5c0f\u9650\u5236\u3002\u5355\u4e2a SCTP \u6d88\u606f\u7684\u5927\u5c0f\u53ef\u4ee5\u8fbe\u5230\u51e0\u4e2a GB\u3002</p>"},{"location":"webrtc/forcurious/007.html#chunks","title":"\u5757\uff08Chunks\uff09","text":"<p>SCTP \u534f\u8bae\u7531\u5757\u7ec4\u6210\u3002\u6709\u8bb8\u591a\u4e0d\u540c\u7c7b\u578b\u7684\u5757\u3002\u8fd9\u4e9b\u5757\u7528\u4e8e\u6240\u6709\u901a\u4fe1\u3002 \u7528\u6237\u6570\u636e\uff0c\u8fde\u63a5\u521d\u59cb\u5316\uff0c\u62e5\u585e\u63a7\u5236\u7b49\uff0c\u5168\u90e8\u901a\u8fc7\u5757\u5b8c\u6210\u3002</p> <p>\u6bcf\u4e2a SCTP \u6570\u636e\u5305\u90fd\u5305\u542b\u4e00\u4e2a\u5757\u5217\u8868\u3002\u56e0\u6b64\uff0c\u5728\u4e00\u4e2a UDP \u6570\u636e\u5305\u4e2d\uff0c\u4f60\u53ef\u4ee5\u6709\u591a\u4e2a\u5757\u627f\u8f7d\u6765\u81ea\u4e0d\u540c\u6d41\u7684\u6d88\u606f\u3002</p>"},{"location":"webrtc/forcurious/007.html#_9","title":"\u4f20\u8f93\u5e8f\u5217\u53f7","text":"<p>\u4f20\u8f93\u5e8f\u5217\u53f7\uff08TSN\uff09\u662f DATA \u5757\u7684\u5168\u5c40\u552f\u4e00\u6807\u8bc6\u7b26\u3002DATA \u5757\u627f\u8f7d\u7528\u6237\u5e0c\u671b\u53d1\u9001\u7684\u6240\u6709\u6d88\u606f\u3002TSN \u5f88\u91cd\u8981\uff0c\u56e0\u4e3a\u5b83\u53ef\u4ee5\u5e2e\u52a9\u63a5\u6536\u65b9\u786e\u5b9a\u6570\u636e\u5305\u662f\u5426\u4e22\u5931\u6216\u4e71\u5e8f\u3002</p> <p>\u5982\u679c\u63a5\u6536\u65b9\u6ce8\u610f\u5230\u7f3a\u5c11 TSN\uff0c\u5219\u5728\u6570\u636e\u5b8c\u6574\u83b7\u53d6\u4e4b\u524d\uff0c\u5b83\u4e0d\u5e94\u5c06\u6570\u636e\u63d0\u4f9b\u7ed9\u7528\u6237\u3002</p>"},{"location":"webrtc/forcurious/007.html#_10","title":"\u6d41\u6807\u8bc6\u7b26","text":"<p>\u6bcf\u4e2a\u6d41\u90fd\u6709\u4e00\u4e2a\u552f\u4e00\u7684\u6807\u8bc6\u7b26\u3002\u5f53\u4f60\u521b\u5efa\u5e26\u6709\u663e\u5f0f ID \u7684\u6570\u636e\u901a\u9053\u65f6\uff0c\u5b9e\u9645\u4e0a\u662f\u5c06\u5176\u4f5c\u4e3a\u6d41\u6807\u8bc6\u7b26\u76f4\u63a5\u4f20\u9012\u5230 SCTP \u4e2d\u3002\u5982\u679c\u4f60\u6ca1\u6709\u4f20\u9012 ID\uff0c\u5219\u4f1a\u4e3a\u4f60\u81ea\u52a8\u9009\u62e9\u6d41\u6807\u8bc6\u7b26\u3002</p>"},{"location":"webrtc/forcurious/007.html#_11","title":"\u6709\u6548\u8d1f\u8f7d\u534f\u8bae\u6807\u8bc6\u7b26","text":"<p>\u6bcf\u4e2a DATA \u5757\u8fd8\u5177\u6709\u4e00\u4e2a\u6709\u6548\u8d1f\u8f7d\u534f\u8bae\u6807\u8bc6\u7b26\uff08PPID\uff09\u3002\u8fd9\u7528\u4e8e\u552f\u4e00\u5730\u6807\u8bc6\u6b63\u5728\u4ea4\u6362\u7684\u6570\u636e\u7c7b\u578b\u3002 SCTP \u5177\u6709\u8bb8\u591a PPID\uff0c\u4f46\u662f WebRTC \u4ec5\u4f7f\u7528\u4ee5\u4e0b\u4e94\u79cd\uff1a</p> <ul> <li><code>WebRTC DCEP</code> (<code>50</code>) - DCEP \u6d88\u606f\u3002</li> <li><code>WebRTC String</code> (<code>51</code>) - Datachannel \u5b57\u7b26\u4e32\u6d88\u606f\u3002</li> <li><code>WebRTC Binary</code> (<code>53</code>) - Datachannel \u4e8c\u8fdb\u5236\u6d88\u606f\u3002</li> <li><code>WebRTC String Empty</code> (<code>56</code>) - \u957f\u5ea6\u4e3a 0 \u7684 Datachannel \u5b57\u7b26\u4e32\u6d88\u606f\u3002</li> <li><code>WebRTC Binary Empty</code> (<code>57</code>) - \u957f\u5ea6\u4e3a 0 \u7684 Datachannel \u4e8c\u8fdb\u5236\u6d88\u606f\u3002</li> </ul>"},{"location":"webrtc/forcurious/007.html#_12","title":"\u534f\u8bae","text":"<p>\u4ee5\u4e0b\u662f SCTP \u534f\u8bae\u4f7f\u7528\u7684\u4e00\u4e9b\u5757\u3002\u8fd9\u4e0d\u662f\u4e00\u4e2a\u8be6\u5c3d\u7684\u6f14\u793a\u3002\u53ea\u63d0\u4f9b\u4e86\u8db3\u591f\u7684\u7ed3\u6784\u8ba9\u72b6\u6001\u673a\u8fd0\u4f5c\u8d77\u6765\u3002</p> <p>\u6bcf\u4e2a\u5757\u5747\u4ee5 <code>type</code> \u5b57\u6bb5\u5f00\u5934\u3002\u5728\u5757\u5217\u8868\u4e4b\u524d\uff0c\u8fd8\u6709\u4e00\u4e2a\u5934\u5b57\u6bb5\u3002</p>"},{"location":"webrtc/forcurious/007.html#data","title":"DATA \u5757","text":"<p><pre><code> 0                   1                   2                   3\n 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n|   Type = 0    | Reserved|U|B|E|    Length                     |\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n|                              TSN                              |\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n|      Stream Identifier        |   Stream Sequence Number      |\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n|                  Payload Protocol Identifier                  |\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\\                                                               \\\n/                            User Data                          /\n\\                                                               \\\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n</code></pre> DATA \u5757\u662f\u4ea4\u6362\u6240\u6709\u7528\u6237\u6570\u636e\u7684\u65b9\u5f0f\u3002\u4e0b\u9762\u662f\u5bf9 DATA \u5757\u66f4\u8be6\u7ec6\u7684\u8bf4\u660e\uff0c\u6570\u636e\u5c31\u662f\u8fd9\u6837\u901a\u8fc7\u6570\u636e\u901a\u9053\u88ab\u53d1\u9001\u7684\u3002</p> <p>\u5982\u679c\u662f\u65e0\u5e8f\u6570\u636e\u5305\uff0c\u5219\u5c06 <code>U</code> \u4f4d\u8bbe\u7f6e\u4e3a 1\u3002\u6211\u4eec\u53ef\u4ee5\u5ffd\u7565\u6d41\u5e8f\u5217\u53f7\uff08Stream Sequence Number\uff09\u3002</p> <p><code>B</code> \u548c <code>E</code> \u662f\u5f00\u59cb\u4f4d\u548c\u7ed3\u675f\u4f4d\u3002\u5982\u679c\u8981\u53d1\u9001\u7684\u6d88\u606f\u5bf9\u4e8e\u5355\u4e2a DATA \u5757\u800c\u8a00\u592a\u5927\uff0c\u5219\u9700\u8981\u5c06\u5176\u5206\u7247\u6210\u591a\u4e2a DATA \u5757\u53d1\u9001\u3002 SCTP \u4f7f\u7528 \u6bd4\u7279\u4f4d <code>B</code> \u548c <code>E</code> \u4ee5\u53ca\u5e8f\u5217\u53f7\uff08TSN\uff09\u6765\u63cf\u8ff0\u6d88\u606f\u5206\u5305\u3002</p> <ul> <li><code>B=1</code>, <code>E=0</code> - \u7528\u6237\u6d88\u606f\u7684\u7b2c\u4e00\u4e2a\u5206\u7247\u3002</li> <li><code>B=0</code>, <code>E=0</code> - \u7528\u6237\u6d88\u606f\u7684\u4e2d\u95f4\u7684\u5206\u7247\u3002</li> <li><code>B=0</code>, <code>E=1</code> - \u7528\u6237\u6d88\u606f\u7684\u6700\u540e\u4e00\u4e2a\u5206\u7247\u3002</li> <li><code>B=1</code>, <code>E=1</code> - \u672a\u5206\u7247\u7684\u7528\u6237\u6d88\u606f\u3002</li> </ul> <p><code>TSN</code> \u662f <code>Transmission Sequence Number</code>\uff0c\u4e00\u4e2a DATA chunk \u7684\u552f\u4e00\u6807\u8bc6\u7b26\u3002\u5b83\u662f\u4e00\u4e2a\u9012\u589e\u7684 32-bit \u6570\uff0c\u5728\u8fbe\u5230\u6700\u5927\u503c 4,294,967,295 \u4e4b\u540e\uff0c\u7ee7\u7eed\u4ece 0 \u5f00\u59cb\u9012\u589e\u3002</p> <p><code>Stream Identifier</code>\uff08\u6d41\u6807\u8bc6\u7b26\uff09\u662f\u8be5\u6570\u636e\u6240\u5c5e\u6d41\u7684\u552f\u4e00\u6807\u8bc6\u7b26\u3002</p> <p><code>Stream Sequence Number</code> , \u6807\u8bc6\u4e00\u4e2a\u7528\u6237\u6d88\u606f\u3002\u5b83\u662f\u4e00\u4e2a\u9012\u589e\u7684 16-bit \u6570\uff0c\u5728 \u8fbe\u5230\u6700\u5927\u503c 65535 \u4e4b\u540e\uff0c\u7ee7\u7eed\u4ece 0 \u5f00\u59cb\u9012\u589e\u3002 \u6bd4\u7279\u4f4d <code>U</code> \u8bbe\u7f6e\u4e3a 1 \u65f6\uff0c\u8868\u793a\u65e0\u5e8f\u6d88\u606f\u5305\uff0c<code>Stream Sequence Number</code> \u53ef\u4ee5\u5ffd\u7565\u3002 \u6bd4\u7279\u4f4d <code>U</code> \u8bbe\u7f6e\u4e3a 0 \u65f6\uff0c\u8868\u793a\u6709\u5e8f\u6d88\u606f\u5305\uff0c\u8be5\u7f16\u53f7\u7528\u4e8e\u786e\u5b9a\u6d88\u606f\u5305\u7684\u987a\u5e8f\u3002 \u4e0e TSN \u7c7b\u4f3c\uff0c\u4f46\u662f <code>Stream Sequence Number</code> \u4ee5\u4e00\u4e2a\u7528\u6237\u6d88\u606f\u7684\u7c92\u5ea6\u9012\u589e\uff0cTSN \u4ee5\u4e00\u4e2a Chunk \u7684\u7c92\u5ea6\u9012\u589e\u3002</p> <p><code>Payload Protocol Identifier</code>\uff08\u6709\u6548\u8d1f\u8f7d\u534f\u8bae\u6807\u8bc6\u7b26\uff09\u662f\u6d41\u8fc7\u6b64\u6d41\u7684\u6570\u636e\u7c7b\u578b\u3002\u5bf9\u4e8e WebRTC \u800c\u8a00\uff0c\u5b83\u53ef\u80fd\u662f DCEP\uff0cString \u6216 Binary\u3002</p> <p><code>User Data</code>\uff08\u7528\u6237\u6570\u636e\uff09\u5c31\u662f\u4f60\u8981\u53d1\u9001\u7684\u5185\u5bb9\u3002\u901a\u8fc7 WebRTC Data Channel \u53d1\u9001\u7684\u6240\u6709\u6570\u636e\u5747\u901a\u8fc7 DATA \u5757\u4f20\u8f93\u3002</p>"},{"location":"webrtc/forcurious/007.html#init","title":"INIT \u5757","text":"<pre><code> 0                   1                   2                   3\n 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n|   Type = 1    |  Chunk Flags  |      Chunk Length             |\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n|                         Initiate Tag                          |\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n|           Advertised Receiver Window Credit (a_rwnd)          |\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n|  Number of Outbound Streams   |  Number of Inbound Streams    |\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n|                          Initial TSN                          |\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\\                                                               \\\n/              Optional/Variable-Length Parameters              /\n\\                                                               \\\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n</code></pre> <p>INIT \u5757\u5f00\u59cb\u521b\u5efa\u4e00\u4e2a\u5173\u8054\uff08association\uff09\u7684\u8fc7\u7a0b\u3002</p> <p><code>Initiate Tag</code>\uff08\u542f\u52a8\u6807\u7b7e\uff09\u7528\u4e8e\u751f\u6210 Cookie\u3002Cookies \u6280\u672f\u5728\u4e2d\u95f4\u4eba\u653b\u51fb\u548c DoS \u4fdd\u62a4\u4e2d\u53ef\u80fd\u4f1a\u88ab\u7528\u5230\u3002\u5728\u72b6\u6001\u673a\u7ae0\u8282\u4e2d\u5bf9\u5b83\u4eec\u8fdb\u884c\u4e86\u66f4\u8be6\u7ec6\u7684\u63cf\u8ff0\u3002</p> <p><code>Advertised Receiver Window Credit</code>\uff08\u5e7f\u64ad\u63a5\u6536\u8005\u7a97\u53e3\u4fe1\u7528\u503c\uff09\u7528\u4e8e SCTP \u7684\u62e5\u585e\u63a7\u5236\u3002\u5b83\u4f20\u8fbe\u4e86\u63a5\u6536\u65b9\u5df2\u4e3a\u6b64\u5173\u8054\u5206\u914d\u4e86\u591a\u5927\u7684\u7f13\u51b2\u533a\u3002</p> <p><code>Number of Outbound/Inbound Streams</code>\uff08\u51fa\u7ad9 / \u5165\u7ad9\u6d41\u7684\u6570\u91cf\uff09\u901a\u77e5\u8be5 Agent \u652f\u6301\u591a\u5c11\u4e2a\u6d41\u3002</p> <p><code>Initial TSN</code>\uff08\u521d\u59cb TSN\uff09\u662f\u968f\u673a\u7684 <code>uint32</code>\uff0c\u672c\u5730 TSN \u4ee5\u8fd9\u4e2a\u503c\u5f00\u59cb\u8ba1\u6570\u3002</p> <p><code>Optional Parameters</code>\uff08\u53ef\u9009\u53c2\u6570\uff09\u5141\u8bb8 SCTP \u5411\u534f\u8bae\u5f15\u5165\u65b0\u529f\u80fd\u3002</p>"},{"location":"webrtc/forcurious/007.html#sack","title":"SACK \u5757","text":"<pre><code> 0                   1                   2                   3\n 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n|   Type = 3    |Chunk  Flags   |      Chunk Length             |\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n|                      Cumulative TSN Ack                       |\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n|          Advertised Receiver Window Credit (a_rwnd)           |\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n| Number of Gap Ack Blocks = N  |  Number of Duplicate TSNs = X |\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n|  Gap Ack Block #1 Start       |   Gap Ack Block #1 End        |\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n/                                                               /\n\\                              ...                              \\\n/                                                               /\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n|   Gap Ack Block #N Start      |  Gap Ack Block #N End         |\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n|                       Duplicate TSN 1                         |\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n/                                                               /\n\\                              ...                              \\\n/                                                               /\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n|                       Duplicate TSN X                         |\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n</code></pre> <p>SACK\uff08\u9009\u62e9\u6027\u786e\u8ba4\uff09\u5757\u662f\u63a5\u6536\u65b9\u901a\u77e5\u53d1\u9001\u65b9\u5b83\u5df2\u6536\u5230\u6570\u636e\u5305\u4fe1\u606f\u7684\u65b9\u5f0f\u3002\u5728\u53d1\u9001\u65b9\u83b7\u5f97\u9488\u5bf9 TSN \u7684 SACK \u4e4b\u524d\uff0c\u5b83\u5c06\u91cd\u65b0\u53d1\u9001\u6709\u95ee\u9898\u7684 DATA \u5757\u3002\u7136\u800c\uff0cSACK \u7684\u4f5c\u7528\u4e0d\u53ea\u662f\u66f4\u65b0 TSN \u4fe1\u606f\u3002</p> <p><code>Cumulative TSN ACK</code>\uff08\u7d2f\u79ef TSN ACK\uff09\u662f\u5df2\u6536\u5230\u7684\u6700\u9ad8 TSN\u3002</p> <p><code>Advertised Receiver Window Credit</code>\uff08\u5e7f\u64ad\u63a5\u6536\u8005\u7a97\u53e3\u4fe1\u7528\u503c\uff09\u662f\u63a5\u6536\u65b9\u7684\u7f13\u51b2\u533a\u5927\u5c0f\u3002\u5982\u679c\u53ef\u7528\u5185\u5b58\u589e\u52a0\uff0c\u63a5\u6536\u65b9\u53ef\u4ee5\u5728\u4f1a\u8bdd\u671f\u95f4\u66f4\u6539\u6b64\u8bbe\u7f6e\u3002</p> <p>\u5728 <code>Cumulative TSN ACK</code>\uff08\u7d2f\u79ef TSN ACK\uff09\u540e\u9762\uff0c\u662f <code>Ack Blocks</code> \u7684 TSN\u3002 \u8fd9\u4e2a\u65b9\u6cd5\u7528\u6765\u89e3\u51b3\u4f20\u9001\u7684\u6570\u636e\u5305\u4e2d\u6709\u7f3a\u53e3\u7684\u95ee\u9898\u3002\u5047\u8bbe\u6211\u4eec\u6536\u5230\u4e86\u5e26\u6709 TSN<code>100</code>,<code>102</code>,<code>103</code> \u548c <code>104</code> \u7684 DATA \u5757\u3002<code>Cumulative TSN ACK</code> \u5e94\u8be5\u662f <code>100</code>\uff0c\u4f46\u53ef\u4ee5\u4f7f\u7528 <code>Ack Blocks</code> \u6765\u544a\u8bc9\u53d1\u9001\u65b9\u4e0d\u9700\u8981\u91cd\u65b0\u53d1\u9001 <code>102</code>,<code>103</code> \u6216 <code>104</code>\u3002</p> <p><code>Duplicate TSN</code>\uff08\u91cd\u590d TSN\uff09\u4f1a\u901a\u77e5\u53d1\u9001\u65b9\uff0c\u5b83\u5df2\u7ecf\u4e0d\u6b62\u4e00\u6b21\u7684\u63a5\u6536\u4e86\u54ea\u4e9b DATA \u6570\u636e\u5757\u3002</p>"},{"location":"webrtc/forcurious/007.html#heartbeat","title":"HEARTBEAT \u5757","text":"<pre><code> 0                   1                   2                   3\n 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n|   Type = 4    | Chunk  Flags  |      Heartbeat Length         |\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\\                                                               \\\n/            Heartbeat Information TLV (Variable-Length)        /\n\\                                                               \\\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n</code></pre> <p>HEARTBEAT \u5757\u7528\u4e8e\u65ad\u8a00\u8fdc\u7aef\u4ecd\u80fd\u54cd\u5e94\u3002 \u5f53\u4f60\u4e0d\u53d1\u9001\u4efb\u4f55 DATA \u6570\u636e\u5757\uff0c\u4e14\u9700\u8981\u4fdd\u6301 NAT \u6620\u5c04\u6253\u5f00\u65f6\uff0c\u8fd9\u5f88\u6709\u7528\u3002</p>"},{"location":"webrtc/forcurious/007.html#abort","title":"ABORT \u5757","text":"<pre><code> 0                   1                   2                   3\n 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n|   Type = 6    |Reserved     |T|           Length              |\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n/                                                               /\n\\               Zero or more Error Causes                       \\\n/                                                               /\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n</code></pre> <p>ABORT \u5757\u7528\u4e8e\u5173\u8054\u7684\u7a81\u7136\u5173\u95ed\u3002\u5f53\u4e00\u4fa7\u8fdb\u5165\u9519\u8bef\u72b6\u6001\u65f6\u4f7f\u7528\u3002\u6b63\u5e38\u7ed3\u675f\u8fde\u63a5\u4f7f\u7528 SHUTDOWN \u5757\u3002</p>"},{"location":"webrtc/forcurious/007.html#shutdown","title":"SHUTDOWN \u5757","text":"<pre><code> 0                   1                   2                   3\n 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n|   Type = 7    | Chunk  Flags  |      Length = 8               |\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n|                      Cumulative TSN Ack                       |\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n</code></pre> <p>SHUTDOWN \u5757\u5c06\u6b63\u5e38\u5173\u95ed SCTP \u5173\u8054\u3002 \u6bcf\u4e2a Agent \u5c06\u5176\u53d1\u9001\u7684\u6700\u540e\u4e00\u4e2a TSN \u901a\u77e5\u7ed9\u8fdc\u7aef\u3002\u8fd9\u6837\u53ef\u4ee5\u786e\u4fdd\u4e0d\u4f1a\u4e22\u5931\u4efb\u4f55\u6570\u636e\u5305\u3002\uff08\u5982\u679c\u6709\u8d44\u6e90\u4ecd\u5728\u4f7f\u7528\u4e2d\u7684\u8bdd\uff0c\uff09WebRTC \u4e0d\u80fd\u6b63\u5e38\u5173\u95ed SCTP \u5173\u8054\u3002\u4f60\u9700\u8981\u81ea\u884c\u5173\u95ed\u6240\u6709\u6570\u636e\u901a\u9053\u3002</p> <p><code>Cumulative TSN ACK</code>\uff08\u7d2f\u79ef TSN ACK\uff09\u662f\u53d1\u9001\u7684\u6700\u540e\u4e00\u4e2a TSN\u3002\u53cc\u65b9\u90fd\u77e5\u9053\u5728\u63a5\u6536\u5230\u6b64 TSN \u5bf9\u5e94\u7684 DATA \u5757\u4e4b\u524d\u4e0d\u8981\u7ec8\u6b62\u3002</p>"},{"location":"webrtc/forcurious/007.html#error","title":"ERROR \u5757","text":"<pre><code> 0                   1                   2                   3\n 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n|   Type = 9    | Chunk  Flags  |           Length              |\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\\                                                               \\\n/                    One or more Error Causes                   /\n\\                                                               \\\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n</code></pre> <p>ERROR \u5757\u7528\u4e8e\u901a\u77e5\u8fdc\u7aef SCTP Agent\uff1a\u672c\u7aef\u53d1\u751f\u4e86\u975e\u81f4\u547d\u9519\u8bef\u3002</p>"},{"location":"webrtc/forcurious/007.html#forward-tsn","title":"FORWARD TSN \u5757","text":"<pre><code> 0                   1                   2                   3\n 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n|   Type = 192  |  Flags = 0x00 |        Length = Variable      |\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n|                      New Cumulative TSN                       |\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n|         Stream-1              |       Stream Sequence-1       |\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n\\                                                               /\n/                                                               \\\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n|         Stream-N              |       Stream Sequence-N       |\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n</code></pre> <p><code>FORWARD TSN</code> \u5757\u5c06\u5168\u5c40 TSN \u5411\u524d\u79fb\u52a8\u3002SCTP \u8fd9\u6837\u505a\u662f\u4e3a\u4e86\u5141\u8bb8\u8df3\u8fc7\u4e00\u4e9b\u4f60\u4e0d\u518d\u5173\u5fc3\u7684\u6570\u636e\u5305\u3002\u5047\u8bbe\u4f60\u53d1\u9001\u4e86 <code>10 11 12 13 14 15</code>\uff0c\u8fd9\u4e9b\u6570\u636e\u5305\u53ea\u6709\u5728\u5b83\u4eec\u5168\u90e8\u5230\u8fbe\u540e\u624d\u6709\u610f\u4e49\u3002\u800c\u8fd9\u4e9b\u6570\u636e\u53c8\u5bf9\u5b9e\u65f6\u6027\u5f88\u654f\u611f\uff0c\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u5982\u679c\u6570\u636e\u6536\u665a\u4e86\uff0c\u5b83\u4eec\u5c31\u6ca1\u6709\u7528\u4e86\u3002</p> <p>\u5982\u679c\u4f60\u4e22\u5931\u4e86 <code>12</code> \u548c <code>13</code>\uff0c\u5219\u4e0d\u9700\u8981\u518d\u53d1\u9001 <code>14</code> \u548c <code>15</code>\uff01 SCTP \u4f7f\u7528 <code>FORWARD TSN</code> \u5757\u6765\u5b9e\u73b0\u8fd9\u4e00\u70b9\u3002\u5b83\u544a\u8bc9\u63a5\u6536\u65b9\uff0c<code>14</code> \u548c <code>15</code> \u5c06\u4e0d\u518d\u4f20\u9012\u3002</p> <p><code>New Cumulative TSN</code>\uff08\u65b0\u7684\u7d2f\u79ef TSN\uff09\uff0c\u662f\u8fde\u63a5\u7684\u65b0 TSN\u3002\u6b64 TSN \u4e4b\u524d\u7684\u4efb\u4f55\u6570\u636e\u5305\u90fd\u4e0d\u4f1a\u88ab\u4fdd\u7559\u3002</p> <p><code>Stream</code>\uff08\u6d41\uff09\u548c <code>Stream Sequence</code>\uff08\u6d41\u5e8f\u5217\uff09\u7528\u4e8e\u5c06 <code>Stream Sequence Number</code> \u7684\u7f16\u53f7\u5411\u524d\u8df3\u8f6c\u3002\u8bf7\u53c2\u9605\u524d\u9762\u7684 <code>DATA \u5757</code>\u4ee5\u4e86\u89e3\u8be5\u5b57\u6bb5\u7684\u91cd\u8981\u6027\u3002</p>"},{"location":"webrtc/forcurious/007.html#_13","title":"\u72b6\u6001\u673a","text":"<p>\u8fd9\u91cc\u662f SCTP \u72b6\u6001\u673a\u4e2d\u4e00\u4e9b\u6709\u8da3\u7684\u90e8\u5206\u3002WebRTC \u5e76\u672a\u4f7f\u7528 SCTP \u72b6\u6001\u673a\u7684\u6240\u6709\u529f\u80fd\uff0c\u56e0\u6b64\u6211\u4eec\u5c06\u6ca1\u6709\u7528\u5230\u7684\u90e8\u5206\u6392\u9664\u5728\u5916\u3002\u6211\u4eec\u8fd8\u7b80\u5316\u4e86\u4e00\u4e9b\u7ec4\u4ef6\uff0c\u4f7f\u5b83\u4eec\u66f4\u6613\u4e8e\u7406\u89e3\u3002</p>"},{"location":"webrtc/forcurious/007.html#_14","title":"\u8fde\u63a5\u5efa\u7acb\u6d41\u7a0b","text":"<p><code>INIT</code> \u548c <code>INIT ACK</code> \u5757\u7528\u4e8e\u4ea4\u6362 peer \u7684\u80fd\u529b\u548c\u914d\u7f6e\u3002SCTP \u5728\u63e1\u624b\u671f\u95f4\u4f7f\u7528 cookie \u6765\u9a8c\u8bc1\u4e0e\u4e4b\u901a\u4fe1\u7684 peer\u3002 \u8fd9\u662f\u4e3a\u4e86\u786e\u4fdd\u63e1\u624b\u4e0d\u4f1a\u88ab\u62e6\u622a\u5e76\u9632\u6b62 DoS \u653b\u51fb\u3002</p> <p><code>INIT ACK</code> \u5757\u5305\u542b cookie\u3002\u7136\u540e\uff0c\u4f7f\u7528 <code>COOKIE ECHO</code> \u5c06 cookie \u8fd4\u56de\u7ed9\u5176\u521b\u5efa\u8005\u3002\u5982\u679c cookie \u9a8c\u8bc1\u6210\u529f\uff0c\u5219\u53d1\u9001 <code>COOKIE ACK</code>\uff0c\u5e76\u4e14\u51c6\u5907\u4ea4\u6362 DATA \u5757\u3002</p> <p></p>"},{"location":"webrtc/forcurious/007.html#_15","title":"\u8fde\u63a5\u5173\u95ed\u6d41\u7a0b","text":"<p>SCTP \u4f7f\u7528 <code>SHUTDOWN</code> \u5757\u3002\u5f53 Agent \u6536\u5230 <code>SHUTDOWN</code> \u5757\u65f6\uff0c\u5b83\u5c06\u7b49\u5f85\u76f4\u5230\u6536\u5230\u8bf7\u6c42\u7684 <code>Cumulative TSN ACK</code>\u3002\u8fd9\u6837\uff0c\u5373\u4f7f\u8fde\u63a5\u6709\u635f\uff0c\u7528\u6237\u4e5f\u53ef\u4ee5\u786e\u4fdd\u4f20\u9001\u4e86\u6240\u6709\u6570\u636e\u3002</p>"},{"location":"webrtc/forcurious/007.html#keep-alive","title":"Keep-Alive\uff08\u4fdd\u6301\u6d3b\u52a8\uff09\u673a\u5236","text":"<p>SCTP \u4f7f\u7528 <code>HEARTBEAT REQUEST</code> \u548c <code>HEARTBEAT ACK</code> \u5757\u4f7f\u8fde\u63a5\u4fdd\u6301\u6d3b\u52a8\u72b6\u6001\u3002\u5b83\u4eec\u4ee5\u56fa\u5b9a\u95f4\u9694\u53d1\u9001\uff0c\u95f4\u9694\u65f6\u95f4\u53ef\u914d\u7f6e\u3002\u5982\u679c\u6570\u636e\u5305\u5c1a\u672a\u5230\u8fbe\uff0cSCTP \u8fd8\u4f1a\u5c06\u6307\u6570\u56de\u9000\u3002</p> <p><code>HEARTBEAT</code> \u5757\u8fd8\u5305\u542b\u4e00\u4e2a\u65f6\u95f4\u503c\u3002\u4e24\u4e2a\u5173\u8054\u53ef\u4ee5\u7528\u6b64\u6765\u8ba1\u7b97\u4e24\u4e2a Agent \u4e4b\u95f4\u7684\u6570\u636e\u4f20\u9012\u65f6\u95f4\u3002</p>"},{"location":"webrtc/forcurious/008.html","title":"WebRTC \u5e94\u7528\u573a\u666f","text":"<p>\u73b0\u5728\u4f60\u5df2\u7ecf\u77e5\u9053 WebRTC \u7684\u5de5\u4f5c\u539f\u7406\uff0c\u5230\u4e86\u4f7f\u7528\u5b83\u7684\u65f6\u5019\u4e86\uff01\u672c\u7ae0\u63a2\u8ba8\u4eba\u4eec\u4f7f\u7528 WebRTC \u6784\u5efa\u4ec0\u4e48\u4ee5\u53ca\u4ed6\u4eec\u662f\u5982\u4f55\u5b9e\u73b0\u7684\u3002\u4f60\u5c06\u5b66\u5230\u57fa\u4e8e WebRTC \u53d1\u751f\u7684\u6240\u6709\u6709\u8da3\u7684\u4e8b\u60c5\u3002WebRTC \u7684\u529f\u80fd\u662f\u6709\u4ee3\u4ef7\u7684\u3002\u5efa\u7acb\u4ea7\u54c1\u7ea7\u7684 WebRTC \u670d\u52a1\u76f8\u5f53\u6709\u6311\u6218\u6027\u3002\u672c\u7ae0\u5c06\u5c1d\u8bd5\u89e3\u91ca\u8fd9\u4e9b\u6311\u6218\u6027\u7684\u6839\u6e90\uff0c\u8fd9\u6837\u4f60\u9047\u5230\u95ee\u9898\u65f6\u5c31\u80fd\u6709\u6240\u51c6\u5907\u3002</p>"},{"location":"webrtc/forcurious/008.html#_1","title":"\u7528\u4f8b","text":"<p>\u8bb8\u591a\u4eba\u8ba4\u4e3a WebRTC \u53ea\u662f\u4e00\u79cd\u5728 web \u6d4f\u89c8\u5668\u4e2d\u5b9e\u73b0\u7535\u8bdd\u4f1a\u8bae\u7684\u6280\u672f\u3002\u5b9e\u9645\u4e0a\uff0c\u5b83\u80fd\u505a\u7684\u4e0d\u4ec5\u5982\u6b64\uff01 WebRTC \u88ab\u5e7f\u6cdb\u7528\u4e8e\u5404\u79cd\u7528\u4f8b\u3002\u65b0\u7684\u7528\u4f8b\u4e00\u76f4\u5728\u51fa\u73b0\u3002\u5728\u672c\u7ae0\u4e2d\uff0c\u6211\u4eec\u5c06\u5217\u51fa\u4e00\u4e9b\u5e38\u89c1\u7684\u7528\u4f8b\uff0c\u5e76\u63a2\u8ba8\u4e00\u4e0b WebRTC \u662f\u5982\u4f55\u5bf9\u5b83\u4eec\u8fdb\u884c\u9769\u65b0\u7684\u3002</p>"},{"location":"webrtc/forcurious/008.html#_2","title":"\u7535\u8bdd\u4f1a\u8bae","text":"<p>\u7535\u8bdd\u4f1a\u8bae\u662f WebRTC \u7684\u539f\u59cb\u7528\u4f8b\u3002\u8be5\u534f\u8bae\u5305\u542b\u6d4f\u89c8\u5668\u4e2d\u51e0\u4e2a\u5fc5\u8981\u529f\u80fd\uff0c\u8fd9\u4e9b\u529f\u80fd\u6ca1\u6709\u5176\u4ed6\u534f\u8bae\u63d0\u4f9b\u652f\u6301\u3002\u4f60\u53ef\u4ee5\u4f7f\u7528 WebSockets \u6784\u5efa\u4f1a\u8bae\u7cfb\u7edf\uff0c\u5728\u5404\u79cd\u6761\u4ef6\u90fd\u6ee1\u8db3\u7684\u60c5\u51b5\u4e0b\uff0c\u5b83\u53ef\u80fd\u53ef\u4ee5\u5de5\u4f5c\u3002\u4f46\u5982\u679c\u4f60\u5e0c\u671b\u5728\u73b0\u5b9e\u4e16\u754c\u7684\u7f51\u7edc\u6761\u4ef6\u4e0b\u90e8\u7f72\u4e00\u4e9b\u670d\u52a1\uff0c\u90a3\u4e48 WebRTC \u662f\u6700\u4f73\u9009\u62e9\u3002</p> <p>WebRTC \u4e3a\u5a92\u4f53\u63d0\u4f9b\u62e5\u585e\u63a7\u5236\u548c\u81ea\u9002\u5e94\u6bd4\u7279\u7387\u3002\u968f\u7740\u7f51\u7edc\u6761\u4ef6\u7684\u53d8\u5316\uff0c\u7528\u6237\u4ecd\u5c06\u83b7\u5f97\u6700\u4f73\u4f53\u9a8c\u3002\u5f00\u53d1\u4eba\u5458\u4e0d\u5fc5\u7f16\u5199\u4efb\u4f55\u5176\u4ed6\u4ee3\u7801\u6765\u5904\u7406\u8fd9\u4e9b\u60c5\u51b5\u3002</p> <p>\u53c2\u4e0e\u8005\u53ef\u4ee5\u53d1\u9001\u548c\u63a5\u6536\u591a\u4e2a\u6d41\u3002\u5728\u547c\u53eb\u8fc7\u7a0b\u4e2d\uff0c\u4ed6\u4eec\u8fd8\u53ef\u4ee5\u968f\u65f6\u6dfb\u52a0\u548c\u5220\u9664\u8fd9\u4e9b\u6d41\u3002\u7f16\u89e3\u7801\u5668\u4e5f\u7ecf\u8fc7\u534f\u5546\u3002\u6240\u6709\u8fd9\u4e9b\u529f\u80fd\u90fd\u662f\u7531\u6d4f\u89c8\u5668\u63d0\u4f9b\u7684\uff0c\u5f00\u53d1\u4eba\u5458\u65e0\u9700\u7f16\u5199\u4efb\u4f55\u81ea\u5b9a\u4e49\u4ee3\u7801\u3002</p> <p>\u6570\u636e\u901a\u9053\u4e5f\u5bf9\u7535\u8bdd\u4f1a\u8bae\u6709\u6240\u52a9\u76ca\u3002\u7528\u6237\u53ef\u4ee5\u53d1\u9001\u5143\u6570\u636e\u6216\u5171\u4eab\u6587\u6863\u3002\u5982\u679c\u66f4\u770b\u91cd\u6027\u80fd\u800c\u4e0d\u662f\u53ef\u9760\u6027\uff0c\u53ef\u4ee5\u521b\u5efa\u591a\u4e2a\u6d41\u5e76\u5bf9\u5176\u8fdb\u884c\u914d\u7f6e\u3002</p>"},{"location":"webrtc/forcurious/008.html#_3","title":"\u5e7f\u64ad","text":"<p>\u8bb8\u591a\u4f7f\u7528 WebRTC \u7684\u65b0\u9879\u76ee\u5f00\u59cb\u51fa\u73b0\u5728\u5e7f\u64ad\u9886\u57df\u4e2d\u3002\u534f\u8bae\u4e3a\u5a92\u4f53\u7684\u53d1\u5e03\u8005\u548c\u6d88\u8d39\u8005\u90fd\u63d0\u4f9b\u4e86\u5f88\u591a\u652f\u6301\u3002</p> <p>\u6d4f\u89c8\u5668\u4e2d\u7684 WebRTC \u4f7f\u5f97\u7528\u6237\u53ef\u4ee5\u8f7b\u677e\u53d1\u5e03\u89c6\u9891\u3002\u8fd9\u6837\u7528\u6237\u4e0d\u9700\u8981\u4e0b\u8f7d\u65b0\u7684\u5ba2\u6237\u7aef\u3002 \u4efb\u4f55\u5177\u6709 Web \u6d4f\u89c8\u5668\u7684\u5e73\u53f0\u90fd\u53ef\u4ee5\u53d1\u5e03\u89c6\u9891\u3002\u53d1\u5e03\u8005\u53ef\u4ee5\u53d1\u9001\u591a\u4e2a\u97f3\u8f68 / \u89c6\u9891\u6d41\uff0c\u5e76\u53ef\u4ee5\u968f\u65f6\u5bf9\u5176\u8fdb\u884c\u4fee\u6539\u6216\u5220\u9664\u3002\u4f20\u7edf\u534f\u8bae\u4e2d\u6bcf\u4e2a\u8fde\u63a5\u53ea\u5141\u8bb8\u4e00\u4e2a\u97f3\u9891\u6216\u4e00\u4e2a\u89c6\u9891\u6d41\uff0c\u4e0e\u4e4b\u76f8\u6bd4\uff0c\u8fd9\u662f\u4e00\u4e2a\u5de8\u5927\u7684\u6539\u8fdb\u3002</p> <p>WebRTC \u4f7f\u5f00\u53d1\u4eba\u5458\u53ef\u4ee5\u66f4\u597d\u5730\u63a7\u5236\u5ef6\u8fdf\u548c\u8d28\u91cf\u4e4b\u95f4\u7684\u6743\u8861\u3002\u5982\u679c\u4e0d\u5141\u8bb8\u5ef6\u8fdf\u8d85\u8fc7\u7279\u5b9a\u9608\u503c\u66f4\u91cd\u8981\uff0c\u90a3\u4e48\u4e3a\u6b64\u4f60\u53ef\u80fd\u613f\u610f\u5bb9\u5fcd\u5bf9\u89e3\u7801\u8d28\u91cf\u505a\u4e00\u4e9b\u8ba9\u6b65\u3002\u4f60\u4e5f\u53ef\u4ee5\u5c06\u64ad\u653e\u5668\u914d\u7f6e\u4e3a\u5728\u5a92\u4f53\u5230\u8fbe\u65f6\u7acb\u5373\u64ad\u653e\u3002\u5982\u679c\u662f\u4f7f\u7528\u5728 TCP \u4e4b\u4e0a\u7684\u5176\u4ed6\u534f\u8bae\uff0c\u8981\u5b8c\u6210\u8fd9\u4e00\u70b9\u5e76\u4e0d\u662f\u90a3\u4e48\u5bb9\u6613\u3002\u4f46\u5728\u6d4f\u89c8\u5668\u4e2d\uff0c\u4f60\u53ea\u9700\u8981\u8bf7\u6c42\u6570\u636e\uff0c\u5c31\u8fd9\u4e48\u7b80\u5355\u3002</p>"},{"location":"webrtc/forcurious/008.html#_4","title":"\u8fdc\u7a0b\u8bbf\u95ee","text":"<p>\u8fdc\u7a0b\u8bbf\u95ee\u662f\u5f53\u4f60\u901a\u8fc7 WebRTC \u8bbf\u95ee\u8fdc\u7aef\u7684\u53e6\u4e00\u53f0\u8ba1\u7b97\u673a\u3002\u4f60\u53ef\u4ee5\u5b8c\u5168\u63a7\u5236\u8fdc\u7a0b\u4e3b\u673a\uff0c\u4e5f\u53ef\u4ee5\u53ea\u63a7\u5236\u4e00\u4e2a\u5e94\u7528\u7a0b\u5e8f\u3002\u5f53\u672c\u5730\u786c\u4ef6\u65e0\u6cd5\u6267\u884c\u7e41\u91cd\u7684\u8ba1\u7b97\u4efb\u52a1\u65f6\uff0c\u8fd9\u975e\u5e38\u6709\u7528\u3002\u4f8b\u5982\uff0c\u8fd0\u884c\u65b0\u7684\u89c6\u9891\u6e38\u620f\u6216 CAD \u8f6f\u4ef6\u3002WebRTC \u80fd\u591f\u901a\u8fc7\u4e0b\u9762\u4e09\u79cd\u65b9\u5f0f\u5f7b\u5e95\u6539\u53d8\u5bf9\u7269\u7406\u7a7a\u95f4\u7684\u9700\u6c42\u3002</p> <p>WebRTC \u53ef\u7528\u4e8e\u8fdc\u7a0b\u8bbf\u95ee\u90a3\u4e9b\u65e0\u6cd5\u76f4\u63a5\u8def\u7531\u7684\u4e3b\u673a\u3002\u4f7f\u7528 NAT \u904d\u5386\uff0c\u4f60\u53ef\u4ee5\u8bbf\u95ee\u4ec5\u901a\u8fc7 STUN \u53ef\u7528\u7684\u8ba1\u7b97\u673a\u3002\u8fd9\u5bf9\u4e8e\u5b89\u5168\u6027\u548c\u9690\u79c1\u6027\u975e\u5e38\u6709\u7528\u3002\u4f60\u7684\u7528\u6237\u4e0d\u5fc5\u901a\u8fc7\u4e2d\u8f6c\u6216\u6240\u8c13 \" \u8df3\u8f6c\u76d2 \" \u6765\u8def\u7531\u89c6\u9891\u3002NAT \u904d\u5386\u8fd8\u4f7f\u5f97\u90e8\u7f72\u66f4\u52a0\u5bb9\u6613\u3002\u4f60\u4e0d\u5fc5\u62c5\u5fc3\u7aef\u53e3\u8f6c\u53d1\u95ee\u9898\u6216\u63d0\u524d\u8bbe\u7f6e\u9759\u6001 IP\u3002</p> <p>\u5728\u8fd9\u79cd\u573a\u666f\u4e0b\uff0c\u6570\u636e\u901a\u9053\u4e5f\u975e\u5e38\u5f3a\u5927\u3002\u53ef\u4ee5\u5bf9\u5b83\u4eec\u8fdb\u884c\u914d\u7f6e\uff0c\u4ee5\u4fbf\u4ec5\u63a5\u53d7\u6700\u65b0\u6570\u636e\u3002\u4f7f\u7528 TCP \u8fd0\u884c\u65f6\uff0c\u53ef\u80fd\u4f1a\u9047\u5230\u961f\u5934\u963b\u585e\u7684\u98ce\u9669\u3002\u65e7\u5f0f\u7684\u9f20\u6807\u70b9\u51fb\u6216\u6309\u952e\u53ef\u80fd\u4f1a\u8fdf\u5230\uff0c\u5e76\u963b\u6b62\u540e\u7eed\u7684\u9f20\u6807\u88ab\u63a5\u53d7\u3002 WebRTC \u7684\u6570\u636e\u901a\u9053\u7684\u8bbe\u8ba1\u53ef\u4ee5\u5904\u7406\u6b64\u95ee\u9898\uff0c\u5e76\u4e14\u53ef\u4ee5\u914d\u7f6e\u4e3a\u4e0d\u91cd\u8bd5\u4e22\u5931\u7684\u6570\u636e\u5305\u3002\u4f60\u8fd8\u53ef\u4ee5\u6d4b\u91cf\u80cc\u538b\uff0c\u5e76\u786e\u4fdd\u4f60\u4e0d\u4f1a\u53d1\u9001\u66f4\u591a\u7684\u6570\u636e\u4ee5\u81f3\u4e8e\u7f51\u7edc\u65e0\u6cd5\u652f\u6301\u3002</p> <p>\u6d4f\u89c8\u5668\u4e2d\u63d0\u4f9b\u7684 WebRTC \u6781\u5927\u5730\u6539\u5584\u4e86\u751f\u6d3b\u8d28\u91cf\u3002\u4f60\u65e0\u9700\u4e0b\u8f7d\u4e13\u6709\u5ba2\u6237\u7aef\u5373\u53ef\u5f00\u59cb\u4f1a\u8bdd\u3002\u6346\u7ed1\u4e86 WebRTC \u7684\u5ba2\u6237\u7aef\u8d8a\u6765\u8d8a\u591a\uff0c\u667a\u80fd\u7535\u89c6\u73b0\u5728\u4e5f\u5f00\u59cb\u62e5\u6709\u4e86\u5b8c\u6574\u7684 Web \u6d4f\u89c8\u5668\u3002</p>"},{"location":"webrtc/forcurious/008.html#_5","title":"\u6587\u4ef6\u5171\u4eab\u548c\u5ba1\u67e5\u5236\u5ea6","text":"<p>\u6587\u4ef6\u5171\u4eab\u548c\u5ba1\u67e5\u89c4\u907f\u662f\u622a\u7136\u4e0d\u540c\u7684\u95ee\u9898\u3002\u7136\u800c\uff0cWebRTC \u540c\u65f6\u89e3\u51b3\u4e86\u4ed6\u4eec\u4e24\u8005\u7684\u76f8\u540c\u95ee\u9898\u3002\u5b83\u4f7f\u5f97\u6587\u4ef6\u65e2\u5bb9\u6613\u83b7\u5f97\u53c8\u66f4\u96be\u4ee5\u963b\u6b62\u3002</p> <p>WebRTC \u89e3\u51b3\u7684\u7b2c\u4e00\u4e2a\u95ee\u9898\u662f\u5ba2\u6237\u7aef\u7684\u83b7\u53d6\u3002\u5982\u679c\u8981\u52a0\u5165\u6587\u4ef6\u5171\u4eab\u7f51\u7edc\uff0c\u9700\u8981\u4e0b\u8f7d\u5ba2\u6237\u7aef\u3002\u5373\u4f7f\u7f51\u7edc\u662f\u5206\u5e03\u5f0f\u7684\uff0c\u4f60\u4ecd\u7136\u9700\u8981\u9996\u5148\u83b7\u5f97\u5ba2\u6237\u7aef\u3002\u5728\u53d7\u9650\u5236\u7684\u7f51\u7edc\u4e2d\uff0c\u4e0b\u8f7d\u901a\u5e38\u4f1a\u88ab\u963b\u6b62\u3002\u5373\u4f7f\u4f60\u53ef\u4ee5\u4e0b\u8f7d\u5b83\uff0c\u7528\u6237\u4e5f\u53ef\u80fd\u65e0\u6cd5\u5b89\u88c5\u548c\u8fd0\u884c\u5ba2\u6237\u7aef\u3002\u800c WebRTC \u5728\u6bcf\u4e2a Web \u6d4f\u89c8\u5668\u4e2d\u90fd\u53ef\u7528\uff0c\u8fd9\u70b9\u4f7f\u5f97\u5b83\u65e0\u5904\u4e0d\u5728\u3002</p> <p>WebRTC \u89e3\u51b3\u7684\u7b2c\u4e8c\u4e2a\u95ee\u9898\u662f\u6d41\u91cf\u88ab\u963b\u6b62\u7684\u60c5\u51b5\u3002\u5982\u679c\u4f60\u4f7f\u7528\u7684\u534f\u8bae\u4ec5\u7528\u4e8e\u6587\u4ef6\u5171\u4eab\u6216\u5ba1\u67e5\u5236\u5ea6\uff0c\u90a3\u4e48\u963b\u6b62\u5b83\u4f1a\u5bb9\u6613\u5f97\u591a\u3002\u7531\u4e8e WebRTC \u662f\u901a\u7528\u534f\u8bae\uff0c\u963b\u6b62\u5b83\u5c06\u5f71\u54cd\u6240\u6709\u4eba\u3002\u963b\u6b62 WebRTC \u53ef\u80fd\u4f1a\u5f71\u54cd\u7f51\u7edc\u4e2d\u7684\u5176\u4ed6\u7528\u6237\u52a0\u5165\u7535\u8bdd\u4f1a\u8bae\u3002</p>"},{"location":"webrtc/forcurious/008.html#iot","title":"\u7269\u8054\u7f51\uff08IoT\uff09","text":"<p>\u7269\u8054\u7f51\uff08IoT\uff09\u90e8\u5206\u6db5\u76d6\u4e86\u51e0\u79cd\u4e0d\u540c\u7684\u7528\u4f8b\u3002\u8bb8\u591a\u4eba\u90fd\u89c1\u8fc7\u7f51\u7edc\u8fde\u63a5\u7684\u5b89\u9632\u6444\u50cf\u5934\u3002\u4f7f\u7528 WebRTC\uff0c\u4f60\u53ef\u4ee5\u5c06\u89c6\u9891\u6d41\u5f0f\u5730\u4f20\u8f93\u5230\u53e6\u4e00\u4e2a WebRTC \u5bf9\u7b49\u8bbe\u5907\uff0c\u4f8b\u5982\u7535\u8bdd\u6216\u6d4f\u89c8\u5668\u3002\u53e6\u4e00\u4e2a\u7528\u4f8b\u662f\u8ba9\u8bbe\u5907\u8fde\u63a5\u5e76\u4ea4\u6362\u4f20\u611f\u5668\u6570\u636e\u3002\u4f60\u7684\u5c40\u57df\u7f51\u4e2d\u53ef\u4ee5\u6709\u4e24\u4e2a\u8bbe\u5907\uff0c\u4e92\u76f8\u4ea4\u6362\u5929\u6c14\uff0c\u566a\u97f3\u6216\u660e\u4eae\u5ea6\u7684\u8bfb\u6570\u3002</p> <p>\u4e0e\u4f20\u7edf\u7684\u89c6\u9891\u6d41\u534f\u8bae\u76f8\u6bd4\uff0cWebRTC \u5177\u6709\u5de8\u5927\u7684\u9690\u79c1\u4f18\u52bf\u3002\u7531\u4e8e WebRTC \u652f\u6301 P2P \u8fde\u63a5\uff0c\u56e0\u6b64\u6444\u50cf\u5934\u53ef\u4ee5\u5c06\u89c6\u9891\u76f4\u63a5\u53d1\u9001\u5230\u4f60\u7684\u6d4f\u89c8\u5668\u3002\u6ca1\u6709\u5fc5\u8981\u5c06\u4f60\u7684\u89c6\u9891\u53d1\u9001\u5230\u7b2c\u4e09\u65b9\u670d\u52a1\u5668\u3002\u5373\u4f7f\u89c6\u9891\u662f\u7ecf\u8fc7\u52a0\u5bc6\u7684\uff0c\u653b\u51fb\u8005\u4e5f\u53ef\u4ee5\u6839\u636e\u901a\u8bdd\u7684\u5143\u6570\u636e\u505a\u51fa\u4e00\u4e9b\u731c\u6d4b\u3002</p> <p>\u4e92\u64cd\u4f5c\u6027\u662f\u7269\u8054\u7f51\u9886\u57df\u7684\u53e6\u4e00\u4e2a\u4f18\u52bf\u3002WebRTC \u652f\u6301\u591a\u79cd\u4e0d\u540c\u7684\u8bed\u8a00\uff0c\u5305\u62ec C\uff03\uff0cC ++\uff0cC\uff0cGo\uff0cJava\uff0cPython\uff0cRust \u548c TypeScript\u3002\u8fd9\u610f\u5473\u7740\u4f60\u53ef\u4ee5\u4f7f\u7528\u6700\u9002\u5408\u4f60\u7684\u8bed\u8a00\u3002\u800c\u4e14\u4f60\u65e0\u9700\u6c42\u52a9\u4e8e\u4e13\u6709\u534f\u8bae\u6216\u683c\u5f0f\u5c31\u53ef\u4ee5\u8fde\u63a5\u4f60\u7684\u5ba2\u6237\u7aef\u3002</p>"},{"location":"webrtc/forcurious/008.html#_6","title":"\u5a92\u4f53\u534f\u8bae\u6865\u63a5","text":"<p>\u5982\u679c\u4f60\u73b0\u6709\u7684\u786c\u4ef6\u548c\u8f6f\u4ef6\u5df2\u7ecf\u5728\u4ea7\u751f\u89c6\u9891\uff0c\u4f46\u662f\u4f60\u8fd8\u4e0d\u80fd\u5bf9\u5176\u8fdb\u884c\u5347\u7ea7\u3002\u671f\u671b\u7528\u6237\u4e0b\u8f7d\u4e13\u6709\u5ba2\u6237\u7aef\u6765\u89c2\u770b\u89c6\u9891\u662f\u4e00\u4ef6\u4ee4\u4eba\u6cae\u4e27\u7684\u4e8b\u3002\u89e3\u51b3\u95ee\u9898\u7684\u7b54\u6848\u662f\u8fd0\u884c\u4e00\u4e2a WebRTC \u6865\u63a5\u5668\u3002\u6865\u63a5\u5668\u5728\u4e24\u79cd\u534f\u8bae\u4e4b\u95f4\u8fdb\u884c\u8f6c\u6362\uff0c\u56e0\u6b64\u7528\u6237\u53ef\u4ee5\u5728\u6d4f\u89c8\u5668\u4e2d\u4f7f\u7528\u65e7\u7684\u8bbe\u7f6e\u3002</p> <p>\u5f00\u53d1\u4eba\u5458\u6865\u63a5\u4f7f\u7528\u7684\u8bb8\u591a\u683c\u5f0f\u90fd\u4f7f\u7528\u4e0e WebRTC \u4e00\u81f4\u7684\u534f\u8bae\u3002SIP \u901a\u5e38\u901a\u8fc7 WebRTC \u66b4\u9732\u63a5\u53e3\uff0c\u5e76\u5141\u8bb8\u7528\u6237\u4ece\u5176\u6d4f\u89c8\u5668\u62e8\u6253\u7535\u8bdd\u3002RTSP \u7528\u4e8e\u8bb8\u591a\u65e7\u5f0f\u5b89\u4fdd\u6444\u50cf\u5934\u3002\u5b83\u4eec\u90fd\u4f7f\u7528\u76f8\u540c\u7684\u57fa\u7840\u534f\u8bae\uff08RTP \u548c SDP\uff09\uff0c\u56e0\u6b64\u5176\u8ba1\u7b97\u6210\u672c\u5f88\u4f4e\u3002\u53ea\u9700\u8981\u6dfb\u52a0\u6216\u5220\u9664 WebRTC \u7279\u5b9a\u7684\u5185\u5bb9\u5373\u53ef\u5b8c\u6210\u6865\u63a5\u5de5\u4f5c\u3002</p>"},{"location":"webrtc/forcurious/008.html#_7","title":"\u6570\u636e\u534f\u8bae\u6865\u63a5","text":"<p>Web \u6d4f\u89c8\u5668\u53ea\u80fd\u901a\u8fc7\u4e00\u7ec4\u53d7\u9650\u5236\u7684\u534f\u8bae\u901a\u4fe1\u3002\u4f60\u53ef\u4ee5\u4f7f\u7528 HTTP\uff0cWebSockets\uff0cWebRTC \u548c QUIC\u3002\u5982\u679c\u8981\u8fde\u63a5\u5230\u5176\u4ed6\u8bbe\u5907\uff0c\u4f60\u9700\u8981\u4f7f\u7528\u534f\u8bae\u6865\u3002\u534f\u8bae\u6865\u662f\u5c06\u5916\u90e8\u6d41\u91cf\u8f6c\u6362\u4e3a\u6d4f\u89c8\u5668\u53ef\u8bbf\u95ee\u5185\u5bb9\u7684\u670d\u52a1\u5668\u3002\u4e00\u4e2a\u6d41\u884c\u7684\u793a\u4f8b\u662f\u4ece\u6d4f\u89c8\u5668\u4f7f\u7528 SSH \u8bbf\u95ee\u670d\u52a1\u5668\u3002\u4f7f\u7528 WebRTC \u7684\u6570\u636e\u901a\u9053\u6784\u5efa\u534f\u8bae\u6865\u7684\u8bdd\uff0c\u5177\u6709\u4e0b\u9762\u4e24\u4e2a\u4f18\u52bf\u3002</p> <p>WebRTC \u7684\u6570\u636e\u901a\u9053\u5141\u8bb8\u4e0d\u53ef\u9760\u4e14\u65e0\u5e8f\u7684\u4ea4\u4ed8\u3002\u8fd9\u5728\u4f4e\u5ef6\u8fdf\u81f3\u5173\u91cd\u8981\u7684\u60c5\u51b5\u4e0b\u662f\u5fc5\u9700\u7684\u3002\u4f60\u4e0d\u4f1a\u5e0c\u671b\u65b0\u6570\u636e\u88ab\u65e7\u6570\u636e\u963b\u6321\uff0c\u8fd9\u5c31\u662f\u6240\u8c13\u7684\u961f\u5934\u963b\u585e\u3002\u5047\u8bbe\u4f60\u6b63\u5728\u73a9\u591a\u4eba\u53c2\u4e0e\u7684\u7b2c\u4e00\u4eba\u79f0\u5c04\u51fb\u6e38\u620f\u3002\u4f60\u771f\u7684\u5728\u4e4e\u73a9\u5bb6\u5728\u4e24\u79d2\u949f\u524d\u7684\u4f4d\u7f6e\u5417\uff1f\u5982\u679c\u8fd9\u4e9b\u6570\u636e\u6ca1\u6709\u53ca\u65f6\u5230\u8fbe\uff0c\u90a3\u4e48\u7ee7\u7eed\u5c1d\u8bd5\u53d1\u9001\u5c31\u6ca1\u6709\u610f\u4e49\u4e86\u3002\u4e0d\u53ef\u9760\u548c\u65e0\u5e8f\u7684\u4f20\u9001\u4f7f\u4f60\u5728\u4e00\u6536\u5230\u6570\u636e\u65f6\u5c31\u53ef\u4ee5\u7acb\u5373\u5f97\u5230\u5b83\u3002</p> <p>\u6570\u636e\u901a\u9053\u8fd8\u63d0\u4f9b\u538b\u529b\u53cd\u9988\u3002\u8fd9\u53ef\u4ee5\u544a\u8bc9\u4f60\u53d1\u9001\u6570\u636e\u7684\u901f\u5ea6\u662f\u5426\u8d85\u8fc7\u4e86\u8fde\u63a5\u6240\u80fd\u652f\u6301\u7684\u901f\u5ea6\u3002\u7136\u540e\uff0c\u5f53\u8fd9\u79cd\u60c5\u51b5\u53d1\u751f\u65f6\uff0c\u6709\u4e24\u4e2a\u9009\u62e9\u3002\u53ef\u4ee5\u5c06\u6570\u636e\u901a\u9053\u914d\u7f6e\u4e3a\u7f13\u51b2\u5e76\u5ef6\u8fdf\u4f20\u9001\u6570\u636e\uff0c\u4e5f\u53ef\u4ee5\u5220\u9664\u5c1a\u672a\u5b9e\u65f6\u5230\u8fbe\u7684\u6570\u636e\u3002</p>"},{"location":"webrtc/forcurious/008.html#_8","title":"\u8fdc\u7a0b\u64cd\u4f5c","text":"<p>\u8fdc\u7a0b\u64cd\u4f5c\u662f\u6307\u901a\u8fc7 WebRTC \u6570\u636e\u901a\u9053\u63a7\u5236\u8fdc\u7aef\u8bbe\u5907\uff0c\u5e76\u901a\u8fc7 RTP \u5c06\u89c6\u9891\u6570\u636e\u53d1\u9001\u56de\u6765\u3002\u73b0\u5728\u7684\u5f00\u53d1\u4eba\u5458\u5df2\u7ecf\u53ef\u4ee5\u901a\u8fc7 WebRTC \u8fdc\u7a0b\u9a7e\u9a76\u6c7d\u8f66\u4e86\uff01\u8fd9\u79cd\u6280\u672f\u53ef\u4ee5\u7528\u6765\u63a7\u5236\u65bd\u5de5\u73b0\u573a\u548c\u8fd0\u9001\u5305\u88f9\u7684\u673a\u5668\u4eba\u3002\u4f7f\u7528 WebRTC \u89e3\u51b3\u8fd9\u4e9b\u95ee\u9898\u5f88\u6709\u610f\u4e49\uff0c\u539f\u56e0\u6709\u4e24\u4e2a\u3002</p> <p>WebRTC \u7684\u666e\u53ca\u4f7f\u7528\u6237\u53ef\u4ee5\u8f7b\u677e\u63a7\u5236\u3002\u7528\u6237\u6240\u9700\u7684\u53ea\u662f\u4e00\u4e2a Web \u6d4f\u89c8\u5668\u548c\u4e00\u4e2a\u8f93\u5165\u8bbe\u5907\u3002\u6d4f\u89c8\u5668\u751a\u81f3\u652f\u6301\u4ece\u64cd\u7eb5\u6746\u548c\u6e38\u620f\u624b\u67c4\u83b7\u53d6\u8f93\u5165\u3002WebRTC \u5b8c\u5168\u4e0d\u9700\u8981\u5728\u7528\u6237\u8bbe\u5907\u4e0a\u5b89\u88c5\u5176\u4ed6\u5ba2\u6237\u7aef\u3002</p>"},{"location":"webrtc/forcurious/008.html#cdn","title":"\u5206\u5e03\u5f0f CDN","text":"<p>\u5206\u5e03\u5f0f CDN \u662f\u6587\u4ef6\u5171\u4eab\u7684\u5b50\u96c6\u3002\u5206\u53d1\u7684\u6587\u4ef6\u7531 CDN \u64cd\u4f5c\u5458\u914d\u7f6e\u3002\u5f53\u7528\u6237\u52a0\u5165 CDN \u7f51\u7edc\u65f6\uff0c\u4ed6\u4eec\u53ef\u4ee5\u4e0b\u8f7d\u548c\u5171\u4eab\u5141\u8bb8\u7684\u6587\u4ef6\u3002\u7528\u6237\u83b7\u5f97\u4e0e\u6587\u4ef6\u5171\u4eab\u76f8\u540c\u7684\u6240\u6709\u597d\u5904\u3002</p> <p>\u5f53\u4f60\u5728\u5916\u90e8\u8fde\u63a5\u5f88\u5dee\u4f46 LAN \u8fde\u63a5\u5f88\u597d\u7684\u529e\u516c\u5ba4\u4e2d\u65f6\uff0c\u8fd9\u4e9b CDN \u6548\u679c\u5f88\u597d\u3002\u4f60\u53ef\u4ee5\u8ba9\u4e00\u4e2a\u7528\u6237\u4e0b\u8f7d\u89c6\u9891\uff0c\u7136\u540e\u4e0e\u5176\u4ed6\u4eba\u5171\u4eab\u3002\u7531\u4e8e\u4e0d\u9700\u8981\u6bcf\u4e2a\u4eba\u90fd\u5c1d\u8bd5\u901a\u8fc7\u5916\u90e8\u7f51\u7edc\u83b7\u53d6\u76f8\u540c\u7684\u6587\u4ef6\uff0c\u56e0\u6b64\u4f20\u8f93\u5c06\u66f4\u5feb\u5730\u5b8c\u6210\u3002</p>"},{"location":"webrtc/forcurious/008.html#webrtc_1","title":"WebRTC \u62d3\u6251","text":"<p>WebRTC \u662f\u7528\u4e8e\u8fde\u63a5\u4e24\u4e2a Agent \u7684\u534f\u8bae\uff0c\u90a3\u4e48\u5f00\u53d1\u4eba\u5458\u5982\u4f55\u80fd\u540c\u65f6\u8fde\u63a5\u4e0a\u767e\u4eba\u5462\uff1f\u4f60\u53ef\u4ee5\u901a\u8fc7\u4e0b\u9762\u51e0\u79cd\u4e0d\u540c\u7684\u65b9\u5f0f\u6765\u505a\u5230\u8fd9\u4e00\u70b9\uff0c\u5b83\u4eec\u5404\u6709\u5229\u5f0a\u3002\u8fd9\u4e9b\u89e3\u51b3\u65b9\u6848\u5927\u81f4\u5206\u4e3a\u4e24\u7c7b\uff1b\u70b9\u5bf9\u70b9\u6216\u5ba2\u6237\u7aef / \u670d\u52a1\u5668\u3002WebRTC \u7684\u7075\u6d3b\u6027\u4f7f\u6211\u4eec\u80fd\u591f\u540c\u65f6\u521b\u5efa\u4e24\u8005\u3002</p>"},{"location":"webrtc/forcurious/008.html#_9","title":"\u4e00\u5bf9\u4e00","text":"<p>\u4e00\u5bf9\u4e00\u662f\u4f60\u4f7f\u7528 WebRTC \u7684\u7b2c\u4e00\u79cd\u8fde\u63a5\u65b9\u5f0f\u3002\u5c06\u4e24\u4e2a WebRTC Agent \u76f4\u63a5\u8fde\u63a5\uff0c\u5b83\u4eec\u53ef\u4ee5\u53cc\u5411\u53d1\u9001\u5a92\u4f53\u548c\u6570\u636e\u3002 \u8fde\u63a5\u770b\u8d77\u6765\u50cf\u8fd9\u6837\u3002</p> <p></p>"},{"location":"webrtc/forcurious/008.html#_10","title":"\u5168\u7f51\u683c","text":"<p>\u5982\u679c\u8981\u5efa\u7acb\u7535\u8bdd\u4f1a\u8bae\u6216\u591a\u4eba\u6e38\u620f\uff0c\u90a3\u4e48\u8981\u4f7f\u7528\u5168\u7f51\u683c\u3002\u5728\u8fd9\u79cd\u62d3\u6251\u4e2d\uff0c\u6bcf\u4e00\u4e2a\u7528\u6237\u90fd\u76f4\u63a5\u4e0e\u5176\u4ed6\u5404\u4e2a\u7528\u6237\u5efa\u7acb\u8fde\u63a5\u3002\u4f60\u53ef\u4ee5\u8fd9\u6837\u6784\u5efa\u5e94\u7528\uff0c\u4f46\u662f\u5b83\u6709\u4e00\u4e9b\u7f3a\u70b9\u3002</p> <p>\u5728\u5168\u7f51\u683c\u62d3\u6251\u4e2d\uff0c\u6bcf\u4e2a\u7528\u6237\u90fd\u76f4\u63a5\u8fde\u63a5\uff08\u5230\u5176\u4ed6\u7528\u6237\uff09\u3002\u8fd9\u610f\u5473\u7740\u4f60\u5fc5\u987b\u4e3a\u53c2\u4e0e\u901a\u8bdd\u7684\u6bcf\u4e2a\u6210\u5458\u72ec\u7acb\u7f16\u7801\u548c\u4e0a\u4f20\u89c6\u9891\u3002 \u7531\u4e8e\u5404\u4e2a\u8fde\u63a5\u7684\u7f51\u7edc\u6761\u4ef6\u4f1a\u6709\u6240\u4e0d\u540c\uff0c\u56e0\u6b64\u4f60\u65e0\u6cd5\u91cd\u7528\u540c\u4e00\u89c6\u9891\u3002\u5728\u8fd9\u4e9b\u90e8\u7f72\u4e2d\uff0c\u9519\u8bef\u5904\u7406\u4e5f\u5f88\u56f0\u96be\u3002\u4f60\u9700\u8981\u4ed4\u7ec6\u8003\u8651\u8fde\u63a5\u662f\u4e0d\u662f\u5df2\u7ecf\u5f7b\u5e95\u65ad\u5f00\u4e86\uff0c\u8fd8\u662f\u53ea\u662f\u4e22\u6389\u4e86\u4e0e\u5355\u4e2a\u8fdc\u7aef peer \u7684\u8fde\u63a5\u3002</p> <p>\u7531\u4e8e\u8fd9\u4e9b\u95ee\u9898\uff0c\u5168\u7f51\u683c\u6700\u597d\u7528\u4e8e\u5c0f\u578b\u7fa4\u7ec4\u3002\u5bf9\u4e8e\u66f4\u5927\u7684\u7fa4\u7ec4\uff0c\u6700\u597d\u8fd8\u662f\u4f7f\u7528\u5ba2\u6237\u7aef / \u670d\u52a1\u5668\u62d3\u6251\u3002</p> <p></p>"},{"location":"webrtc/forcurious/008.html#_11","title":"\u6df7\u5408\u7f51\u683c","text":"<p>\u6df7\u5408\u7f51\u683c\u662f\u5168\u7f51\u683c\u7684\u66ff\u4ee3\u65b9\u6848\uff0c\u53ef\u4ee5\u51cf\u8f7b\u5168\u7f51\u683c\u7684\u67d0\u4e9b\u95ee\u9898\u3002\u5728\u6df7\u5408\u7f51\u683c\u4e2d\uff0c\u5e76\u4e0d\u662f\u6240\u6709\u6bcf\u4e2a\u7528\u6237\u4e4b\u95f4\u90fd\u5efa\u7acb\u8fde\u63a5\u3002\u4f5c\u4e3a\u66ff\u4ee3\uff0c\u5a92\u4f53\u662f\u901a\u8fc7\u7f51\u7edc\u4e2d\u7684 peer \u8f6c\u53d1\u7684\u3002\u8fd9\u610f\u5473\u7740\u5206\u53d1\u5a92\u4f53\u65f6\uff0c\u521b\u5efa\u8005\u53ef\u4ee5\u4e0d\u5fc5\u4f7f\u7528\u90a3\u4e48\u591a\u7684\u5e26\u5bbd\u3002</p> <p>\u8fd9\u79cd\u65b9\u6848\u786e\u5b9e\u4e5f\u6709\u4e00\u4e9b\u7f3a\u70b9\u3002\u5728\u8fd9\u79cd\u914d\u7f6e\u4e0b\uff0c\u5c31\u7b97\u662f\u5a92\u4f53\u6700\u521d\u7684\u521b\u5efa\u8005\u4e5f\u4e0d\u77e5\u9053\u89c6\u9891\u662f\u8c01\u53d1\u9001\u7684\uff0c\u4e5f\u4e0d\u77e5\u9053\u89c6\u9891\u662f\u5426\u6210\u529f\u7684\u5230\u8fbe\u4e86\u76ee\u6807\u3002\u5728\u6df7\u5408\u7f51\u683c\u7f51\u7edc\u4e2d\uff0c\u6bcf\u589e\u52a0\u4e00\u8df3\uff0c\u5ef6\u8fdf\u4e5f\u4f1a\u76f8\u5e94\u5730\u589e\u52a0\u3002</p> <p></p>"},{"location":"webrtc/forcurious/008.html#selective-forwarding-unit","title":"\u9009\u62e9\u6027\u8f6c\u53d1\u5355\u5143\uff08Selective Forwarding Unit\uff09","text":"<p>SFU\uff08\u9009\u62e9\u6027\u8f6c\u53d1\u5355\u5143\uff09\u540c\u6837\u89e3\u51b3\u4e86\u5168\u7f51\u683c\u7f51\u7edc\u7684\u95ee\u9898\uff0c\u4f46\u5b83\u4f7f\u7528\u4e86\u4e00\u79cd\u5b8c\u5168\u4e0d\u540c\u7684\u65b9\u6848\u3002SFU \u4ee5\u5ba2\u6237\u7aef / \u670d\u52a1\u5668\u62d3\u6251\u5b9e\u73b0\uff0c\u800c\u4e0d\u662f P2P \u7f51\u7edc\u3002 \u6bcf\u4e2a WebRTC peer \u90fd\u8fde\u63a5\u5230 SFU \u5e76\u4e0a\u4f20\u5176\u5a92\u4f53\u3002\u7136\u540e\uff0cSFU \u5c06\u6b64\u5a92\u4f53\u8f6c\u53d1\u5230\u5176\u4ed6\u6bcf\u4e2a\u8fde\u63a5\u7684\u5ba2\u6237\u7aef\u3002</p> <p>\u4f7f\u7528 SFU\uff0c\u6bcf\u4e2a WebRTC Agent \u53ea\u9700\u8981\u6267\u884c\u4e00\u6b21\u89c6\u9891\u7684\u7f16\u7801\u548c\u4e0a\u4f20\u3002SFU \u8d1f\u8d23\u5c06\u89c6\u9891\u5206\u53d1\u7ed9\u6240\u6709\u89c2\u770b\u8005\u3002 \u4e0e SFU \u7684\u8fde\u63a5\u4e5f\u6bd4 P2P \u65b9\u5f0f\u5bb9\u6613\u5f97\u591a\u3002\u4f60\u53ef\u4ee5\u8ba9 SFU \u8fd0\u884c\u4e8e\u4e00\u4e2a\u5168\u4e16\u754c\u90fd\u53ef\u4ee5\u8bbf\u95ee\u7684\u5730\u5740\u4e0a\uff0c\u4ece\u800c\u4f7f\u5f97\u5ba2\u6237\u7aef\u8fde\u63a5\u66f4\u52a0\u5bb9\u6613\u3002 \u4f60\u65e0\u9700\u62c5\u5fc3 NAT \u6620\u5c04\u3002\u4f46\u4f60\u4ecd\u7136\u9700\u8981\u786e\u4fdd SFU \u662f\u53ef\u4ee5\u901a\u8fc7 TCP\uff08ICE-TCP \u6216 TURN\uff09\u4f7f\u7528\u7684\u3002</p> <p>\u8981\u521b\u5efa\u4e00\u4e2a\u7b80\u5355\u7684 SFU\uff0c\u4e00\u4e2a\u5468\u672b\u5c31\u53ef\u4ee5\u5b8c\u6210\u3002\u4f46\u5efa\u7acb\u4e00\u4e2a\u53ef\u4ee5\u5904\u7406\u6240\u6709\u7c7b\u578b\u5ba2\u6237\u7684\u9ad8\u8d28\u91cf SFU\uff0c\u662f\u6c38\u65e0\u6b62\u5883\u7684\u3002\u56e0\u4e3a\uff0c\u62e5\u585e\u63a7\u5236\u8c03\u4f18\u3001\u7ea0\u9519\u548c\u63d0\u9ad8\u6027\u80fd\uff0c\u662f\u4e00\u9879\u6c38\u65e0\u6b62\u5883\u7684\u4efb\u52a1\u3002</p> <p></p>"},{"location":"webrtc/forcurious/008.html#multi-point-conferencing-unit","title":"\u591a\u70b9\u4f1a\u8bae\u5355\u5143\uff08Multi-point Conferencing Unit\uff09","text":"<p>MCU\uff08\u591a\u70b9\u4f1a\u8bae\u5355\u5143\uff09\u4e0e SFU \u7684\u5ba2\u6237\u7aef / \u670d\u52a1\u5668\u62d3\u6251\u7c7b\u4f3c\uff0c\u4f46\u5b83\u4f1a\u5bf9\u8f93\u51fa\u6d41\u8fdb\u884c\u7ec4\u5408\u3002MCU \u5c06\u8981\u51fa\u7ad9\u7684\u5a92\u4f53\u91cd\u65b0\u7f16\u7801\u4e3a\u4e00\u4e2a\u805a\u5408\u6d41\uff0c\u800c\u4e0d\u662f\u76f4\u63a5\u5206\u53d1\u672a\u7ecf\u4fee\u6539\u7684\u7248\u672c\u3002 </p>"},{"location":"webrtc/forcurious/009.html","title":"\u8c03\u8bd5","text":"<p>\u8c03\u8bd5 WebRTC \u53ef\u80fd\u662f\u4e00\u9879\u8270\u5de8\u7684\u4efb\u52a1\u3002\u6709\u5f88\u591a\u90e8\u5206\u90fd\u5904\u4e8e\u8fd0\u884c\u72b6\u6001\uff0c\u6bcf\u4e00\u4e2a\u90e8\u5206\u90fd\u53ef\u80fd\u51fa\u73b0\u95ee\u9898\u3002\u5982\u679c\u4f60\u4e0d\u591f\u7ec6\u5fc3\uff0c\u53ef\u80fd\u4f1a\u6d6a\u8d39\u6570\u5468\u7684\u65f6\u95f4\u6765\u67e5\u770b\u9519\u8bef\u7684\u6a21\u5757\u3002\u5f53\u4f60\u6700\u7ec8\u627e\u5230\u51fa\u9519\u7684\u90e8\u5206\u65f6\uff0c\u4f60\u8fd8\u9700\u8981\u5b66\u4e60\u4e00\u4e9b\u77e5\u8bc6\u624d\u80fd\u7406\u89e3\u95ee\u9898\u7684\u6839\u6e90\u3002</p> <p>\u672c\u7ae0\u5c06\u5e26\u4f60\u5b66\u4e60 WebRTC \u7684\u8c03\u8bd5\u3002\u5b83\u5c06\u5411\u4f60\u5c55\u793a\u5982\u4f55\u5206\u6790\u5e76\u5b9a\u4f4d\u76f8\u5173\u95ee\u9898\u3002\u786e\u5b9a\u95ee\u9898\u540e\uff0c\u6211\u4eec\u5c06\u5feb\u901f\u4ecb\u7ecd\u4e00\u4e0b\u6d41\u884c\u7684\u8c03\u8bd5\u5de5\u5177\u3002</p>"},{"location":"webrtc/forcurious/009.html#_2","title":"\u5206\u89e3\u95ee\u9898","text":"<p>\u5f00\u59cb\u8c03\u8bd5\u65f6\uff0c\u4f60\u9700\u8981\u5148\u5206\u89e3\u95ee\u9898\u7684\u6e90\u5934\u3002\u4ece\u4ee5\u4e0b\u9898\u76ee\u5f00\u59cb\uff1a</p>"},{"location":"webrtc/forcurious/009.html#_3","title":"\u4fe1\u4ee4\u6545\u969c","text":""},{"location":"webrtc/forcurious/009.html#_4","title":"\u7f51\u7edc\u6545\u969c","text":"<p>\u4f7f\u7528 netcat \u6d4b\u8bd5\u4f60\u7684 STUN \u670d\u52a1\u5668\uff1a</p> <ol> <li> <p>\u51c6\u5907 20 \u5b57\u8282\u7684\u7ed1\u5b9a\u8bf7\u6c42\u6570\u636e\u5305\uff1a</p> <pre><code>echo -ne \"\\x00\\x01\\x00\\x00\\x21\\x12\\xA4\\x42TESTTESTTEST\" | hexdump -C\n00000000  00 01 00 00 21 12 a4 42  54 45 53 54 54 45 53 54  |....!..BTESTTEST|\n00000010  54 45 53 54                                       |TEST|\n00000014\n</code></pre> <p>\u89e3\u91ca\uff1a - <code>00 01</code> \u662f\u6d88\u606f\u7c7b\u578b\u3002 - <code>00 00</code> \u662f\u6570\u636e\u6bb5\u7684\u957f\u5ea6\u3002 - <code>21 12 a4 42</code> \u662f magic cookie\u3002 - <code>54 45 53 54 54 45 53 54 54 45 53 54</code> \uff08\u89e3\u7801\u6210 ASCII \u5c31\u662f <code>TESTTESTTEST</code>\uff09 \u662f 12 \u5b57\u8282\u7684 transaction ID\u3002</p> </li> <li> <p>\u53d1\u9001\u8bf7\u6c42\u5e76\u7b49\u5f85 32 \u5b57\u8282\u7684\u54cd\u5e94\uff1a</p> <pre><code>stunserver=stun1.l.google.com;stunport=19302;listenport=20000;echo -ne \"\\x00\\x01\\x00\\x00\\x21\\x12\\xA4\\x42TESTTESTTEST\" | nc -u -p $listenport $stunserver $stunport -w 1 | hexdump -C\n00000000  01 01 00 0c 21 12 a4 42  54 45 53 54 54 45 53 54  |....!..BTESTTEST|\n00000010  54 45 53 54 00 20 00 08  00 01 6f 32 7f 36 de 89  |TEST. ....o2.6..|\n00000020\n</code></pre> <p>\u89e3\u91ca\uff1a - <code>01 01</code> \u662f\u6d88\u606f\u7c7b\u578b\u3002 - <code>00 0c</code> \u662f\u6570\u636e\u6bb5\u7684\u957f\u5ea6\uff0c\u89e3\u7801\u540e\u662f\u5341\u8fdb\u5236\u7684 12\u3002 - <code>21 12 a4 42</code> \u662f magic cookie\u3002 - <code>54 45 53 54 54 45 53 54 54 45 53 54</code> \uff08\u89e3\u7801\u6210 ASCII \u5c31\u662f <code>TESTTESTTEST</code>\uff09\u662f 12 \u5b57\u8282\u7684 transaction ID\u3002 - <code>00 20 00 08 00 01 6f 32 7f 36 de 89</code> \u662f 12 \u5b57\u8282\u7684\u6570\u636e\uff0c\u89e3\u91ca\uff1a     - <code>00 20</code> \u662f\u7c7b\u578b\uff1a<code>XOR-MAPPED-ADDRESS</code>\u3002     - <code>00 08</code> \u662f value \u6bb5\u7684\u957f\u5ea6\uff0c\u4ee5\u5341\u8fdb\u5236\u89e3\u7801\u5c31\u662f 8\u3002     - <code>00 01 6f 32 7f 36 de 89</code> \u662f\u6570\u636e\u503c\uff0c\u89e3\u91ca\uff1a         - <code>00 01</code> \u662f\u5730\u5740\u7c7b\u578b\uff08IPv4\uff09\u3002         - <code>6f 32</code> \u662f\u7ecf\u8fc7 XOR \u6620\u5c04\u7684\u7aef\u53e3\u3002         - <code>7f 36 de 89</code> \u662f\u7ecf\u8fc7 XOR \u6620\u5c04\u7684 IP \u5730\u5740\u3002</p> </li> </ol> <p>\u89e3\u7801 XOR \u6620\u5c04\u7684\u90e8\u5206\u5f88\u9ebb\u70e6\uff0c\u4f46\u662f\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u63d0\u4f9b\u8bbe\u7f6e\u4e3a <code>00 00 00 00</code> \u7684\uff08\u65e0\u6548\uff09\u4f2a magic cookie \u6765\u8bf1\u9a97 stun \u670d\u52a1\u5668\u6267\u884c\u4f2a XOR \u6620\u5c04\uff1a</p> <pre><code>stunserver=stun1.l.google.com;stunport=19302;listenport=20000;echo -ne \"\\x00\\x01\\x00\\x00\\x00\\x00\\x00\\x00TESTTESTTEST\" | nc -u -p $listenport $stunserver $stunport -w 1 | hexdump -C\n00000000  01 01 00 0c 00 00 00 00  54 45 53 54 54 45 53 54  |........TESTTEST|\n00000010  54 45 53 54 00 01 00 08  00 01 4e 20 5e 24 7a cb  |TEST......N ^$z.|\n00000020\n</code></pre> <p>\u5bf9\u4f2a magic cookie \u7684 XOR \u8fd0\u7b97\u662f\u5e42\u7b49\u7684\uff0c\u56e0\u6b64\u54cd\u5e94\u4e2d\u7684\u7aef\u53e3\u548c\u5730\u5740\u5c06\u662f\u6e05\u695a\u7684\u3002\u8fd9\u5e76\u975e\u5728\u6240\u6709\u60c5\u51b5\u4e0b\u90fd\u6709\u6548\uff0c\u56e0\u4e3a\u67d0\u4e9b\u8def\u7531\u5668\u4f1a\u64cd\u7eb5\u4f20\u9012\u7684\u6570\u636e\u5305\uff0c\u4f2a\u88c5 IP \u5730\u5740\u3002\u5982\u679c\u6211\u4eec\u67e5\u770b\u8fd4\u56de\u7684\u6570\u636e\u503c\uff08\u6700\u540e\u516b\u4e2a\u5b57\u8282\uff09\uff1a</p> <ul> <li><code>00 01 4e 20 5e 24 7a cb</code> \u662f\u6570\u636e\u503c\uff0c\u89e3\u91ca\uff1a<ul> <li><code>00 01</code> \u662f\u5730\u5740\u7c7b\u578b\uff08IPv4\uff09\u3002</li> <li><code>4e 20</code> \u662f\u6620\u5c04\u7684\u7aef\u53e3\uff0c\u89e3\u7801\u6210\u5341\u8fdb\u5236\u5c31\u662f 20000\u3002</li> <li><code>5e 24 7a cb</code> \u662f IP \u5730\u5740\uff0c\u89e3\u7801\u6210\u70b9\u5206\u5341\u8fdb\u5236\u8868\u793a\u6cd5\u5c31\u662f <code>94.36.122.203</code>\u3002</li> </ul> </li> </ul>"},{"location":"webrtc/forcurious/009.html#_5","title":"\u5b89\u5168\u6545\u969c","text":""},{"location":"webrtc/forcurious/009.html#_6","title":"\u5a92\u4f53\u6545\u969c","text":""},{"location":"webrtc/forcurious/009.html#_7","title":"\u6570\u636e\u6545\u969c","text":""},{"location":"webrtc/forcurious/009.html#_8","title":"\u7528\u5230\u7684\u5de5\u5177","text":""},{"location":"webrtc/forcurious/009.html#netcat-nc","title":"netcat (nc)","text":"<p>netcat \u662f\u7528\u4e8e\u4f7f\u7528 TCP \u6216 UDP \u8bfb\u53d6\u548c\u5199\u5165\u7f51\u7edc\u8fde\u63a5\u7684\u547d\u4ee4\u884c\u7f51\u7edc\u5b9e\u7528\u7a0b\u5e8f\u3002\u901a\u5e38\u5b83\u53ef\u4ee5\u7528 <code>nc</code> \u547d\u4ee4\u6765\u8c03\u7528\u3002</p>"},{"location":"webrtc/forcurious/009.html#tcpdump","title":"tcpdump","text":"<p>tcpdump\u662f\u4e00\u4e2a\u547d\u4ee4\u884c\u6570\u636e\u7f51\u7edc\u6570\u636e\u5305\u5206\u6790\u5668\u3002</p> <p>\u5e38\u7528\u547d\u4ee4\uff1a - \u6355\u83b7\u4e0e\u7aef\u53e3 19302 \u4e4b\u95f4\u7684 UDP \u6570\u636e\u5305\uff0c\u5e76\u6253\u5370\u6570\u636e\u5305\u5185\u5bb9\u7684\u5341\u516d\u8fdb\u5236\u8f6c\u50a8\uff1a</p> <pre><code>`sudo tcpdump 'udp port 19302' -xx`\n</code></pre> <ul> <li> <p>\u4e0e\u4e0a\u4e00\u6761\u76f8\u540c\uff0c\u4f46\u5c06\u6570\u636e\u5305\u4fdd\u5b58\u5728 PCAP\uff08\u6570\u636e\u5305\u6355\u83b7\uff09\u6587\u4ef6\u4e2d\u4ee5\u4f9b\u4ee5\u540e\u68c0\u67e5</p> <p><code>sudo tcpdump 'udp port 19302' -w stun.pcap</code></p> </li> </ul> <p>\u53ef\u4ee5\u4f7f\u7528 wireshark GUI \u6253\u5f00 PCAP \u6587\u4ef6\uff1a<code>wireshark stun.pcap</code></p>"},{"location":"webrtc/forcurious/009.html#wireshark","title":"wireshark","text":"<p>wireshark \u662f\u4e00\u4e2a\u4f7f\u7528\u5e7f\u6cdb\u7684\u7f51\u7edc\u534f\u8bae\u5206\u6790\u5668</p>"},{"location":"webrtc/forcurious/009.html#webrtc-internals","title":"webrtc-internals","text":"<p>Chrome \u5185\u7f6e\u4e86\u4e00\u4e2a WebRTC \u6307\u6807\u6570\u636e\u9875\u9762 chrome://webrtc-internals \u3002</p>"},{"location":"webrtc/forcurious/009.html#latency","title":"\u5ef6\u8fdf (Latency)","text":"<p>\u6211\u4eec\u8be5\u5982\u4f55\u611f\u77e5\u9ad8\u5ef6\u8fdf\uff1f\u4f60\u4f1a\u6ce8\u610f\u5230\u89c6\u9891\u51fa\u73b0\u5ef6\u8fdf\u4e86\uff0c\u4f46\u4f60\u77e5\u9053\u5b83\u5177\u4f53\u5ef6\u8fdf\u4e86\u591a\u5c11\u5417\uff1f \u60f3\u8981\u964d\u4f4e\u5ef6\u8fdf\uff0c\u4f60\u9996\u5148\u5fc5\u987b\u77e5\u9053\u5982\u4f55\u6d4b\u91cf\u5ef6\u8fdf\u3002</p> <p>\u771f\u6b63\u7684\u5ef6\u8fdf\u5e94\u8be5\u662f\u7aef\u5230\u7aef\u6d4b\u91cf\u7684\u3002\u8fd9\u4e0d\u4ec5\u4ec5\u662f\u6307\u53d1\u9001\u65b9\u548c\u63a5\u6536\u65b9\u4e4b\u95f4\u7f51\u7edc\u8def\u5f84\u7684\u5ef6\u8fdf\uff0c\u8fd8\u5305\u62ec\u76f8\u673a\u62cd\u6444\u3001\u5e27\u7f16\u7801\u3001\u4f20\u8f93\u3001\u63a5\u6536\u3001\u89e3\u7801\u548c\u89c6\u9891\u64ad\u653e\u7b49\u4e00\u7cfb\u5217\u6b65\u9aa4\u5ef6\u8fdf\u7684\u7efc\u5408\uff0c\u4ee5\u53ca\u8fd9\u4e9b\u6b65\u9aa4\u4e4b\u95f4\u53ef\u80fd\u5b58\u5728\u7684\u961f\u5217\u3002</p> <p>\u7aef\u5230\u7aef\u5ef6\u8fdf\u4e0d\u662f\u5404\u4e2a\u7ec4\u4ef6\u5ef6\u8fdf\u7684\u7b80\u5355\u53e0\u52a0\u3002</p> <p>\u867d\u7136\u5728\u7406\u8bba\u4e0a\uff0c\u4f60\u53ef\u4ee5\u5355\u72ec\u6d4b\u91cf\u6574\u4e2a\u89c6\u9891\u4f20\u8f93\u7ba1\u7ebf\u4e2d\u5404\u4e2a\u6a21\u5757\u7684\u5ef6\u8fdf\uff0c\u7136\u540e\u7d2f\u52a0\u5230\u4e00\u8d77\uff1b\u4f46\u662f\u5728\u5b9e\u8df5\u4e2d\uff0c\u81f3\u5c11\u6709\u4e9b\u7ec4\u4ef6\u6ca1\u6709\u65b9\u6cd5\u53bb\u6d4b\u91cf\u5ef6\u8fdf\uff0c\u6216\u8005\u5728\u5916\u90e8\u6d4b\u91cf\u5ef6\u8fdf\u7684\u7ed3\u679c\u5b58\u5728\u660e\u663e\u7684\u504f\u5dee\u3002 \u5404\u4e2a\u6b65\u9aa4\u4e4b\u95f4\u7684\u961f\u5217\u5927\u5c0f\uff0c\u7f51\u7edc\u62d3\u6251\uff0c\u4e43\u81f3\u662f\u76f8\u673a\u7684\u66dd\u5149\u5ea6\u53d8\u5316\uff0c\u90fd\u53ef\u80fd\u4f1a\u5bf9\u5206\u6b65\u9aa4\u7684\u6d4b\u91cf\u7ed3\u679c\u4ea7\u751f\u5f71\u54cd\uff0c\u8fdb\u800c\u5f71\u54cd\u7aef\u5230\u7aef\u5ef6\u8fdf\u7684\u6d4b\u91cf\u7ed3\u679c\u3002</p> <p>\u76f4\u64ad\u7cfb\u7edf\u4e2d\u6bcf\u4e2a\u7ec4\u4ef6\u5185\u90e8\u7684\u5ef6\u8fdf\u90fd\u53ef\u80fd\u6539\u53d8\u5e76\u5f71\u54cd\u4e0b\u6e38\u7ec4\u4ef6\u3002 \u751a\u81f3\u62cd\u6444\u7684\u5185\u5bb9\u4e5f\u4f1a\u5f71\u54cd\u5ef6\u8fdf\u3002 \u4f8b\u5982\uff0c\u4e0e\u6674\u6717\u7684\u84dd\u5929\u8fd9\u79cd\u4f4e\u9891\u56fe\u50cf\u76f8\u6bd4\uff0c\u6811\u679d\u7b49\u9ad8\u9891\u7279\u5f81\u9700\u8981\u66f4\u591a\u7684\u6bd4\u7279\u6570 (\u8bd1\u8005\u6ce8\uff1a\u7f16\u7801\u7684\u672c\u8d28\u662f\u538b\u7f29\uff0c\u538b\u7f29\u7684\u672c\u8d28\u662f\u51cf\u5c11\u6570\u636e\u5197\u4f59\uff0c\u590d\u6742\u7684\u56fe\u50cf\u7f16\u7801\u540e\u9700\u8981\u66f4\u591a\u7684\u7a7a\u95f4)\u3002 \u5f00\u542f\u81ea\u52a8\u66dd\u5149\u7684\u76f8\u673a\u62cd\u6444\u4e00\u5e27\u56fe\u50cf\u6240\u82b1\u8d39\u7684\u65f6\u95f4\uff0c\u53ef\u80fd\u6bd4\u9884\u671f\u7684 33ms _ \u591a\u5f97\u591a _\uff0c\u5373\u4f7f\u62cd\u6444\u901f\u5ea6\u8bbe\u7f6e\u4e3a\u6bcf\u79d2 30 \u5e27\u4e5f\u662f\u5982\u6b64\u3002 \u901a\u8fc7\u7f51\u7edc\uff08\u7279\u522b\u662f\u8702\u7a9d\u7f51\u7edc\uff09\u7684\u4f20\u8f93\uff0c\u53d7\u9700\u6c42\u53d8\u5316\u7684\u5f71\u54cd\uff0c\u4e5f\u662f\u52a8\u6001\u53d8\u5316\u7684\u3002 \u4f8b\u5982\uff0c\u66f4\u591a\u7684\u7528\u6237\u5c31\u610f\u5473\u7740\u66f4\u591a\u53c2\u4e0e\u7684\u901a\u4fe1\u8005\u3002 \u5730\u7406\u4f4d\u7f6e\uff08\u7279\u522b\u662f\u67d0\u4e9b\u81ed\u540d\u662d\u8457\u7684\u4f4e\u4fe1\u53f7\u533a\uff09\u7b49\u5176\u4ed6\u56e0\u7d20\u4e5f\u4f1a\u589e\u52a0\u4e22\u5305\u548c\u5ef6\u8fdf\u3002 \u5f53\u4f60\u628a\u6570\u636e\u5305\u53d1\u9001\u5230\u7f51\u7edc\u63a5\u53e3\uff08\u4f8b\u5982 WiFi \u9002\u914d\u5668\u6216\u8005 LTE\uff09\u5e76\u8bf7\u6c42\u4f20\u9001\u65f6\uff0c\u4f1a\u53d1\u751f\u4e9b\u4ec0\u4e48\u5462\uff1f \u5982\u679c\u6570\u636e\u5305\u65e0\u6cd5\u88ab\u7acb\u5373\u4f20\u9001\uff0c\u5b83\u5c06\u88ab\u52a0\u5165\u7f51\u7edc\u63a5\u53e3\u7684\u961f\u5217\u4e2d\uff0c\u961f\u5217\u8d8a\u5927\uff0c\u7f51\u7edc\u63a5\u53e3\u5f15\u5165\u7684\u5ef6\u8fdf\u5c31\u8d8a\u5927\u3002</p>"},{"location":"webrtc/forcurious/009.html#_9","title":"\u7aef\u5230\u7aef\u5ef6\u8fdf\u2014\u2014\u624b\u52a8\u6d4b\u91cf","text":"<p>\u5f53\u6211\u4eec\u8c08\u8bba \u7aef\u5230\u7aef\u5ef6\u8fdf\u65f6\uff0c\u6307\u7684\u662f\u4ece \u4e8b\u4ef6\u53d1\u751f \u5230 \u4e8b\u4ef6\u88ab\u770b\u5230 (\u5373\u89c6\u9891\u5e27\u64ad\u653e\u5728\u5c4f\u5e55\u4e0a) \u7684\u65f6\u95f4\u95f4\u9694\u3002</p> <pre><code>EndToEndLatency = T(observe) - T(happen)\n</code></pre> <p>\u4e00\u4e2a\u60f3\u5f53\u7136\u7684\u65b9\u6cd5\u662f\uff0c\u8bb0\u5f55\u4e8b\u4ef6\u53d1\u751f\u7684\u65f6\u95f4\uff0c\u518d\u4e0e\u4e8b\u4ef6\u88ab\u770b\u5230\u7684\u65f6\u95f4\u76f8\u51cf\u5373\u53ef\u5f97\u5230\u3002 \u4f46\u662f\uff0c\u5f53\u7cbe\u786e\u5ea6\u4e3a\u6beb\u79d2\u7ea7\u65f6\uff0c\u65f6\u95f4\u540c\u6b65\u5c31\u6210\u4e86\u96be\u9898\u3002 \u60f3\u8981\u5728\u5206\u5e03\u5f0f\u7cfb\u7edf\u4e2d\u540c\u6b65\u65f6\u949f\u57fa\u672c\u662f\u5f92\u52b3\u7684\uff0c\u5373\u4f7f\u662f\u65f6\u949f\u540c\u6b65\u7684\u4e00\u4e2a\u5c0f\u9519\u8bef\uff0c\u4e5f\u4f1a\u8ba9 \u5ef6\u8fdf\u6d4b\u91cf \u4e0d\u518d\u53ef\u4fe1\u3002</p> <p>\u89e3\u51b3\u65f6\u95f4\u540c\u6b65\u95ee\u9898\u7684\u4e00\u4e2a\u7b80\u5355\u65b9\u6cd5\uff0c\u5c31\u662f\u4f7f\u7528\u76f8\u540c\u7684\u65f6\u949f\u3002 \u5c06\u53d1\u9001\u65b9\u548c\u63a5\u6536\u65b9\u653e\u5728\u540c\u4e00\u4e2a\u53c2\u7167\u7cfb\u4e2d\u3002</p> <p>\u60f3\u8c61\u4e00\u4e0b\u4f60\u6709\u4e00\u4e2a\u6b63\u5e38\u8fd0\u884c\u7684\u6beb\u79d2\u7ea7\u65f6\u949f\uff08\u6216\u8005\u5176\u4ed6\u771f\u5b9e\u7684\u53ef\u4ee5\u8868\u793a\u65f6\u95f4\u7684\u7269\u4f53\uff09\u3002 \u4f60\u8981\u6d4b\u91cf\u4e00\u4e2a\u7cfb\u7edf\u7684\u5ef6\u8fdf\uff0c\u8fd9\u4e2a\u7cfb\u7edf\u4e2d\uff0c\u6444\u50cf\u5934\u5bf9\u51c6 \u65f6\u949f\uff0c\u91c7\u96c6\u7684\u76f4\u64ad\u6d41\u663e\u793a\u5230\u540c\u4e00\u4e2a\u5730\u65b9\u7684\u53e6\u4e00\u4e2a\u5c4f\u5e55\u4e0a\u3002 \u6709\u4e00\u4e2a\u76f4\u63a5\u7684\u6d4b\u91cf\u65b9\u5f0f\u6765 \u6d4b\u91cf \u65f6\u949f\u5f53\u524d\u65f6\u95f4 (T<code>happen</code>) \u548c\u8fd9\u4e2a\u65f6\u949f\u89c6\u9891\u51fa\u73b0\u5728\u5c4f\u5e55\u4e0a\u7684\u65f6\u95f4 (T<code>observe</code>) \u3002\u6b65\u9aa4\u5982\u4e0b\uff1a - \u5c06\u4f60\u7684\u6444\u50cf\u5934\u5bf9\u51c6\u8fd9\u4e2a\u65f6\u949f\u3002 - \u5c06\u89c6\u9891\u5e27\u53d1\u9001\u7ed9\u540c\u4e00\u4e2a\u5730\u65b9\u7684\u63a5\u6536\u65b9\uff0c\u63a5\u6536\u7aef\u5728\u5c4f\u5e55\u4e0a\u8fdb\u884c\u64ad\u653e\u3002 - \uff08\u7528\u4f60\u7684\u624b\u673a\uff09\u62cd\u4e00\u5f20\u7167\u7247\uff0c\u5c06\u65f6\u949f\u548c\u5c4f\u5e55\u89c6\u9891\u753b\u9762\u62cd\u8fdb\u540c\u4e00\u4e2a\u753b\u9762\u5185\u3002 - \u5c06\u7167\u7247\u4e2d\u7684\u4e24\u4e2a\u65f6\u95f4\u76f8\u51cf\uff08\u65f6\u949f\u4e0a\u7684\u65f6\u95f4\uff0c\u548c\u5c4f\u5e55\u89c6\u9891\u753b\u9762\u91cc\u65f6\u949f\u7684\u65f6\u95f4\uff09\u3002</p> <p>\u8fd9\u662f\u6700\u771f\u5b9e\u7684\u7aef\u5230\u7aef\u5ef6\u8fdf\u6d4b\u91cf\u3002 \u5b83\u8003\u8651\u4e86\u6240\u6709\u7ec4\u4ef6\uff08\u76f8\u673a\u3001\u7f16\u7801\u5668\u3001\u7f51\u7edc\u3001\u89e3\u7801\u5668\uff09\u7684\u5ef6\u8fdf\uff0c\u5e76\u4e14\u4e0d\u4f9d\u8d56\u4efb\u4f55\u65f6\u949f\u540c\u6b65\u3002</p> <p>.  \u5728\u4e0a\u9762\u7684\u7167\u7247\u4e2d\uff0c\u6d4b\u5f97\u7684\u7aef\u5230\u7aef\u5ef6\u8fdf\u4e3a 101 msec\u3002\u4e8b\u4ef6\u53d1\u751f\u7684\u65f6\u95f4\u662f 10:16:02.862 , \u800c \u76f4\u64ad\u89c2\u770b\u8005\u770b\u5230\u7684\u65f6\u95f4\u662f 10:16:02.761\u3002</p>"},{"location":"webrtc/forcurious/009.html#_10","title":"\u7aef\u5230\u7aef\u5ef6\u8fdf\u2014\u2014\u81ea\u52a8\u6d4b\u91cf","text":"<p>\u672c\u6587\u5199\u4f5c\u65f6\uff082021 \u5e74 5 \u6708\uff09\uff0cWebRTC \u6807\u51c6\u4e2d\u5173\u4e8e\u7aef\u5230\u7aef\u5ef6\u8fdf\u7684\u8bdd\u9898\u6b63\u5728\u88ab\u79ef\u6781\u8ba8\u8bba\u4e2d\u3002 Firefox \u5b9e\u73b0\u4e86\u4e00\u5957 API\uff0c\u8ba9\u7528\u6237\u53ef\u4ee5\u5728\u6807\u51c6 WebRTC API \u4e4b\u4e0a\uff0c\u521b\u5efa\u5bf9\u5ef6\u8fdf\u7684\u81ea\u52a8\u6d4b\u91cf\u3002 \u4e0d\u8fc7\uff0c\u5728\u672c\u6bb5\u843d\u4e2d\uff0c\u6211\u4eec\u5c06\u8ba8\u8bba\u8fdb\u884c\u7aef\u5230\u7aef\u5ef6\u8fdf\u81ea\u52a8\u6d4b\u91cf\u7684\u6700\u901a\u7528\u7684\u65b9\u6cd5\u3002</p> <p></p> <p>Roundtrip\uff0c\u5373\u5f80\u8fd4\u65f6\u95f4\uff0c\u7b80\u800c\u8a00\u4e4b\u5c31\u662f\uff1a \u6211\u5411\u4f60\u53d1\u9001\u6211\u7684\u65f6\u95f4 <code>tR1</code>, \u5f53\u6211\u63a5\u6536\u5230 <code>tR1</code> \u56de\u6765\u65f6\uff0c\u65f6\u95f4\u662f <code>tR2</code> \uff0c\u53ef\u5f97\u5f80\u8fd4\u65f6\u95f4\u662f <code>tR2 - tR1</code> \u3002</p> <p>\u5728\u7ed9\u5b9a\u53d1\u9001\u65b9\u548c\u63a5\u6536\u65b9\u4e4b\u95f4\u7684\u901a\u4fe1\u901a\u9053\uff08\u6bd4\u5982\uff0cDataChannel\uff09\u540e\uff0c\u63a5\u6536\u65b9\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u6b65\u9aa4\u6765\u5bf9\u53d1\u9001\u65b9\u7684\u5355\u4e00\u65f6\u949f\u5efa\u6a21\uff1a 1. \u5728\u65f6\u95f4 <code>tR1</code>\uff0c\u63a5\u6536\u65b9\u53d1\u9001\u4e00\u4e2a\u6d88\u606f\uff0c\u5305\u542b\u5b83\u672c\u5730\u5355\u4e00\u65f6\u949f\u7684\u65f6\u95f4\u6233 <code>tR1</code>\u3002 2. \u5728\u53d1\u9001\u65b9\u4e00\u7aef\u7684\u65f6\u95f4 <code>tS1</code>\uff0c\u53d1\u9001\u65b9\u6536\u5230\u8be5\u6d88\u606f\uff0c\u5e76\u53d1\u9001\u54cd\u5e94\u6d88\u606f\uff0c\u54cd\u5e94\u6d88\u606f\u4e2d\u5305\u542b\u4e09\u4e2a\u65f6\u95f4\uff1a<code>tR1</code> \u548c <code>tS1</code>\uff0c\u4ee5\u53ca\u53d1\u9001\u65b9\u7684\u89c6\u9891\u8f68\u9053\u65f6\u95f4 <code>tSV1</code>\u3002 3. \u5728\u63a5\u6536\u65b9\u4e00\u7aef\u7684\u65f6\u95f4 <code>tR2</code>\uff0c\u63a5\u6536\u65b9\u6536\u5230\u6d88\u606f\uff0c\u53ef\u4ee5\u7528\u6d88\u606f\u7684\u63a5\u6536\u65f6\u95f4\u51cf\u53bb\u53d1\u9001\u65f6\u95f4\uff0c\u8ba1\u7b97\u51fa\u5f80\u8fd4\u65f6\u95f4\uff1a<code>RTT = tR2 - tR1</code>\u3002 4. \u6709\u4e86\u5f80\u8fd4\u65f6\u95f4 <code>RTT</code> \u548c\u53d1\u9001\u65b9\u672c\u5730\u65f6\u95f4\u6233 <code>tS1</code>\uff0c\u5c31\u53ef\u4ee5\u4f30\u7b97\u51fa\u53d1\u9001\u65b9\u7684\u5355\u4e00\u65f6\u949f\u4e86\u3002\u5728 <code>tR2</code> \u8fd9\u4e2a\u65f6\u95f4\u70b9\uff0c\u53d1\u9001\u65b9\u7684\u5f53\u524d\u65f6\u95f4\u8fd1\u4f3c\u7b49\u4e8e <code>tS1</code> \u52a0\u4e0a\u5f80\u8fd4\u65f6\u95f4 <code>RTT</code> \u7684\u4e00\u534a\u3002 5. \u6839\u636e\u53d1\u9001\u65b9\u672c\u5730\u65f6\u949f\u7684\u65f6\u95f4\u6233 <code>tS1</code>\uff0c\u4ee5\u53ca\u89c6\u9891\u8f68\u9053\u7684\u65f6\u95f4\u6233 <code>tSV1</code>\uff0c\u52a0\u4e0a\u5f80\u8fd4\u65f6\u95f4 <code>RTT</code>\uff0c\u63a5\u6536\u65b9\u5c31\u53ef\u4ee5\u5c06\u81ea\u5df1\u8fd9\u4e00\u7aef\u548c\u53d1\u9001\u65b9\u4e00\u7aef\u7684\u89c6\u9891\u8f68\u9053\u65f6\u95f4\u8fdb\u884c\u540c\u6b65\u3002</p> <p>\u73b0\u5728\u6211\u4eec\u5df2\u7ecf\u77e5\u9053\u4e86\u4ece\u53d1\u9001\u65b9\u53d1\u51fa\u6700\u540e\u4e00\u4e2a\u89c6\u9891\u5e27\u65f6\u95f4 <code>tSV1</code> \u4e4b\u540e\u6240\u7ecf\u8fc7\u7684\u65f6\u95f4\uff0c\u6211\u4eec\u53ef\u4ee5\u8fd9\u6837\u8ba1\u7b97\u8fd1\u4f3c\u7684\u65f6\u95f4\u5ef6\u8fdf\uff0c\u5373\u7528 \u671f\u5f85\u7684\u89c6\u9891\u65f6\u95f4\uff08'expected_video_time'\uff09 \u51cf\u53bb \u5f53\u524d\u64ad\u653e\u7684\u89c6\u9891\u5e27\u7684\u65f6\u95f4\uff08'actual_video_time'\uff09\uff1a</p> <pre><code>expected_video_time = tSV1 + time_since(tSV1)\nlatency = expected_video_time - actual_video_time\n</code></pre> <p>\u8bd1\u8005\u6ce8\uff1a\u671f\u5f85\u7684\u89c6\u9891\u65f6\u95f4\u6307\u7684\u662f \u6ca1\u6709\u65f6\u5ef6\u7684\u60c5\u51b5\u4e0b\u5e94\u8be5\u64ad\u653e\u5230\u54ea\u4e2a\u65f6\u95f4\uff0c\u5728 Sender \u7aef\uff0ctSV1 \u65f6\u95f4\u91c7\u96c6 tSV1, \u4e4b\u540e\uff0c\u8fc7\u4e86 time_since(tSV1) \u65f6\u95f4\uff0cSender \u7aef\u5f53\u524d\u5e94\u8be5\u91c7\u96c6\u7684\u662f tSV1 + time_since(tSV1)\uff0c\u65e0\u5ef6\u8fdf\u60c5\u51b5\u4e0b\uff0c\u671f\u5f85\u7684\u89c6\u9891\u65f6\u95f4\u4e5f\u5c31\u662f Sender \u5f53\u524d\u5e94\u8be5\u91c7\u96c6\u7684\u65f6\u95f4\u3002</p> <p>\u8fd9\u79cd\u65b9\u6cd5\u7684\u7f3a\u9677\u662f\u6ca1\u6709\u5305\u542b\u76f8\u673a\u5185\u90e8\u7684\u5ef6\u8fdf\u3002 \u5927\u591a\u6570\u89c6\u9891\u7cfb\u7edf\u4e00\u822c\u5c06\u76f8\u673a\u7684\u5e27\u4f20\u9001\u5230\u4e3b\u5185\u5b58\u7684\u65f6\u95f4\u4f5c\u4e3a\u8fd9\u4e00\u5e27\u7684\u62cd\u6444\u65f6\u95f4\u6233\uff0c\u4f46\u62cd\u6444\u5b9e\u9645\u53d1\u751f\u7684\u65f6\u95f4\u4f1a\u7565\u65e9\u4e8e\u6b64\u65f6\u95f4\u3002</p>"},{"location":"webrtc/forcurious/009.html#_11","title":"\u5ef6\u8fdf\u6d4b\u91cf\u793a\u4f8b","text":"<p>\u4e00\u4e2a\u7b80\u5355\u5b9e\u73b0\u662f\u5728\u63a5\u6536\u65b9\u5f00\u542f\u4e00\u4e2a <code>latency</code> \u6570\u636e\u901a\u9053\uff0c\u5e76\u5b9a\u671f\u5c06\u63a5\u6536\u65b9\u7684\u5355\u4e00\u65f6\u949f\u65f6\u95f4\u6233\u53d1\u9001\u5230\u53d1\u9001\u65b9\u3002\u53d1\u9001\u65b9\u54cd\u5e94\u4e00\u4e2a JSON \u6d88\u606f\uff08\u6d88\u606f\u4e2d\u5305\u542b\u4e0a\u9762\u63d0\u5230\u7684\u4e09\u4e2a\u65f6\u95f4\uff09\uff0c\u7136\u540e\u63a5\u6536\u65b9\u6839\u636e\u8fd9\u4e2a\u6d88\u606f\u6765\u8ba1\u7b97\u5ef6\u8fdf\u3002</p> <pre><code>{\n\"received_time\": 64714,       // Timestamp sent by receiver, sender reflects the timestamp.\n\"delay_since_received\": 46,   // Time elapsed since last `received_time` received on sender.\n\"local_clock\": 1597366470336, // The sender's current monotonic clock time.\n\"track_times_msec\": {\n\"myvideo_track1\": [\n13100,        // Video frame RTP timestamp (in milliseconds).\n1597366470289 // Video frame monotonic clock timestamp.\n]\n}\n}\n</code></pre> <p>\u5728\u63a5\u6536\u65b9\u5f00\u542f\u8fd9\u4e2a <code>latency</code> \u6570\u636e\u901a\u9053\uff1a</p> <pre><code>dataChannel = peerConnection.createDataChannel('latency');\n</code></pre> <p>\u5b9a\u671f\u53d1\u9001\u63a5\u6536\u65b9\u7684\u65f6\u95f4 <code>tR1</code>\uff0c\u793a\u4f8b\u4e2d\u4f7f\u7528\u7684\u5468\u671f\u662f 2 \u79d2\uff1a</p> <pre><code>setInterval(() =&gt; {\nlet tR1 = Math.trunc(performance.now());\ndataChannel.send(\"\" + tR1);\n}, 2000);\n</code></pre> <p>\u53d1\u9001\u65b9\u5904\u7406\u6765\u81ea\u63a5\u6536\u65b9\u7684\u6d88\u606f\uff1a</p> <pre><code>// Assuming event.data is a string like \"1234567\".\ntR1 = event.data\nnow = Math.trunc(performance.now());\ntSV1 = 42000; // Current frame RTP timestamp converted to millisecond timescale.\ntS1 = 1597366470289; // Current frame monotonic clock timestamp.\nmsg = {\n\"received_time\": tR1,\n\"delay_since_received\": 0,\n\"local_clock\": now,\n\"track_times_msec\": {\n\"myvideo_track1\": [tSV1, tS1]\n}\n}\ndataChannel.send(JSON.stringify(msg));\n</code></pre> <p>\u63a5\u6536\u65b9\u5904\u7406\u6765\u81ea\u53d1\u9001\u65b9\u7684\u6d88\u606f\uff0c\u5e76\u5728<code>\u63a7\u5236\u53f0</code>\u4e0a\u6253\u5370\u4f30\u7b97\u7684\u65f6\u5ef6\uff1a</p> <pre><code>let tR2 = performance.now();\nlet fromSender = JSON.parse(event.data);\nlet tR1 = fromSender['received_time'];\nlet delay = fromSender['delay_since_received']; // How much time that has passed between the sender receiving and sending the response.\nlet senderTimeFromResponse = fromSender['local_clock'];\nlet rtt = tR2 - delay - tR1;\nlet networkLatency = rtt / 2;\nlet senderTime = (senderTimeFromResponse + delay + networkLatency);\nVIDEO.requestVideoFrameCallback((now, framemeta) =&gt; {\n// Estimate current time of the sender.\nlet delaySinceVideoCallbackRequested = now - tR2;\nsenderTime += delaySinceVideoCallbackRequested;\nlet [tSV1, tS1] = Object.entries(fromSender['track_times_msec'])[0][1]\nlet timeSinceLastKnownFrame = senderTime - tS1;\nlet expectedVideoTimeMsec = tSV1 + timeSinceLastKnownFrame;\nlet actualVideoTimeMsec = Math.trunc(framemeta.rtpTimestamp / 90); // Convert RTP timebase (90000) to millisecond timebase.\nlet latency = expectedVideoTimeMsec - actualVideoTimeMsec;\nconsole.log('latency', latency, 'msec');\n});\n</code></pre>"},{"location":"webrtc/forcurious/009.html#_12","title":"\u6d4f\u89c8\u5668\u4e2d\u7684\u89c6\u9891\u51c6\u786e\u65f6\u95f4","text":"<p><code>&lt;video&gt;.requestVideoFrameCallback()</code> \u5141\u8bb8 web \u5f00\u53d1\u8005\u5728\u89c6\u9891\u5e27\u53ef\u4ee5\u88ab\u5408\u6210\u56fe\u50cf\u65f6\u6536\u5230\u901a\u77e5\u3002</p> <p>\u76f4\u5230\u6700\u8fd1\uff082020 \u5e74 5 \u6708\uff09\uff0c\u6211\u4eec\u8fd8\u57fa\u672c\u6ca1\u6709\u4e00\u4e2a\u53ef\u9760\u7684\u65b9\u5f0f\u5728\u6d4f\u89c8\u5668\u4e2d\u83b7\u53d6\u89c6\u9891\u5f53\u524d\u64ad\u653e\u5e27\u7684\u65f6\u95f4\u6233 \u3002\u867d\u7136\u5b58\u5728\u4e00\u4e2a\u57fa\u4e8e <code>video.currentTime</code> \u7684\u53d8\u901a\u65b9\u6cd5\uff0c\u4f46\u5f97\u5230\u7684\u7ed3\u679c\u4e5f\u4e0d\u662f\u7279\u522b\u7cbe\u786e\u3002 Chrome \u548c Mozilla \u7684\u6d4f\u89c8\u5668\u5f00\u53d1\u8005\u90fd\u652f\u6301\u5f15\u5165\u65b0\u7684 W3C \u6807\u51c6\uff0c<code>HTMLVideoElement.requestVideoFrameCallback()</code>\uff0c\u8be5\u6807\u51c6\u6dfb\u52a0\u4e86\u4e00\u4e2a API \u56de\u8c03\u6765\u8bbf\u95ee\u5f53\u524d\u89c6\u9891\u5e27\u7684\u65f6\u95f4\u3002 \u5c3d\u7ba1\u8fd9\u4e2a\u65b0 API \u542c\u8d77\u6765\u5fae\u4e0d\u8db3\u9053\uff0c\u4f46\u5b83\u8d4b\u4e88\u4e86\u5e94\u7528\u5728 Web \u4e0a\u8fdb\u884c\u97f3\u89c6\u9891\u540c\u6b65\u7684\u80fd\u529b\uff0c\u5e76\u5df2\u7ecf\u4fc3\u8fdb\u4e86\u591a\u4e2a Web \u4e0a\u7684\u9ad8\u7ea7\u7684\u5a92\u4f53\u5e94\u7528\u7684\u5b9e\u73b0\u3002 \u7279\u522b\u662f\u5bf9\u4e8e WebRTC\uff0c\u56de\u8c03\u4e2d\u5c06\u5305\u542b <code>rtpTimestamp</code> \u5b57\u6bb5\uff0c\u5373\u4e0e\u5f53\u524d\u89c6\u9891\u5e27\u7684\u5173\u8054\u7684 RTP \u65f6\u95f4\u6233\u3002 \u8fd9\u4e2a\u63a5\u53e3\u7406\u5e94\u51fa\u73b0\u5728 WebRTC \u5e94\u7528\u4e2d\uff0c\u53ef\u60dc\u76ee\u524d\u8fd8\u6ca1\u6709\u3002</p>"},{"location":"webrtc/forcurious/009.html#_13","title":"\u5ef6\u8fdf\u7684\u8c03\u8bd5\u6280\u5de7","text":"<p>\u7531\u4e8e\u8c03\u8bd5\u5f88\u53ef\u80fd\u4f1a\u5f71\u54cd\u6d4b\u91cf\u5230\u7684\u5ef6\u8fdf\u503c\uff0c\u6240\u4ee5\u5927\u4f53\u539f\u5219\u662f\uff1a\u5c06\u4f60\u8bbe\u7f6e\u7b80\u5316\u5230\u80fd\u590d\u73b0\u95ee\u9898\u7684\u6700\u5c0f\u7a0b\u5ea6\u3002 \u79fb\u9664\u8d8a\u591a\u7684\u7ec4\u4ef6\uff0c\u5c31\u8d8a\u5bb9\u6613\u627e\u5230\u9020\u6210\u5ef6\u8fdf\u95ee\u9898\u7684\u7ec4\u4ef6\u3002</p>"},{"location":"webrtc/forcurious/009.html#_14","title":"\u76f8\u673a\u5ef6\u8fdf","text":"<p>\u6839\u636e\u76f8\u673a\u8bbe\u7f6e\uff0c\u76f8\u673a\u5ef6\u8fdf\u53ef\u80fd\u4f1a\u6709\u6240\u4e0d\u540c\u3002 \u68c0\u67e5\u81ea\u52a8\u66dd\u5149\u3001\u81ea\u52a8\u5bf9\u7126\u548c\u81ea\u52a8\u767d\u5e73\u8861\u7b49\u8bbe\u7f6e\u3002 \u7f51\u7edc\u6444\u50cf\u5934\u7684\u6240\u6709 \" \u81ea\u52a8 \" \u529f\u80fd\u90fd\u9700\u8981\u4e00\u4e9b\u989d\u5916\u7684\u65f6\u95f4\u6765\u5206\u6790\u6355\u83b7\u7684\u56fe\u50cf\uff0c\u7136\u540e\u624d\u80fd\u5c06\u5176\u63d0\u4f9b\u7ed9 WebRTC \u534f\u8bae\u6808\u3002</p> <p>\u5728 Linux \u4e0a\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 <code>v4l2-ctl</code> \u547d\u4ee4\u884c\u5de5\u5177\u6765\u63a7\u5236\u76f8\u673a\u8bbe\u7f6e\uff1a</p> <pre><code># Disable autofocus:\nv4l2-ctl -d /dev/video0 -c focus_auto=0\n# Set focus to infinity:\nv4l2-ctl -d /dev/video0 -c focus_absolute=0\n</code></pre> <p>\u4f60\u4e5f\u53ef\u4ee5\u4f7f\u7528\u56fe\u5f62\u754c\u9762\u5de5\u5177 <code>guvcview</code> \u6765\u5feb\u901f\u68c0\u6d4b\u548c\u8c03\u6574\u76f8\u673a\u8bbe\u7f6e\u3002</p>"},{"location":"webrtc/forcurious/009.html#_15","title":"\u7f16\u7801\u5ef6\u8fdf","text":"<p>\u5927\u591a\u6570\u73b0\u4ee3\u7f16\u7801\u5668\u4f1a\u5728\u8f93\u51fa\u5df2\u7f16\u7801\u7684\u5e27\u4e4b\u524d\uff0c\u5148\u7f13\u5b58\u4e00\u4e9b\u5e27\u3002 \u5b83\u4eec\u7684\u9996\u8981\u4efb\u52a1\u662f\u5728\u751f\u6210\u7684\u56fe\u7247\u8d28\u91cf\u548c\u6bd4\u7279\u7387\u4e4b\u95f4\u53d6\u5f97\u5e73\u8861\u3002 \u591a\u6b21\u7f16\u7801\u5668\u5c31\u662f\u7f16\u7801\u5668\u5ffd\u7565\u8f93\u51fa\u65f6\u5ef6\u7684\u4e00\u4e2a\u6781\u7aef\u4f8b\u5b50\u3002 \u5728\u7b2c\u4e00\u6b21\u7f16\u7801\u8fc7\u7a0b\u4e2d\uff0c\u7f16\u7801\u5668\u9700\u8981\u83b7\u53d6\u5230\u5b8c\u6574\u7684\u89c6\u9891\u6570\u636e\uff0c\u7136\u540e\u624d\u4f1a\u5f00\u59cb\u8f93\u51fa\u89c6\u9891\u5e27\u3002</p> <p>\u4e0d\u8fc7\uff0c\u901a\u8fc7\u9002\u5f53\u7684\u8c03\u6574\uff0c\u6211\u4eec\u53ef\u4ee5\u51cf\u5c11 sub-frame \u7684\u5ef6\u8fdf\uff08\u8bd1\u8005\u6ce8\uff1a\u8fd9\u91cc\u5e94\u8be5\u662f\u6307 subsequent-frame, \u907f\u514d\u5bf9\u540e\u7eed\u5e27\u7684\u4f9d\u8d56\uff09\u3002 \u8bf7\u786e\u4fdd\u4f60\u7684\u7f16\u7801\u5668\u4e0d\u4f7f\u7528\u8fc7\u591a\u7684\u53c2\u8003\u5e27\u6216\u4f9d\u8d56\u4e8e B \u5e27\u3002 \u6bcf\u4e2a\u7f16\u89e3\u7801\u5668\u7684\u5ef6\u8fdf\u8c03\u6574\u8bbe\u7f6e\u90fd\u4e0d\u540c\uff0c\u4f46\u5bf9\u4e8e x264 \u800c\u8a00\uff0c\u6211\u4eec\u5efa\u8bae\u4f7f\u7528 <code>tune=zerolatency</code> \u548c <code>profile=baseline</code> \u4ee5\u83b7\u5f97\u6700\u4f4e\u7684\u5e27\u8f93\u51fa\u5ef6\u8fdf\u3002</p>"},{"location":"webrtc/forcurious/009.html#_16","title":"\u7f51\u7edc\u5ef6\u8fdf","text":"<p>\u5bf9\u4e8e\u7f51\u7edc\u5ef6\u8fdf\uff0c\u6211\u4eec\u80fd\u505a\u7684\u4e0d\u591a\uff0c\u6700\u597d\u7684\u65b9\u6cd5\u5c31\u662f\u5347\u7ea7\u5230\u66f4\u597d\u7684\u7f51\u7edc\u8fde\u63a5\u3002 \u7f51\u7edc\u5ef6\u8fdf\u5f88\u50cf\u5929\u6c14\u2014\u2014\u4f60\u4e0d\u80fd\u963b\u6b62\u4e0b\u96e8\uff0c\u4f46\u4f60\u53ef\u4ee5\u67e5\u770b\u5929\u6c14\u9884\u62a5\u7136\u540e\u6253\u628a\u96e8\u4f1e\u3002 WebRTC \u4ee5\u6beb\u79d2\u7ea7\u7cbe\u5ea6\u6d4b\u91cf\u7f51\u7edc\u72b6\u6001\u3002 \u91cd\u8981\u7684\u6307\u6807\u6709\uff1a - \u5f80\u8fd4\u65f6\u95f4 - \u4e22\u5305\u4e0e\u5305\u91cd\u4f20</p> <p>\u5f80\u8fd4\u65f6\u95f4</p> <p>WebRTC \u534f\u8bae\u6808\u6709\u5185\u5efa\u7684\u7f51\u7edc\u5f80\u8fd4\u65f6\u95f4\uff08round trip time, RTT\uff09\u6d4b\u91cf\u673a\u5236 \u3002 \u7f51\u7edc\u5ef6\u8fdf\u7684\u4e00\u4e2a\u5f88\u4e0d\u9519\u7684\u8fd1\u4f3c\u503c\u662f <code>RTT/2</code>\u3002\u5b83\u5047\u8bbe\u53d1\u9001\u548c\u63a5\u6536\u6570\u636e\u5305\u9700\u8981\u540c\u6837\u957f\u7684\u65f6\u95f4\uff0c\u7136\u800c\u60c5\u51b5\u5e76\u975e\u603b\u662f\u5982\u6b64\u3002 RTT \u754c\u5b9a\u4e86\u7aef\u5230\u7aef\u7684\u65f6\u5ef6\u7684\u4e0b\u9650\u3002 \u4e0d\u7ba1\u5982\u4f55\u4f18\u5316\u76f8\u673a\u5230\u7f16\u7801\u5668\u7684\u5904\u7406\u7ba1\u9053\uff0c\u89c6\u9891\u5e27\u90fd\u65e0\u6cd5\u5728 <code>RTT/2</code> \u7684\u65f6\u95f4\u4ee5\u5185\u5230\u8fbe\u63a5\u6536\u65b9\u3002</p> <p>\u5185\u5efa\u7684 RTT \u673a\u5236\uff0c\u57fa\u4e8e\u7279\u6b8a\u7684 RTCP \u5305\uff0c\u4e5f\u5c31\u662f\u53d1\u9001\u65b9 / \u63a5\u6536\u65b9\u62a5\u544a\u3002 \u53d1\u9001\u65b9\u53d1\u9001\u81ea\u5df1\u7684\u65f6\u95f4\u6233\u7ed9\u63a5\u6536\u65b9\uff0c\u63a5\u6536\u65b9\u518d\u5c06\u8fd9\u4e2a\u65f6\u95f4\u6233\u56de\u4f20\u7ed9\u53d1\u9001\u65b9\u3002 \u8fd9\u6837\uff0c\u53d1\u9001\u65b9\u5c31\u77e5\u9053\u8fd9\u4e2a\u6570\u636e\u5305\u4ece\u53d1\u5f80\u63a5\u6536\u65b9\u5230\u8fd4\u56de\u4e00\u5171\u82b1\u4e86\u591a\u957f\u65f6\u95f4\u3002 RTT \u6d4b\u91cf\u7684\u66f4\u591a\u5185\u5bb9\uff0c\u8bf7\u53c2\u9605\u53d1\u9001\u65b9\u548c\u63a5\u6536\u65b9\u62a5\u544a\u7ae0\u8282\u3002</p> <p>\u4e22\u5305\u4e0e\u5305\u91cd\u4f20</p> <p>RTP \u548c RTCP \u534f\u8bae\u90fd\u662f\u57fa\u4e8e UDP\uff0c\u5bf9\u4e8e\u6570\u636e\u7684\u987a\u5e8f\u3001\u6210\u529f\u9001\u8fbe\u6216\u8005\u907f\u514d\u91cd\u590d\uff0cUDP \u4e0d\u63d0\u4f9b\u4efb\u4f55\u4fdd\u969c\u3002 \u800c\u4e0a\u9762\u6240\u6709\u8fd9\u4e9b\u5728\u73b0\u5b9e\u4e16\u754c\u7684 WebRTC \u5e94\u7528\u4e2d\u90fd\u4f1a\u53d1\u751f\uff0c\u4e5f\u603b\u662f\u5728\u53d1\u751f\u3002 \u4e00\u4e2a\u7b80\u5355\u7684\u89e3\u7801\u5668\u5b9e\u73b0\u4f1a\u671f\u671b\u4e00\u4e2a\u89c6\u9891\u5e27\u7684\u6240\u6709\u6570\u636e\u5305\u90fd\u88ab\u5b8c\u6574\u9001\u8fbe\uff0c\u4ee5\u4fbf\u89e3\u7801\u5668\u80fd\u91cd\u65b0\u751f\u6210\u56fe\u50cf\u3002 \u51fa\u73b0\u4e22\u5305\u95ee\u9898\u65f6\uff0c\u5982\u679c\u4e22\u5931\u7684\u662fP \u5e27\u7684\u6570\u636e\u5305\uff0c\u5219\u53ef\u80fd\u4f1a\u89e3\u7801\u51fa\u9519\u8bef\u7684\u56fe\u50cf\u3002 \u5982\u679c\u4e22\u5931\u7684\u662f I \u5e27\u7684\u6570\u636e\u5305\uff0c\u5219\u6240\u6709\u4f9d\u8d56\u4e8e\u6b64 I \u5e27\u7684\u89c6\u9891\u5e27\u8981\u4e48\u51fa\u73b0\u4e25\u91cd\u7684\u89e3\u7801\u9519\u8bef\uff0c\u8981\u4e48\u538b\u6839\u65e0\u6cd5\u88ab\u89e3\u7801\u3002 \u8fd9\u4e9b\u90fd\u5f88\u53ef\u80fd\u4f1a\u9020\u6210\u89c6\u9891 \" \u5361\u4f4f \" \u4e00\u6bb5\u65f6\u95f4\u3002</p> <p>\u4e3a\u4e86\u907f\u514d\uff08\u5f53\u7136\u53ea\u662f\u5c3d\u91cf\u907f\u514d\uff09\u89c6\u9891\u5361\u4f4f\u6216\u8005\u89e3\u7801\u9519\u8bef\uff0cWebRTC \u4f7f\u7528 NACK\uff08\u5426\u5b9a\u786e\u8ba4\uff09\u3002 \u5f53\u63a5\u6536\u65b9\u6ca1\u6709\u6536\u5230\u4e00\u4e2a\u671f\u5f85\u7684 RTP \u5305\u65f6\uff0c\u5c06\u8fd4\u56de NACK \u6d88\u606f\uff0c\u8ba9\u53d1\u9001\u65b9\u518d\u6b21\u53d1\u9001\u8fd9\u4e2a\u4e22\u5931\u7684\u5305\u3002 \u63a5\u6536\u65b9 _ \u7b49\u5f85 _ \u6570\u636e\u5305\u91cd\u4f20\u5b8c\u6210\u3002 \u8fd9\u6837\u7684\u91cd\u4f20\u4f1a\u5bfc\u81f4\u5ef6\u8fdf\u589e\u52a0\u3002 NACK \u5305\u7684\u53d1\u9001\u548c\u63a5\u6536\u7684\u6570\u91cf\u4f1a\u88ab\u8bb0\u5f55\u5728 WebRTC \u5185\u5efa\u7684\u7edf\u8ba1\u6570\u636e\u4e2d\uff0c\u5bf9\u5e94\u7684\u5b57\u6bb5\u662foutbound stream nackCount\u548cinbound stream nackCount \u3002</p> <p>\u5728webrtc internals \u9875\u9762\u4e2d\uff0c\u4f60\u53ef\u4ee5\u770b\u5230\u5c55\u793a\u5165\u7ad9\u548c\u51fa\u7ad9\u7684 <code>nackCount</code> \u7684\u6f02\u4eae\u7684\u56fe\u8868\u3002 \u5982\u679c\u4f60\u770b\u5230 <code>nackCount</code> \u6b63\u5728\u589e\u52a0\uff0c\u8fd9\u610f\u5473\u7740\u7f51\u7edc\u6b63\u5904\u4e8e\u5927\u91cf\u4e22\u5305\u7684\u72b6\u6001\uff0c\u5c3d\u7ba1\u5982\u6b64\uff0cWebRTC \u534f\u8bae\u6808\u4ecd\u5728\u52aa\u529b\u521b\u5efa\u6d41\u7545\u7684\u97f3\u89c6\u9891\u4f53\u9a8c\u3002</p> <p>\u5f53\u4e22\u5305\u7387\u592a\u9ad8\uff0c\u89e3\u7801\u5668\u5df2\u7ecf\u65e0\u6cd5\u89e3\u7801\u56fe\u50cf\u6216\u8005\u540e\u7eed\u5173\u8054\u5e27\uff08\u4f8b\u5982 I \u5e27\u5b8c\u5168\u4e22\u5931\u7684\u60c5\u51b5\uff09\u7684\u65f6\u5019\uff0c\u6240\u6709\u540e\u7eed\u7684 P \u5e27\u90fd\u5c06\u65e0\u6cd5\u89e3\u7801\u3002 \u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u63a5\u6536\u65b9\u5c06\u901a\u8fc7\u53d1\u9001\u56fe\u7247\u4e22\u5931\u6307\u793a\uff08PLI\uff09\u6d88\u606f\u6765\u5c1d\u8bd5\u7f13\u89e3\u95ee\u9898\u3002 \u4e00\u65e6\u53d1\u9001\u65b9\u63a5\u6536\u5230\u4e00\u4e2a <code>PLI</code> \u6d88\u606f\uff0c\u5b83\u5c06\u751f\u6210\u4e00\u4e2a\u65b0\u7684 I \u5e27\u6765\u5e2e\u52a9\u63a5\u6536\u65b9\u7684\u89e3\u7801\u5668\u751f\u6210\u56fe\u50cf\u3002 I \u5e27\u4e00\u822c\u6bd4 P \u5e27\u5927\uff0c\u8fd9\u4e5f\u589e\u52a0\u4e86\u9700\u8981\u4f20\u8f93\u7684\u6570\u636e\u5305\u6570\u91cf\u3002 \u548c NACK \u6d88\u606f\u4e00\u6837\uff0c\u63a5\u6536\u65b9\u9700\u8981\u7b49\u5f85\u65b0\u7684 I \u5e27\uff0c\u8fd9\u4e5f\u5f15\u5165\u4e86\u989d\u5916\u7684\u5ef6\u8fdf\u3002</p> <p>\u4f60\u9700\u8981\u5173\u6ce8webrtc internals \u9875\u9762\u4e2d\u7684 <code>pliCount</code> \u6307\u6807\uff0c\u5982\u679c\u5b83\u589e\u52a0\u4e86\uff0c\u4f60\u9700\u8981\u8c03\u6574\u7f16\u7801\u5668\u4ee5\u51cf\u5c11\u6570\u636e\u5305\u7684\u8f93\u51fa\uff1b\u6216\u8005\u542f\u7528\u5bb9\u9519\u5ea6\u66f4\u9ad8\u7684\u6a21\u5f0f\u3002</p>"},{"location":"webrtc/forcurious/009.html#_17","title":"\u63a5\u6536\u65b9\u4e00\u4fa7\u7684\u5ef6\u8fdf","text":"<p>\u5ef6\u8fdf\u4f1a\u53d7\u5230\u6570\u636e\u5305\u4e71\u5e8f\u5230\u8fbe\u7684\u5f71\u54cd\u3002 \u6bd4\u5982\u4e00\u5f20\u56fe\u7247\u4e0b\u534a\u90e8\u5206\u7684\u6570\u636e\u5305\u5148\u5230\u8fbe\u4e86\uff0c\u90a3\u4e48\u5fc5\u987b\u7b49\u5f85\u4e0a\u534a\u90e8\u5206\u7684\u6570\u636e\u5305\u5230\u8fbe\u540e\uff0c\u624d\u80fd\u5f00\u59cb\u89e3\u7801\u3002 \u5173\u4e8e\u8fd9\u4e2a\u95ee\u9898\u7684\u66f4\u8be6\u7ec6\u5185\u5bb9\uff0c\u8bf7\u53c2\u8003\u89e3\u51b3\u6296\u52a8\u95ee\u9898\u7ae0\u8282\u3002</p> <p>\u4f60\u4e5f\u53ef\u4ee5\u53c2\u8003\u5185\u5efa\u7684jitterBufferDelay\u6307\u6807\uff0c\u770b\u4e00\u4e0b\u4e00\u5e27\u9700\u8981\u5728\u63a5\u6536\u7f13\u51b2\u533a\u4e2d\u5b58\u653e\u591a\u4e45\uff0c\u624d\u80fd\u7b49\u5230\u6240\u6709\u7684\u6570\u636e\u5305\u63a5\u6536\u5b8c\u6210\uff0c\u5e76\u88ab\u91ca\u653e\u5230\u89e3\u7801\u5668\u3002</p>"},{"location":"webrtc/forcurious/010.html","title":"\u5386\u53f2","text":"<p>\u5728\u5b66\u4e60 WebRTC \u65f6\uff0c\u5f00\u53d1\u4eba\u5458\u7ecf\u5e38\u5bf9\u5176\u590d\u6742\u6027\u611f\u5230\u6cae\u4e27\uff0c\u4ed6\u4eec\u8ba4\u4e3a\u4e00\u4e9b WebRTC \u529f\u80fd\u4e0e\u4ed6\u4eec\u5f53\u524d\u7684\u9879\u76ee\u65e0\u5173\uff0c\u5e76\u5e0c\u671b WebRTC \u80fd\u591f\u66f4\u7b80\u5355\u4e00\u4e9b\u3002\u4f46\u95ee\u9898\u662f\u4e0d\u540c\u7684\u5f00\u53d1\u8005\u6709\u8fe5\u7136\u4e0d\u540c\u7684\u5e94\u7528\u573a\u666f\u3002\u5b9e\u65f6\u901a\u4fe1\u6709\u7740\u4e00\u6bb5\u4e30\u5bcc\u7684\u5386\u53f2\uff0c\u4eba\u4eec\u5728\u8fd9\u4e2a\u9886\u57df\u521b\u9020\u8fc7\u5f88\u591a\u4e0d\u540c\u7684\u4e1c\u897f\u3002</p> <p>WebRTC \u662f\u7531\u4e00\u7cfb\u5217\u534f\u8bae\u7ec4\u6210\u7684\uff0c\u672c\u7ae0\u5305\u542b\u4e86\u5bf9\u8fd9\u4e9b\u534f\u8bae\u4f5c\u8005\u7684\u91c7\u8bbf\u3002 \u8fd9\u4e9b\u91c7\u8bbf\u53ef\u4ee5\u8ba9\u6211\u4eec\u66f4\u6df1\u5165\u7684\u4e86\u89e3\u4f5c\u8005\u4eec\u5728\u6784\u5efa\u6bcf\u4e2a\u534f\u8bae\u65f6\u6240\u505a\u7684\u8bbe\u8ba1\uff0c\u5e76\u4ee5\u5173\u4e8e WebRTC \u672c\u8eab\u7684\u91c7\u8bbf\u7ed3\u675f\u3002\u5f53\u4f60\u7406\u89e3\u4e86\u8f6f\u4ef6\u7684\u610f\u56fe\u548c\u8bbe\u8ba1\uff0c\u4f60\u53ef\u4ee5\u7528\u5b83\u6784\u5efa\u51fa\u66f4\u6709\u6548\u7387\u7684\u7cfb\u7edf\u3002</p>"},{"location":"webrtc/forcurious/010.html#rtp","title":"RTP","text":"<p>RTP \u548c RTCP \u662f\u5904\u7406 WebRTC \u7684\u6240\u6709\u5a92\u4f53\u4f20\u8f93\u7684\u534f\u8bae\u3002\u5b83\u662f\u5728 1996 \u5e74 1 \u6708\u7684RFC 1889\u4e2d\u5b9a\u4e49\u7684\u3002 \u6211\u4eec\u5f88\u5e78\u8fd0\u5730\u9080\u8bf7\u5230\u5176\u4e2d\u4e00\u4f4d\u4f5c\u8005Ron Frederick\u81ea\u5df1\u6765\u8c08\u8bba\u8fd9\u4e2a\u95ee\u9898\u3002Ron \u6700\u8fd1\u5411 GitHub \u4e0a\u4f20\u4e86Network Video tool\uff0c\u8fd9\u662f\u4e00\u4e2a\u5c55\u793a\u4e86 RTP \u7684\u9879\u76ee\u3002</p>"},{"location":"webrtc/forcurious/010.html#_2","title":"\u7528\u4ed6\u81ea\u5df1\u7684\u8bdd\u8bb2","text":"<p>\u5728 1992 \u5e74 10 \u6708\uff0c\u6211\u5f00\u59cb\u5c1d\u8bd5\u4f7f\u7528 Sun VideoPix \u5e27\u91c7\u96c6\u5361\uff0c\u5f53\u65f6\u7684\u60f3\u6cd5\u662f\u7f16\u5199\u4e00\u4e2a\u57fa\u4e8e IP \u591a\u64ad\u7684\u7f51\u7edc\u89c6\u9891\u4f1a\u8bae\u5de5\u5177\u3002\u5b83\u662f\u6839\u636e \"vat\" \u5efa\u6a21\u7684\uff0c\"vat\" \u662f LBL \u5f00\u53d1\u7684\u4e00\u4e2a\u97f3\u9891\u4f1a\u8bae\u5de5\u5177\uff0c\u5b83\u4e3a\u53c2\u52a0\u4f1a\u8bae\u7684\u7528\u6237\u4f7f\u7528\u4e86\u7c7b\u4f3c\u7684\u8f7b\u91cf\u7ea7\u4f1a\u8bdd\u534f\u8bae\uff0c\u4f60\u53ef\u4ee5\u7b80\u5355\u5730\u4f7f\u7528\u6b64\u5de5\u5177\u5c06\u6570\u636e\u53d1\u9001\u5230\u7279\u5b9a\u7684\u591a\u64ad\u7ec4\uff0c\u5e76\u76d1\u542c\u6765\u81ea\u8be5\u7ec4\u4e2d\u5176\u4ed6\u5c0f\u7ec4\u6210\u5458\u7684\u4efb\u4f55\u6d41\u91cf\u3002</p> <p>\u4e3a\u4e86\u4f7f\u7a0b\u5e8f\u771f\u6b63\u6210\u529f\uff0c\u5b83\u9700\u8981\u5148\u538b\u7f29\u89c6\u9891\u6570\u636e\uff0c\u7136\u540e\u518d\u5c06\u5176\u53d1\u5e03\u5230\u7f51\u7edc\u4e0a\u3002\u6211\u7684\u76ee\u6807\u662f\u5728\u5927\u7ea6 128 kbps \u6216\u6807\u51c6\u5bb6\u5ead ISDN \u7ebf\u8def\u7684\u5e26\u5bbd\u4e0a\u751f\u6210\u53ef\u63a5\u53d7\u7684\u53ef\u89c6\u6570\u636e\u6d41\u3002\u6211\u8fd8\u5e0c\u671b\u5728\u4e00\u534a\u5e26\u5bbd\u4e0b\u751f\u6210\u4ecd\u80fd\u88ab\u89c2\u770b\u5230\u7684\u4e1c\u897f\u3002\u8fd9\u610f\u5473\u7740\u6211\u9700\u8981\u5c06\u7279\u5b9a\u56fe\u50cf\u5c3a\u5bf8\u548c\u5e27\u7387\u7684\u89c6\u9891\u538b\u7f29\u5230\u5927\u7ea6 20 \u5206\u4e4b\u4e00\u7684\u5927\u5c0f\u3002\u6211\u5b9e\u73b0\u4e86\u8fd9\u79cd\u538b\u7f29\uff0c\u5e76\u7533\u8bf7\u4e86\u4e13\u5229\uff0c\u4e13\u5229\u662f US5485212A\uff1a\u7528\u4e8e\u7535\u8bdd\u4f1a\u8bae\u7684\u8f6f\u4ef6\u89c6\u9891\u538b\u7f29\u3002</p> <p>1992 \u5e74 11 \u6708\u4e0a\u65ec\uff0c\u6211\u5411\u4e92\u8054\u7f51\u793e\u533a\u53d1\u5e03\u4e86\u89c6\u9891\u4f1a\u8bae\u5de5\u5177 \"nv\"\uff08\u4e8c\u8fdb\u5236\u5f62\u5f0f\uff09\u3002\u7ecf\u8fc7\u4e00\u4e9b\u521d\u6b65\u6d4b\u8bd5\u540e\uff0c\u5b83\u88ab\u7528\u4e8e\u5728\u5168\u7403\u8303\u56f4\u5185\u5bf9 11 \u6708 Internet \u5de5\u7a0b\u4efb\u52a1\u7ec4\u7684\u90e8\u5206\u8fdb\u884c\u89c6\u9891\u5e7f\u64ad\u3002\u5728 15 \u4e2a\u56fd\u5bb6 / \u5730\u533a\u4e2d\uff0c\u5927\u7ea6\u6709 200 \u4e2a\u5b50\u7f51\u80fd\u591f\u63a5\u6536\u6b64\u5e7f\u64ad\uff0c\u5e76\u4e14\u4e00\u5468\u4e2d\u7684\u67d0\u4e2a\u65f6\u5019\uff0c\u5927\u7ea6\u6709 50-100 \u4eba\u4f7f\u7528 \"nv\" \u63a5\u6536\u4e86\u89c6\u9891\u3002</p> <p>\u5728\u63a5\u4e0b\u6765\u7684\u51e0\u4e2a\u6708\u4e2d\uff0c\u53e6\u5916\u4e09\u4e2a\u7814\u8ba8\u4f1a\u548c\u4e00\u4e9b\u8f83\u5c0f\u7684\u4f1a\u8bae\u4f7f\u7528 \"nv\" \u5411\u6574\u4e2a Internet \u8fdb\u884c\u5e7f\u64ad\uff0c\u5305\u62ec\u6fb3\u5927\u5229\u4e9a NetWorkshop\uff0cMCNC \u5206\u7ec4\u97f3\u9891\u548c\u89c6\u9891\u7814\u8ba8\u4f1a\u4ee5\u53ca\u745e\u5178\u7684\u5206\u5e03\u5f0f\u865a\u62df\u73b0\u5b9e MultiG \u7814\u8ba8\u4f1a\u3002</p> <p>\u968f\u540e\uff0c\u5728 1993 \u5e74 2 \u6708\uff0c\u6211\u53d1\u5e03\u4e86 \"nv\" \u7684\u6e90\u4ee3\u7801\uff0c\u5e76\u5728 3 \u6708\u53d1\u5e03\u4e86\u8be5\u5de5\u5177\u7684\u4e00\u4e2a\u7248\u672c\uff0c\u5728\u5176\u4e2d\u5f15\u5165\u4e86\u65b0\u7684\u57fa\u4e8e\u5c0f\u6ce2\u7684\u538b\u7f29\u65b9\u6848\u3002\u5728 1993 \u5e74 5 \u6708\uff0c\u6211\u589e\u52a0\u4e86\u5bf9\u5f69\u8272\u89c6\u9891\u7684\u652f\u6301\u3002</p> <p>\u7528\u4e8e \"nv\" \u548c\u5176\u4ed6 Internet \u4f1a\u8bae\u5de5\u5177\u7684\u7f51\u7edc\u534f\u8bae\u6210\u4e3a\u4e86\u5b9e\u65f6\u4f20\u8f93\u534f\u8bae\uff08RTP\uff09\u7684\u57fa\u7840\uff0c\u8be5\u534f\u8bae\u901a\u8fc7 Internet \u5de5\u7a0b\u4efb\u52a1\u7ec4\uff08IETF\uff09\u8fdb\u884c\u4e86\u6807\u51c6\u5316\uff0c\u8be5\u5de5\u4f5c\u7ec4\u9996\u5148\u5728 RFCs 1889-1890 \u4e2d\u53d1\u5e03\uff0c\u540e\u6765\u53c8\u4e0e\u5176\u4ed6\u5404\u79cd RFC \u4e00\u8d77\uff0c\u5728 RFCs 3550-3551 \u4e2d\u8fdb\u884c\u4e86\u4fee\u8ba2\uff0c\u5b83\u4eec\u6db5\u76d6\u4e86\u7528\u4e8e\u4f20\u9012\u7279\u5b9a\u97f3\u9891\u548c\u89c6\u9891\u683c\u5f0f\u7684\u914d\u7f6e\u6587\u4ef6\u3002</p> <p>\u5728\u63a5\u4e0b\u6765\u7684\u51e0\u5e74\u4e2d\uff0c\u5173\u4e8e \"nv\" \u7684\u5de5\u4f5c\u7ee7\u7eed\u8fdb\u884c\uff0c\u8be5\u5de5\u5177\u88ab\u79fb\u690d\u5230\u4e86\u8bb8\u591a\u5176\u4ed6\u786c\u4ef6\u5e73\u53f0\u548c\u89c6\u9891\u6355\u83b7\u8bbe\u5907\u4e0a\u3002\u5b83\u4ecd\u7136\u88ab\u7528\u4f5c\u5f53\u65f6\u5728 Internet \u4e0a\u5e7f\u64ad\u4f1a\u8bae\u7684\u4e3b\u8981\u5de5\u5177\u4e4b\u4e00\uff0c\u5305\u62ec\u88ab NASA \u9009\u4e2d\u4ee5\u5728\u7ebf\u76f4\u64ad\u7684\u65b9\u5f0f\u8fdb\u884c\u822a\u5929\u98de\u673a\u98de\u884c\u4efb\u52a1\u7684\u5b9e\u65f6\u62a5\u9053\u3002</p> <p>1994 \u5e74\uff0c\u6211\u5728 \"nv\" \u4e2d\u6dfb\u52a0\u4e86\u5bf9\u5176\u4ed6\u4eba\u5f00\u53d1\u7684\u89c6\u9891\u538b\u7f29\u7b97\u6cd5\u7684\u652f\u6301\uff0c\u5176\u4e2d\u5305\u62ec\u4e00\u4e9b\u786c\u4ef6\u538b\u7f29\u65b9\u6848\uff0c\u5982 SunVideo \u89c6\u9891\u6355\u83b7\u5361\u652f\u6301\u7684 CellB \u683c\u5f0f\u3002\u8fd9\u4e5f\u4f7f\u5f97 \"nv\" \u53ef\u4ee5\u7528 CUSeeMe \u683c\u5f0f\u53d1\u9001\u89c6\u9891\uff0c\u5e76\u5c06\u89c6\u9891\u53d1\u9001\u7ed9\u5728 Mac \u548c PC \u4e0a\u8fd0\u884c CUSeeMe \u7684\u7528\u6237\u3002</p> <p>\u6700\u65b0\u7684 \"nv\" \u7248\u672c\u662f 1994 \u5e74 7 \u6708\u53d1\u5e03\u7684 3.3beta \u7248\u672c\u3002\u5f53\u65f6\u6211\u6b63\u5728\u5f00\u53d1 \"4.0alpha\" \u7248\u672c\uff0c\u8be5\u7248\u672c\u65e8\u5728\u5c06 \"nv\" \u8fc1\u79fb\u5230 RTP \u534f\u8bae v2\uff0c\u4f46\u56e0\u4e3a\u6211\u8f6c\u5230\u4e86\u5176\u4ed6\u9879\u76ee\u4e0a\uff0c\u8fd9\u9879\u5de5\u4f5c\u4ece\u672a\u88ab\u5b8c\u6210\u3002\u4e3a\u4e86\u4fdd\u6301\u5b8c\u6574\u6027\uff0cNetwork Video tool\u5f52\u6863\u6587\u4ef6\u4e2d\u5305\u542b 4.0 alpha \u4ee3\u7801\u7684\u526f\u672c\uff0c\u4f46\u5b83\u662f\u672a\u5b8c\u6210\u7684\uff0c\u5e76\u4e14\u5b58\u5728\u5df2\u77e5\u95ee\u9898\uff0c\u5c24\u5176\u662f\u5728 RTPv2 \u652f\u6301\u4e0d\u5b8c\u6574\u7684\u60c5\u51b5\u4e0b\u3002</p> <p>\"nv\" \u4e2d\u63d0\u4f9b\u7684\u6846\u67b6\u540e\u6765\u6210\u4e3a Xerox PARC \u7684 \"Jupiter multi-media MOO\" \u9879\u76ee\u4e2d\u89c6\u9891\u4f1a\u8bae\u7684\u57fa\u7840\uff0c\u8be5\u9879\u76ee\u6700\u7ec8\u5206\u62c6\u4e3a\u72ec\u7acb\u516c\u53f8 \"PlaceWare\"\uff0c\u540e\u6765\u8be5\u516c\u53f8\u88ab Microsoft \u6536\u8d2d\u3002\u5b83\u4e5f\u88ab\u7528\u4f5c\u8bb8\u591a\u786c\u4ef6\u89c6\u9891\u4f1a\u8bae\u9879\u76ee\u7684\u57fa\u7840\uff0c\u8fd9\u4e9b\u9879\u76ee\u5141\u8bb8\u901a\u8fc7\u9ad8\u5e26\u5bbd\u4ee5\u592a\u7f51\u548c ATM \u7f51\u7edc\u53d1\u9001\u5b8c\u6574\u7684 NTSC \u5e7f\u64ad\u8d28\u91cf\u7684\u89c6\u9891\u3002\u540e\u6765\u6211\u8fd8\u4f7f\u7528\u4e86\u5176\u4e2d\u4e00\u4e9b\u4ee3\u7801\u4f5c\u4e3a \"Mediastore\" \u7684\u57fa\u7840\uff0c\"Mediastore\" \u662f\u57fa\u4e8e\u7f51\u7edc\u7684\u89c6\u9891\u8bb0\u5f55\u548c\u56de\u653e\u670d\u52a1\u3002</p>"},{"location":"webrtc/forcurious/010.html#_3","title":"\u4f60\u8fd8\u8bb0\u5f97\u8349\u6848\u4e2d\u5176\u4ed6\u4eba\u7684\u52a8\u673a / \u60f3\u6cd5\u5417\uff1f","text":"<p>\u6211\u4eec\u90fd\u662f IP \u591a\u64ad\u7684\u7814\u7a76\u4eba\u5458\uff0c\u5e76\u4e14\u5e2e\u52a9\u521b\u5efa\u4e86 Internet \u591a\u64ad\u4e3b\u5e72\u7f51\uff08\u53c8\u540d MBONE\uff09\u3002MBONE \u7531 Steve Deering\uff08IP \u591a\u64ad\u7684\u9996\u4f4d\u5f00\u53d1\u8005\uff09\uff0cVan Jacobson \u548c Steve Casner \u521b\u5efa\u3002 \u6211\u548c Steve Deering \u5728\u65af\u5766\u798f\u5927\u5b66\u6709\u540c\u4e00\u4f4d\u987e\u95ee\uff0cSteve \u79bb\u5f00\u65af\u5766\u798f\u5927\u5b66\u540e\u5c31\u53bb\u4e86 Xerox PARC \u5de5\u4f5c\uff0c\u6211\u4f5c\u4e3a IP \u591a\u64ad\u76f8\u5173\u9879\u76ee\u7684\u5b9e\u4e60\u751f\u5728 Xerox PARC \u5446\u4e86\u4e00\u4e2a\u590f\u5929\uff0c\u540e\u6765\u5728\u65af\u5766\u798f\u5927\u5b66\u8fd8\u7ee7\u7eed\u4e3a\u4ed6\u4eec\u517c\u804c\u5de5\u4f5c\uff0c\u518d\u540e\u6765\u8f6c\u4e3a\u5168\u804c\u3002Van Jacobson \u548c Steve Casner \u662f\u6700\u521d\u7684 RTP RFC \u7684\u56db\u4f4d\u4f5c\u8005\u4e2d\u7684\u4e24\u4f4d\uff0c\u8fd8\u6709 Henning Schulzrinne \u548c\u6211\u672c\u4eba\u3002\u6211\u4eec\u6240\u6709\u4eba\u90fd\u4f7f\u7528 MBONE \u5de5\u5177\u8fdb\u884c\u5404\u79cd\u5f62\u5f0f\u7684\u5728\u7ebf\u534f\u4f5c\uff0c\u5e76\u4e14\u8bd5\u56fe\u63d0\u70bc\u51fa\u6240\u6709\u8fd9\u4e9b\u5de5\u5177\u53ef\u4ee5\u4f7f\u7528\u7684\u901a\u7528\u57fa\u672c\u534f\u8bae\uff0cRTP \u5c31\u662f\u8fd9\u6837\u51fa\u73b0\u7684\u3002</p>"},{"location":"webrtc/forcurious/010.html#webrtc","title":"\u591a\u64ad\u5f88\u68d2\uff0c\u800c WebRTC \u5b8c\u5168\u662f\u5355\u64ad\u7684\uff0c\u53ef\u4ee5\u8bf4\u4e00\u4e0b\u662f\u4e3a\u4ec0\u4e48\u5417\uff1f","text":"<p>\u5728\u524d\u5f80\u65af\u5766\u798f\u5927\u5b66\u5e76\u5b66\u4e60 IP \u591a\u64ad\u4e4b\u524d\uff0c\u6211\u82b1\u4e86\u5f88\u957f\u65f6\u95f4\u81f4\u529b\u4e8e\u8ba9\u8ba1\u7b97\u673a\u6210\u4e3a\u4eba\u4eec\u76f8\u4e92\u4ea4\u6d41\u7684\u65b9\u5f0f\u3002\u8fd9\u662f\u4ece 80 \u5e74\u4ee3\u521d\u671f\u5f00\u59cb\u7684\uff0c\u5f53\u65f6\u6211\u8fd0\u884c\u4e86\u4e00\u4e2a\u62e8\u53f7\u516c\u544a\u677f\u7cfb\u7edf\uff0c\u4eba\u4eec\u53ef\u4ee5\u767b\u5f55\u5e76\u7559\u4e0b\u5f7c\u6b64\u7684\u6d88\u606f\uff0c\u65e2\u53ef\u4ee5\u662f\u79c1\u4eba\u7684\uff08\u76f8\u5f53\u4e8e\u7535\u5b50\u90ae\u4ef6\uff09\uff0c\u4e5f\u53ef\u4ee5\u662f\u516c\u5171\u7684\uff08\u8ba8\u8bba\u5c0f\u7ec4\uff09\u3002\u5927\u7ea6\u5728\u540c\u4e00\u65f6\u95f4\uff0c\u6211\u8fd8\u4e86\u89e3\u4e86\u5728\u7ebf\u670d\u52a1\u63d0\u4f9b\u5546 CompuServe\u3002 CompuServe \u7684\u5f88\u9177\u7684\u529f\u80fd\u4e4b\u4e00\u5c31\u662f\u6240\u8c13\u7684 \"CB Simulator\"\uff0c\u4eba\u4eec\u53ef\u4ee5\u5728\u5176\u4e2d\u8fdb\u884c\u5b9e\u65f6\u4ea4\u8c08\u3002\u8fd9\u4e9b\u90fd\u662f\u57fa\u4e8e\u6587\u672c\u7684\uff0c\u4f46\u662f\u5b83\u5177\u6709 \" \u9891\u9053 \" \u7684\u6982\u5ff5\uff0c\u5c31\u50cf\u771f\u6b63\u7684 CB \u5e7f\u64ad\u4e00\u6837\uff0c\u53ea\u8981\u4ed6\u4eec\u5728\u540c\u4e00\u4e2a\u9891\u9053\u4e2d\uff0c\u5927\u5bb6\u5c31\u53ef\u4ee5\u770b\u5230\u5176\u4ed6\u4eba\u952e\u5165\u7684\u5185\u5bb9\u3002\u6211\u6784\u5efa\u4e86\u81ea\u5df1\u7684 CB \u7248\u672c\uff0c\u8be5\u7248\u672c\u5728\u6211\u53ef\u4ee5\u8bbf\u95ee\u7684\u5206\u65f6\u5171\u4eab\u7cfb\u7edf\u4e0a\u8fd0\u884c\uff0c\u8be5\u7cfb\u7edf\u53ef\u4ee5\u8ba9\u8be5\u7cfb\u7edf\u4e0a\u7684\u7528\u6237\u5b9e\u65f6\u5411\u5f7c\u6b64\u53d1\u9001\u6d88\u606f\uff0c\u7136\u540e\u5728\u63a5\u4e0b\u6765\u7684\u51e0\u5e74\u4e2d\uff0c\u6211\u4e0e\u670b\u53cb\u4e00\u8d77\u5f00\u53d1\u4e86\u66f4\u590d\u6742\u7684\u5404\u79cd\u7248\u672c\u7684\u5b9e\u65f6\u901a\u4fe1\u5de5\u5177\uff0c\u53ef\u4ee5\u5728\u51e0\u4e2a\u4e0d\u540c\u7684\u8ba1\u7b97\u673a\u7cfb\u7edf\u548c\u7f51\u7edc\u4e0a\u8fd0\u884c\u3002\u4e8b\u5b9e\u4e0a\uff0c\u5176\u4e2d\u4e00\u4e2a\u7cfb\u7edf\u4ecd\u5728\u8fd0\u884c\uff0c\u6211\u6bcf\u5929\u90fd\u4f1a\u7528\u5b83\u4e0e 30 \u591a\u5e74\u524d\u4e0a\u5927\u5b66\u7684\u4eba\u4eec\u8fdb\u884c\u4ea4\u6d41\uff01</p> <p>\u6240\u6709\u8fd9\u4e9b\u5de5\u5177\u90fd\u662f\u57fa\u4e8e\u6587\u672c\u7684\uff0c\u56e0\u4e3a\u5f53\u65f6\u7684\u8ba1\u7b97\u673a\u901a\u5e38\u6ca1\u6709\u4efb\u4f55\u97f3\u9891 / \u89c6\u9891\u529f\u80fd\uff0c\u4f46\u662f\u5f53\u6211\u5230\u8fbe\u65af\u5766\u798f\u5927\u5b66\u5e76\u5b66\u4e60\u4e86 IP \u591a\u64ad\u65f6\uff0c\u6211\u4ea7\u751f\u4e86\u4e00\u4e2a\u60f3\u6cd5\u3002\u505a\u4e00\u4e2a\u771f\u6b63\u7684 \" \u6536\u97f3\u673a \"\uff0c\u4f60\u53ef\u4ee5\u5c06\u4fe1\u53f7\u53d1\u9001\u5230\u7f51\u7edc\u4e0a\uff0c\u8be5\u4fe1\u53f7\u5e76\u4e0d\u662f\u7279\u522b\u53d1\u7ed9\u4efb\u4f55\u4eba\u7684\uff0c\u4f46\u662f\u8c03\u8c10\u5230\u8be5 \" \u9891\u9053 \" \u7684\u6bcf\u4e2a\u4eba\u90fd\u53ef\u4ee5\u63a5\u6536\u5230\u5b83\u3002\u78b0\u5de7\u7684\u662f\uff0c\u6211\u6b63\u5728\u4e3a\u4e4b\u79fb\u690d IP \u591a\u64ad\u4ee3\u7801\u7684\u8ba1\u7b97\u673a\u662f Sun \u7684\u7b2c\u4e00\u4ee3 SPARC-station\uff0c\u800c\u5b83\u5b9e\u9645\u4e0a\u5185\u7f6e\u4e86\u7535\u8bdd\u7ea7\u522b\u7684\u97f3\u9891\u786c\u4ef6\uff01\u4f60\u53ef\u4ee5\u5c06\u9ea6\u514b\u98ce\u4e2d\u7684\u58f0\u97f3\u6570\u5b57\u5316\uff0c\u7136\u540e\u901a\u8fc7\u5185\u7f6e\u626c\u58f0\u5668\uff08\u6216\u901a\u8fc7\u8033\u673a\u8f93\u51fa\uff09\u64ad\u653e\u3002\u56e0\u6b64\uff0c\u6211\u7684\u7b2c\u4e00\u4e2a\u60f3\u6cd5\u662f\u5f04\u6e05\u695a\u5982\u4f55\u4f7f\u7528 IP \u591a\u64ad\u5c06\u97f3\u9891\u5b9e\u65f6\u53d1\u9001\u5230\u7f51\u7edc\u4e0a\uff0c\u7136\u540e\u770b\u4e00\u4e0b\u662f\u5426\u53ef\u4ee5\u6784\u5efa\u4e00\u4e2a\u4f7f\u7528\u5b9e\u9645\u97f3\u9891\u800c\u4e0d\u662f\u6587\u672c\u7684 \"CB \u6536\u97f3\u673a \"\u3002</p> <p>\u8fd9\u91cc\u6709\u4e00\u4e9b\u68d8\u624b\u7684\u4e8b\u60c5\u9700\u8981\u89e3\u51b3\uff0c\u4f8b\u5982\u8ba1\u7b97\u673a\u4e00\u6b21\u53ea\u80fd\u64ad\u653e\u4e00\u4e2a\u97f3\u9891\u6d41\uff0c\u56e0\u6b64\uff0c\u5982\u679c\u6709\u591a\u4e2a\u4eba\u5728\u8bb2\u8bdd\uff0c\u5219\u9700\u8981\u5728\u6570\u5b66\u4e0a\u5c06\u591a\u4e2a\u97f3\u9891\u6d41 \" \u6df7\u5408 \" \u4e3a\u4e00\u4e2a\uff0c\u7136\u540e\u624d\u80fd\u64ad\u653e\u3002\u4e0d\u8fc7\u4e00\u65e6\u4f60\u4e86\u89e3\u4e86\u97f3\u9891\u91c7\u6837\u7684\u5de5\u4f5c\u539f\u7406\uff0c\u8fd9\u4e9b\u5de5\u4f5c\u5c31\u53ef\u4ee5\u5168\u90e8\u901a\u8fc7\u8f6f\u4ef6\u5b8c\u6210\u3002\u8be5\u97f3\u9891\u5e94\u7528\u7a0b\u5e8f\u4f7f\u6211\u81f4\u529b\u4e8e MBONE \u7684\u5f00\u53d1\uff0c\u5e76\u6700\u7ec8\u901a\u8fc7 \"nv\" \u5b9e\u73b0\u4e86\u5230\u89c6\u9891\u7684\u8f6c\u6362\u3002</p>"},{"location":"webrtc/forcurious/010.html#_4","title":"\u534f\u8bae\u4e2d\u9057\u6f0f\u4e86\u4ec0\u4e48\u4f60\u539f\u672c\u5e0c\u671b\u6dfb\u52a0\u7684\u4e1c\u897f\u5417\uff1f\u6709\u6ca1\u6709\u54ea\u4e9b\u8ba9\u4f60\u540e\u6094\u52a0\u5165\u7684\u5185\u5bb9\uff1f","text":"<p>\u6211\u4e0d\u89c9\u5f97\u6709\u4ec0\u4e48\u540e\u6094\u7684\uff0c\u4e0d\u8fc7\u6700\u7ec8\u4eba\u4eec\u5bf9 RTP \u62b1\u6028\u6700\u591a\u7684\u5176\u4e2d\u4e00\u70b9\u5c31\u662f RTCP \u5b9e\u73b0\u7684\u590d\u6742\u6027\uff0cRTCP \u662f\u4e0e RTP \u4e3b\u6570\u636e\u6d41\u91cf\u5e76\u884c\u8fd0\u884c\u7684\u63a7\u5236\u534f\u8bae\u3002\u6211\u8ba4\u4e3a\uff0cRTP \u5e76\u672a\u5f97\u5230\u66f4\u5e7f\u6cdb\u91c7\u7528\u7684\u4e3b\u8981\u539f\u56e0\u5c31\u662f\u592a\u8fc7\u590d\u6742\uff0c\u5c24\u5176\u662f\u5728\u5355\u64ad\u60c5\u51b5\u4e0b\uff0c\u5bf9 RTCP \u7684\u67d0\u4e9b\u529f\u80fd\u7684\u9700\u6c42\u4e0d\u518d\u90a3\u4e48\u5927\u3002\u7531\u4e8e\u7f51\u7edc\u5e26\u5bbd\u53d8\u5f97\u4e0d\u518d\u90a3\u4e48\u7a00\u7f3a\uff0c\u800c\u62e5\u585e\u4e5f\u4e0d\u518d\u662f\u4e00\u4e2a\u5927\u95ee\u9898\uff0c\u8bb8\u591a\u4eba\u6700\u7ec8\u53ea\u662f\u901a\u8fc7\u7eaf TCP\uff08\u4ee5\u53ca\u540e\u6765\u7684 HTTP\uff09\u6d41\u5f0f\u4f20\u8f93\u97f3\u9891\u548c\u89c6\u9891\uff0c\u4e00\u822c\u6765\u8bf4\uff0c\u8fd9\u5c31\u5df2\u7ecf \" \u8db3\u591f\u597d \" \u4e86\uff0c\u4ee5\u81f3\u4e8e\u6ca1\u6709\u5fc5\u8981\u518d\u53bb\u4e0e RTP \u6253\u4ea4\u9053\u3002</p> <p>\u4e0d\u5e78\u7684\u662f\uff0c\u4f7f\u7528 TCP \u6216 HTTP \u610f\u5473\u7740\u591a\u65b9\u97f3\u9891\u548c\u89c6\u9891\u5e94\u7528\u7a0b\u5e8f\u5fc5\u987b\u901a\u8fc7\u7f51\u7edc\u591a\u6b21\u5411\u9700\u8981\u63a5\u6536\u6570\u636e\u7684\u6bcf\u4e2a\u5bf9\u7b49\u65b9\u53d1\u9001\u76f8\u540c\u7684\u6570\u636e\uff0c\u4ece\u800c\u4ece\u5e26\u5bbd\u7684\u89d2\u5ea6\u6765\u770b\uff0c\u6548\u7387\u88ab\u5927\u5927\u964d\u4f4e\u3002\u6709\u65f6\uff0c\u6211\u5e0c\u671b\u6211\u4eec\u4e4b\u524d\u80fd\u66f4\u52a0\u52aa\u529b\u5730\u63a8\u52a8 IP \u591a\u70b9\u5e7f\u64ad\u7684\u5e94\u7528\uff0c\u4f7f\u5176\u4e0d\u4ec5\u9650\u4e8e\u7814\u7a76\u9886\u57df\u3002\u6211\u8ba4\u4e3a\uff0c\u5982\u679c\u6211\u4eec\u8fd9\u4e48\u505a\u4e86\u7684\u8bdd\uff0c\u53ef\u80fd\u6211\u4eec\u65e9\u5c31\u53ef\u4ee5\u770b\u5230\u6709\u7ebf\u7535\u89c6\u548c\u5e7f\u64ad\u7535\u89c6\u8fc7\u6e21\u5230\u57fa\u4e8e Internet \u7684\u97f3\u9891\u548c\u89c6\u9891\u3002</p>"},{"location":"webrtc/forcurious/010.html#rtp-rtp","title":"\u6709\u4ec0\u4e48\u4e1c\u897f\u662f\u4f60\u66fe\u7ecf\u60f3\u8fc7\u4f7f\u7528 RTP \u6784\u5efa\u7684\u5462\uff1f\u662f\u4e0d\u662f\u6709\u4e00\u4e9b\u5f88\u9177\u7684 RTP \u9879\u76ee / \u60f3\u6cd5\u968f\u65f6\u95f4\u6d41\u901d\u4e86\u5462\uff1f","text":"<p>\u6211\u6784\u5efa\u7684\u5176\u4e2d\u4e00\u4e2a\u6709\u8da3\u7684\u9879\u76ee\u662f\u4e00\u4e2a\u4f7f\u7528 IP \u591a\u64ad\u7684\u7ecf\u5178\u6e38\u620f \"Spacewar\" \u7248\u672c\u3002\u5728\u6ca1\u6709\u4efb\u4f55\u7c7b\u578b\u7684\u4e2d\u592e\u670d\u52a1\u5668\u7684\u60c5\u51b5\u4e0b\uff0c\u591a\u4e2a\u5ba2\u6237\u7aef\u53ef\u4ee5\u5404\u81ea\u8fd0\u884c spacewar \u7684\u4e8c\u8fdb\u5236\u6587\u4ef6\uff0c\u5e76\u5f00\u59cb\u5e7f\u64ad\u5176\u8239\u8236\u7684\u4f4d\u7f6e / \u901f\u5ea6 / \u6240\u9762\u5bf9\u7684\u65b9\u5411\u4ee5\u53ca\u5df2\u53d1\u5c04\u7684\u4efb\u4f55 \" \u5b50\u5f39 \" \u7684\u7c7b\u4f3c\u4fe1\u606f\uff0c\u6240\u6709\u5176\u4ed6\u5ba2\u6237\u7aef\u5c06\u6536\u96c6\u8fd9\u4e9b\u4fe1\u606f\u5e76\u5c06\u5176\u5448\u73b0\u5728\u672c\u5730\uff0c\u4ece\u800c\u4f7f\u6240\u6709\u4eba\u90fd\u53ef\u4ee5\u770b\u5230\u5f7c\u6b64\u7684\u98de\u8239\u548c\u5b50\u5f39\uff0c\u5982\u679c\u98de\u8239\u649e\u5411\u5bf9\u65b9\u6216\u88ab\u5b50\u5f39\u51fb\u4e2d\uff0c\u98de\u8239\u5c31\u4f1a \" \u7206\u70b8 \"\u3002\u6211\u751a\u81f3\u5c06\u7206\u70b8\u4e2d\u7684 \" \u788e\u7247 \" \u4e5f\u505a\u6210\u4e86\u53ef\u4ee5\u51fb\u6bc1\u5176\u4ed6\u8239\u53ea\u7684\u6d3b\u52a8\u7269\u4f53\uff0c\u6709\u65f6\u4f1a\u5f15\u8d77\u6709\u8da3\u7684\u8fde\u9501\u53cd\u5e94\uff01</p> <p>\u672c\u7740\u539f\u59cb\u6e38\u620f\u7684\u7cbe\u795e\uff0c\u6211\u4f7f\u7528\u6a21\u62df\u77e2\u91cf\u56fe\u5f62\u5bf9\u5176\u8fdb\u884c\u4e86\u6e32\u67d3\uff0c\u56e0\u6b64\u4f60\u53ef\u4ee5\u6267\u884c\u8bf8\u5982\u653e\u5927\u548c\u7f29\u5c0f\u89c6\u56fe\u4e4b\u7c7b\u7684\u64cd\u4f5c\uff0c\u5e76\u4e14\u4e00\u5207\u90fd\u4f1a\u6309\u6bd4\u4f8b\u653e\u5927 / \u7f29\u5c0f\u3002\u98de\u8239\u672c\u8eab\u662f\u4e00\u5806\u77e2\u91cf\u5f62\u5f0f\u7684\u7ebf\u6bb5\uff0c\u6211\u5728 PARC \u7684\u4e00\u4e9b\u540c\u4e8b\u5e2e\u52a9\u6211\u8fdb\u884c\u4e86\u8bbe\u8ba1\uff0c\u56e0\u6b64\u6bcf\u4e2a\u4eba\u7684\u98de\u8239\u90fd\u6709\u72ec\u7279\u7684\u5916\u89c2\u3002</p> <p>\u57fa\u672c\u4e0a\uff0c\u5982\u679c\u4e00\u4e2a\u4e1c\u897f\u9700\u8981\u5b9e\u65f6\u6570\u636e\u6d41\uff0c\u53c8\u65e0\u9700\u6570\u636e\u6309\u7167\u7cbe\u786e\u7684\u65f6\u5e8f\u4f20\u8f93\uff0c\u90a3\u4e48\u5b83\u5c31\u53ef\u4ee5\u4ece RTP \u4e2d\u53d7\u76ca\u3002\u56e0\u6b64\uff0c\u9664\u4e86\u97f3\u9891\u548c\u89c6\u9891\uff0c\u6211\u4eec\u8fd8\u53ef\u4ee5\u6784\u5efa\u5171\u4eab\u767d\u677f\u4e4b\u7c7b\u7684\u4e1c\u897f\u3002\u751a\u81f3\u4f7f\u7528 RTP \u8fdb\u884c\u6587\u4ef6\u4f20\u8f93\uff0c\u5c24\u5176\u662f\u4e0e IP \u591a\u64ad\u7ed3\u5408\u4f7f\u7528\u65f6\u3002</p> <p>\u8fd9\u5c31\u50cf BitTorrent\uff0c\u4f46\u662f\u4f60\u4e0d\u9700\u8981\u5728\u5bf9\u7b49\u65b9\u4e4b\u95f4\u70b9\u5bf9\u70b9\u5730\u4f20\u8f93\u6240\u6709\u6570\u636e\u3002\u539f\u59cb\u7684\u505a\u79cd\u8005\u53ef\u4ee5\u7acb\u5373\u5c06\u591a\u64ad\u6d41\u53d1\u9001\u5230\u6240\u6709\u63a5\u6536\u8005\uff0c\u5e76\u4e14\u901a\u8fc7\u6210\u529f\u63a5\u6536\u6570\u636e\u7684\u4efb\u4f55\u5bf9\u7b49\u65b9\u7684\u91cd\u53d1\uff0c\u5c31\u53ef\u4ee5\u5feb\u901f\u89e3\u51b3\u4f20\u8f93\u4e2d\u6570\u636e\u5305\u4e22\u5931\u7684\u95ee\u9898\u3002\u63a5\u6536\u8005\u751a\u81f3\u53ef\u4ee5\u786e\u5b9a\u91cd\u4f20\u8bf7\u6c42\u7684\u8303\u56f4\uff0c\u4ee5\u4fbf\u9644\u8fd1\u7684\u4e00\u4e9b\u5bf9\u7b49\u65b9\u80fd\u591f\u4f20\u9012\u6570\u636e\u7684\u526f\u672c\uff0c\u91cd\u4f20\u8bf7\u6c42\u4e5f\u53ef\u4ee5\u88ab\u591a\u64ad\u5230\u8be5\u533a\u57df\u4e2d\u7684\u5176\u4ed6\u8282\u70b9\uff0c\u56e0\u4e3a\u7f51\u7edc\u4e2d\u95f4\u7684\u6570\u636e\u5305\u4e22\u5931\u5f80\u5f80\u610f\u5473\u7740\u4e0b\u6e38\u6709\u5f88\u591a\u5ba2\u6237\u7aef\u9519\u8fc7\u4e86\u76f8\u540c\u7684\u6570\u636e\u3002</p>"},{"location":"webrtc/forcurious/010.html#_5","title":"\u4e3a\u4ec0\u4e48\u4f60\u5fc5\u987b\u5b9e\u73b0\u81ea\u5df1\u7684\u89c6\u9891\u538b\u7f29\u534f\u8bae\uff1f\u5f53\u65f6\u6ca1\u6709\u5176\u4ed6\u53ef\u7528\u7684\u4e1c\u897f\u4e86\u5417\uff1f","text":"<p>\u5728\u6211\u5f00\u59cb\u6784\u5efa \"nv\" \u65f6\uff0c\u6211\u6240\u77e5\u9053\u7684\u552f\u4e00\u8fdb\u884c\u89c6\u9891\u4f1a\u8bae\u7684\u7cfb\u7edf\u662f\u975e\u5e38\u6602\u8d35\u7684\u4e13\u7528\u786c\u4ef6\u3002\u4f8b\u5982\uff0cSteve Casner \u53ef\u4ee5\u4ece BBN \u8bbf\u95ee\u4e00\u4e2a\u540d\u4e3a \"DVC\"\uff08\u540e\u6765\u5546\u54c1\u5316\u4e3a \"PictureWindow\"\uff09\u7684\u7cfb\u7edf\u3002\u538b\u7f29\u9700\u8981\u4e13\u7528\u786c\u4ef6\uff0c\u4f46\u662f\u89e3\u538b\u7f29\u53ef\u4ee5\u901a\u8fc7\u8f6f\u4ef6\u5b8c\u6210\u3002\"nv\" \u4e4b\u6240\u4ee5\u4e0e\u4f17\u4e0d\u540c\uff0c\u662f\u56e0\u4e3a\u538b\u7f29\u548c\u89e3\u538b\u7f29\u90fd\u662f\u5728\u8f6f\u4ef6\u4e2d\u5b8c\u6210\u7684\uff0c\u552f\u4e00\u7684\u786c\u4ef6\u8981\u6c42\u662f\u5bf9\u8f93\u5165\u7684\u6a21\u62df\u89c6\u9891\u4fe1\u53f7\u8fdb\u884c\u6570\u5b57\u5316\u5904\u7406\u3002</p> <p>\u5f53\u65f6\uff0c\u6709\u5173\u5982\u4f55\u538b\u7f29\u89c6\u9891\u7684\u8bb8\u591a\u57fa\u672c\u6982\u5ff5\u5df2\u7ecf\u5b58\u5728\u4e86\uff0c\u8bf8\u5982 MPEG-1 \u6807\u51c6\u4e4b\u7c7b\u7684\u4e1c\u897f\u5927\u7ea6\u5728 \"nv\" \u51fa\u73b0\u7684\u540c\u65f6\u51fa\u73b0\uff0c\u4f46\u5728\u5f53\u65f6\u7edd\u5bf9\u4e0d\u53ef\u80fd\u4f7f\u7528 MPEG-1 \u8fdb\u884c\u5b9e\u65f6\u7f16\u7801\u3002\u6211\u6240\u505a\u7684\u66f4\u6539\u90fd\u662f\u5173\u4e8e\u5438\u6536\u8fd9\u4e9b\u57fa\u672c\u6982\u5ff5\u5e76\u4f7f\u7528\u66f4\u4fbf\u5b9c\u7684\u7b97\u6cd5\u5bf9\u5176\u8fdb\u884c\u8fd1\u4f3c\u6a21\u62df\uff0c\u5176\u4e2d\u6211\u907f\u514d\u4e86\u4f59\u5f26\u53d8\u6362\u548c\u6d6e\u70b9\u4e4b\u7c7b\u7684\u4e8b\u60c5\uff0c\u751a\u81f3\u907f\u514d\u4e86\u6574\u6570\u4e58\u6cd5\uff0c\u56e0\u4e3a\u5728 SPARC-stations \u4e0a\u8fd9\u4e9b\u8fd0\u7b97\u901f\u5ea6\u975e\u5e38\u6162\u3002\u6211\u5c3d\u91cf\u53ea\u8fdb\u884c\u52a0 / \u51cf\u6cd5\u3001\u4f4d\u5c4f\u853d\u548c\u79fb\u4f4d\uff0c\u8fd9\u6837\u53ef\u4ee5\u4f7f\u901f\u5ea6\u8db3\u591f\u5feb\uff0c\u5e76\u4f7f\u7ed3\u679c\u770b\u8d77\u6765\u4ecd\u50cf\u662f\u89c6\u9891\u3002</p> <p>\u5728 \"nv\" \u53d1\u5e03\u7684\u4e00\u4e24\u5e74\u4e4b\u5185\uff0c\u4e0d\u4ec5\u662f\u5728 MBONE \u7f51\u7edc\u4e0a\uff0c\u8fd8\u6709\u5176\u4ed6\u5730\u65b9\uff08\u5982 Mac \u4e0a\u7684 CU-SeeMe \u5de5\u5177\uff09\uff0c\u90fd\u51fa\u73b0\u4e86\u8bb8\u591a\u4e0d\u540c\u7684\u97f3\u89c6\u9891\u5de5\u5177\u53ef\u4f9b\u9009\u62e9\u3002\u5f88\u660e\u663e\u7684\uff0c\u5b9e\u65f6\u89c6\u9891\u7684\u65f6\u673a\u6210\u719f\u4e86\u3002\u4e8b\u5b9e\u4e0a\uff0c\u6211\u6700\u7ec8\u4f7f \"nv\" \u4e0e\u8bb8\u591a\u8fd9\u4e9b\u5de5\u5177\u4e92\u64cd\u4f5c\uff0c\u8fd8\u6709\u67d0\u4e9b\u5de5\u5177\u751a\u81f3\u91c7\u7528\u4e86 \"nv\" \u7f16\u89e3\u7801\u5668\uff0c\u4ee5\u4fbf\u5728\u4f7f\u7528\u538b\u7f29\u65b9\u6848\u65f6\u5b83\u4eec\u53ef\u4ee5\u4e92\u64cd\u4f5c\u3002</p>"},{"location":"webrtc/forcurious/010.html#webrtc_1","title":"WebRTC","text":"<p>WebRTC \u9700\u8981\u7684\u6807\u51c6\u5316\u5de5\u4f5c\u4f7f\u5f97\u672c\u7ae0\u4e2d\u63cf\u8ff0\u7684\u6240\u6709\u5176\u4ed6\u5de5\u4f5c\u90fd\u76f8\u5f62\u89c1\u7ecc\u3002\u5b83\u9700\u8981\u4e24\u4e2a\u4e0d\u540c\u7684\u6807\u51c6\u673a\u6784\uff08IETF \u548c W3C\uff09\uff0c\u4ee5\u53ca\u6765\u81ea\u8bb8\u591a\u516c\u53f8\u548c\u56fd\u5bb6\u7684\u6570\u4ee5\u767e\u8ba1\u7684\u4eba\u5458\u5408\u4f5c\u3002Serge Lachapelle\u4f1a\u8ddf\u6211\u4eec\u8c08\u8c08\u5b9e\u73b0 WebRTC \u7684\u521d\u59cb\u52a8\u673a\uff0c\u4ee5\u53ca\u5728\u5f00\u53d1\u8fc7\u7a0b\u4e2d\u6240\u4ed8\u51fa\u7684\u5de8\u5927\u7684\u52aa\u529b\u3002</p> <p>Serge \u662f Google \u7684\u4ea7\u54c1\u7ecf\u7406\uff0c\u76ee\u524d\u62c5\u4efb Google Workspace \u7684\u4ea7\u54c1\u7ecf\u7406\u3002\u4e0b\u9762\u662f\u6211\u603b\u7ed3\u540e\u7684\u91c7\u8bbf\u5185\u5bb9\u3002</p>"},{"location":"webrtc/forcurious/010.html#webrtc_2","title":"\u4ec0\u4e48\u4fc3\u4f7f\u4f60\u53c2\u4e0e WebRTC \uff1f","text":"<p>\u4ece\u5927\u5b66\u5f00\u59cb\uff0c\u6211\u5c31\u4e00\u76f4\u70ed\u8877\u4e8e\u6784\u5efa\u901a\u4fe1\u8f6f\u4ef6\u3002\u5728 90 \u5e74\u4ee3\uff0c\u50cfnv\u8fd9\u6837\u7684\u6280\u672f\u5f00\u59cb\u51fa\u73b0\uff0c\u4f46\u5f88\u96be\u4f7f\u7528\u3002\u6211\u521b\u5efa\u4e86\u4e00\u4e2a\u9879\u76ee\uff0c\u5b83\u5141\u8bb8\u4f60\u53ef\u4ee5\u76f4\u63a5\u4ece\u6d4f\u89c8\u5668\u52a0\u5165\u89c6\u9891\u901a\u8bdd\u3002\u6211\u4e5f\u5c06\u5b83\u79fb\u690d\u5230\u4e86 Windows\u3002</p> <p>\u6211\u628a\u8fd9\u6bb5\u7ecf\u5386\u5e26\u5230\u4e86\u6211\u5171\u540c\u521b\u7acb\u7684\u516c\u53f8 Marratech\u3002\u6211\u4eec\u6784\u5efa\u4e86\u7528\u4e8e\u7fa4\u7ec4\u89c6\u9891\u4f1a\u8bae\u7684\u8f6f\u4ef6\u3002\u4ece\u6280\u672f\u4e0a\u6765\u8bb2\uff0c\u5f53\u65f6\u7684\u613f\u666f\u4e0e\u73b0\u5728\u5927\u4e0d\u76f8\u540c\u3002\u5f53\u65f6\u7684\u89c6\u9891\u901a\u4fe1\u7684\u524d\u6cbf\u65b9\u5411\u662f\u4f7f\u7528\u591a\u64ad\u7f51\u7edc\u3002\u7528\u6237\u53ef\u4ee5\u4f9d\u9760\u7f51\u7edc\u5c06\u89c6\u9891\u6570\u636e\u5305\u4f20\u9001\u7ed9\u901a\u8bdd\u4e2d\u7684\u6bcf\u4e00\u4e2a\u4eba\u3002\u8fd9\u610f\u5473\u7740\u6211\u4eec\u7684\u670d\u52a1\u5668\u53ef\u4ee5\u975e\u5e38\u7b80\u5355\u3002\u4f46\u8fd9\u79cd\u505a\u6cd5\u5b58\u5728\u4e00\u4e2a\u5de8\u5927\u7684\u7f3a\u70b9\uff0c\u5fc5\u987b\u8bbe\u8ba1\u7f51\u7edc\u4ee5\u9002\u914d\u591a\u64ad\u6a21\u5f0f\u3002\u540e\u6765\uff0c\u8fd9\u4e2a\u884c\u4e1a\u4ece\u591a\u64ad\u8f6c\u5411\u4e86\u6570\u636e\u91cd\u7ec4\uff08packet shufflers\uff09\uff0c\u4e5f\u5c31\u662f\u73b0\u5728\u5927\u5bb6\u90fd\u77e5\u9053\u7684 SFU\u3002</p> <p>Marratech \u4e8e 2007 \u5e74\u88ab Google \u6536\u8d2d\u3002\u7136\u540e\u6211\u5f97\u4ee5\u7ee7\u7eed\u8fd9\u4e2a\u540e\u6765\u6210\u4e3a WebRTC \u7684\u9879\u76ee\u3002</p>"},{"location":"webrtc/forcurious/010.html#google","title":"\u5728 Google \u7684\u7b2c\u4e00\u4e2a\u9879\u76ee","text":"<p>WebRTC \u524d\u8eab\u56e2\u961f\uff08\u540e\u6765\u624d\u6709 WebRTC \u9879\u76ee\uff09\u53c2\u4e0e\u7684\u7b2c\u4e00\u4e2a\u9879\u76ee\u662f Gmail \u8bed\u97f3\u548c\u89c6\u9891\u804a\u5929\u3002\u5c06\u97f3\u9891\u548c\u89c6\u9891\u5bfc\u5165\u6d4f\u89c8\u5668\u5e76\u4e0d\u5bb9\u6613\u3002\u6211\u4eec\u9700\u8981\u4ece\u5404\u4e2a\u516c\u53f8\u83b7\u5f97\u7279\u5b9a\u529f\u80fd\u6a21\u5757\u7684\u8bb8\u53ef\u3002\u97f3\u9891\u6a21\u5757\u7531 GIP \u6388\u6743\uff0c\u89c6\u9891\u6a21\u5757\u7531 Vidyo \u6388\u6743\uff0c\u7f51\u7edc\u6a21\u5757\u7531 libjingle \u6388\u6743\u3002\u7136\u540e\uff0c\u6211\u4eec\u8981\u50cf\u53d8\u9b54\u672f\u4e00\u822c\u8ba9\u8fd9\u4e9b\u7ec4\u4ef6\u4e00\u8d77\u5de5\u4f5c\u3002</p> <p>\u6bcf\u4e2a\u5b50\u7cfb\u7edf\u90fd\u6709\u5b8c\u5168\u4e0d\u540c\u7684 API\uff0c\u800c\u4e14\u5b83\u4eec\u90fd\u662f\u4e3a\u4e86\u89e3\u51b3\u4e0d\u540c\u7684\u95ee\u9898\u800c\u8bbe\u8ba1\u7684\u3002\u4e3a\u4e86\u8ba9\u5b83\u4eec\u534f\u540c\u5de5\u4f5c\uff0c\u4f60\u9700\u8981\u540c\u65f6\u5177\u5907\u591a\u4e2a\u9886\u57df\u7684\u4e13\u4e1a\u77e5\u8bc6\uff0c\u4f8b\u5982\uff1a\u7f51\u7edc\u3001\u5bc6\u7801\u5b66\u3001\u5a92\u4f53\u7b49\u7b49\u3002 Justin Uberti\u662f\u8fd9\u9879\u5de5\u4f5c\u7684\u8d1f\u8d23\u4eba\u3002\u4ed6\u5c06\u8fd9\u4e9b\u7ec4\u4ef6\u7ec4\u5408\u5728\u4e00\u8d77\uff0c\u5f00\u53d1\u4e86\u4e00\u4e2a\u53ef\u7528\u7684\u4ea7\u54c1\u3002</p> <p>\u5728\u6d4f\u89c8\u5668\u4e2d\u505a\u5b9e\u65f6\u6e32\u67d3\u4e5f\u975e\u5e38\u56f0\u96be\u3002\u6211\u4eec\u4e0d\u5f97\u4e0d\u4f7f\u7528 NPAPI\uff08Netscape Plugin API\uff09\uff0c\u5e76\u505a\u4e86\u5f88\u591a\u521b\u65b0\u6027\u7684\u5de5\u4f5c\uff0c\u624d\u4f7f\u5176\u6700\u7ec8\u5f97\u4ee5\u5b9e\u73b0\u3002 \u4ece\u8fd9\u4e2a\u9879\u76ee\u4e2d\uff0c\u6211\u4eec\u5b66\u5230\u4e86\u5f88\u591a\u7ecf\u9a8c\u6559\u8bad\uff0c\u8fd9\u6781\u5927\u5730\u5f71\u54cd\u4e86 WebRTC\u3002</p>"},{"location":"webrtc/forcurious/010.html#chrome","title":"Chrome","text":"<p>\u4e0e\u6b64\u540c\u65f6\uff0cChrome \u9879\u76ee\u5728 Google \u5185\u90e8\u542f\u52a8\u3002Chrome \u5728\u9879\u76ee\u4e4b\u521d\u5c31\u62e5\u6709\u8fdc\u5927\u7684\u683c\u5c40\uff0c\u5e26\u6765\u4e86\u5f88\u591a\u4ee4\u4eba\u5174\u594b\u7684\u4e1c\u897f\uff0c\u7b80\u5355\u4e3e\u51e0\u4e2a\u4f8b\u5b50\uff0c\u6bd4\u5982 WebGL\u3001\u79bb\u7ebf\u5e94\u7528\u3001\u6570\u636e\u5e93\u529f\u80fd\u3001\u6e38\u620f\u4f4e\u5ef6\u8fdf\u8f93\u5165\u7b49\u7b49\u3002</p> <p>\u662f\u5426\u6452\u5f03 NPAPI \u662f\u5f53\u65f6\u7684\u4e00\u4e2a\u4e89\u8bba\u7126\u70b9\u3002\u5b83\u662f\u4e00\u4e2a\u5f3a\u5927\u7684 API\uff0c\u4f46\u4e5f\u5f15\u5165\u4e86\u8bf8\u591a\u7684\u5b89\u5168\u6027\u95ee\u9898\u3002Chrome \u4f7f\u7528\u6c99\u76d2\u8bbe\u8ba1\u6765\u786e\u4fdd\u7528\u6237\u5b89\u5168\u3002\u6f5c\u5728\u7684\u4e0d\u5b89\u5168\u64cd\u4f5c\u88ab\u9694\u79bb\u5728\u4e0d\u540c\u8fdb\u7a0b\u4e2d\u8fd0\u884c\u3002\u5373\u4f7f\u51fa\u73b0\u4e00\u4e9b\u95ee\u9898\uff0c\u653b\u51fb\u8005\u4e5f\u65e0\u6cd5\u8bbf\u95ee\u7528\u6237\u6570\u636e\u3002</p>"},{"location":"webrtc/forcurious/010.html#webrtc_3","title":"WebRTC \u8bde\u751f","text":"<p>\u6211\u7684\u4e2a\u4eba\u7406\u89e3\u662f\uff0c\u591a\u65b9\u9762\u7684\u56e0\u7d20\u548c\u8bc9\u6c42\uff0c\u6700\u7ec8\u4fc3\u6210\u4e86 WebRTC \u7684\u8bde\u751f\u3002</p> <p>\u6784\u5efa\u5b9e\u65f6\u901a\u4fe1\u8f6f\u4ef6\u4e0d\u5e94\u8be5\u5982\u6b64\u8270\u96be\u3002\u5f00\u53d1\u8005\u4eec\u8017\u8d39\u4e86\u5927\u91cf\u7684\u7cbe\u529b\u6765\u91cd\u65b0\u5b9e\u73b0\u76f8\u540c\u7684\u4e1c\u897f\u3002\u6211\u4eec\u5e94\u8be5\u4e00\u6b21\u6027\u89e3\u51b3\u8fd9\u4e9b\u4ee4\u4eba\u6cae\u4e27\u7684\u96c6\u6210\u95ee\u9898\uff0c\u7136\u540e\u5c31\u53ef\u4ee5\u4e13\u6ce8\u4e8e\u5176\u4ed6\u4e8b\u60c5\u3002</p> <p>\u4eba\u9645\u6c9f\u901a\u5e94\u8be5\u662f\u7545\u901a\u65e0\u963b\u7684\uff0c\u5e94\u8be5\u662f\u5f00\u653e\u7684\u3002\u4e3a\u4ec0\u4e48\u6587\u672c\u548c HTML \u53ef\u4ee5\u5728\u6d4f\u89c8\u5668\u91cc\u6253\u5f00\uff0c\u800c\u6211\u7684\u5b9e\u65f6\u97f3\u89c6\u9891\u5374\u4e0d\u80fd\u5462\uff1f</p> <p>\u5b89\u5168\u662f\u91cd\u4e2d\u4e4b\u91cd\u3002\u4f7f\u7528 NPAPI \u5bf9\u7528\u6237\u6765\u8bf4\u5e76\u4e0d\u662f\u6700\u597d\u7684\u3002\u56e0\u6b64\u8fd9\u4e5f\u662f\u4e00\u4e2a\u673a\u4f1a\uff0c\u8ba9\u6211\u4eec\u53ef\u4ee5\u521b\u5efa\u4e00\u4e2a\u9ed8\u8ba4\u5c31\u5f88\u5b89\u5168\u7684\u534f\u8bae\u3002</p> <p>\u4e3a\u4e86\u5b9e\u73b0 WebRTC\uff0cGoogle \u6536\u8d2d\u5e76\u5f00\u6e90\u4e86\u5f88\u591a\u6211\u4eec\u7528\u5230\u8fc7\u7684\u7ec4\u4ef6\uff0c\u5305\u62ecOn2\u7684\u89c6\u9891\u6280\u672f\u548c Global IP Solution\u7684 RTC \u6280\u672f\u3002\u6211\u8d1f\u8d23\u4e86\u5176\u4e2d GIPS \u7684\u6536\u8d2d\u5de5\u4f5c\u3002\u6211\u4eec\u5fc5\u987b\u5c06\u8fd9\u4e9b\u7ed3\u5408\u8d77\u6765\uff0c\u8ba9\u4ed6\u4eec\u5728\u6d4f\u89c8\u5668\u5185\u5916\u90fd\u80fd\u591f\u7b80\u5355\u6613\u7528\u3002</p>"},{"location":"webrtc/forcurious/010.html#_6","title":"\u6807\u51c6\u5316","text":"<p>WebRTC \u7684\u6807\u51c6\u5316\u662f\u6211\u4eec\u975e\u5e38\u60f3\u8981\u53bb\u505a\u7684\u4e00\u4ef6\u4e8b\u60c5\uff0c\u4f46\u6211\u4e4b\u524d\u6ca1\u6709\u505a\u8fc7\uff0c\u5f53\u65f6\u7684\u56e2\u961f\u4e2d\u4e5f\u6ca1\u6709\u4eba\u6709\u4efb\u4f55\u7ecf\u9a8c\u3002\u8fd9\u4e00\u70b9\u4e0a\uff0c\u6211\u4eec\u5f88\u5e78\u8fd0\u5f97\u5230\u4e86 Google \u7684 Harald Alvestrand \u7684\u52a0\u76df\u3002\u4ed6\u6b64\u524d\u5df2\u7ecf\u5728 IETF \u505a\u8fc7\u5f88\u591a\u5de5\u4f5c\uff0c\u5e76\u4e14\u542f\u52a8\u4e86 WebRTC \u7684\u6807\u51c6\u5316\u8fdb\u7a0b\u3002</p> <p>2010 \u5e74\u7684\u590f\u5929\uff0c\u5728 Maastricht \u4e3e\u529e\u4e86\u4e00\u6b21\u975e\u6b63\u5f0f\u7684\u5348\u9910\u4f1a\u3002\u8bb8\u591a\u516c\u53f8\u7684\u5f00\u53d1\u4eba\u5458\u4eec\u9f50\u805a\u4e00\u5802\uff0c\u8ba8\u8bba WebRTC \u5e94\u8be5\u662f\u4ec0\u4e48\u6837\u5b50\u7684\u3002\u9910\u684c\u4e0a\u6709\u6765\u81ea Google\u3001Cisco\u3001Ericsson\u3001Skype\u3001Mozilla\u3001Linden Labs \u7b49\u516c\u53f8\u7684\u5de5\u7a0b\u5e08\u3002\u4f60\u53ef\u4ee5\u5728rtc-web.alvestrand.com\u627e\u5230\u5b8c\u6574\u7684\u51fa\u5e2d\u4eba\u5458\u548c\u6f14\u793a\u7684\u5e7b\u706f\u7247\u3002</p> <p>Skype \u5f53\u65f6\u5df2\u7ecf\u5728 IETF \u5b8c\u6210\u4e86 Opus \u7684\u6807\u51c6\u5316\u5de5\u4f5c\uff0c\u4ed6\u4eec\u4e5f\u63d0\u4f9b\u4e86\u4e00\u4e9b\u5f88\u597d\u7684\u6307\u5bfc\u610f\u89c1\u3002</p>"},{"location":"webrtc/forcurious/010.html#_7","title":"\u7ad9\u5728\u5de8\u4eba\u7684\u80a9\u8180\u4e0a","text":"<p>\u5728 IETF \u7684\u5de5\u4f5c\u5b9e\u9645\u662f\u5bf9\u8fc7\u53bb\u4eba\u4eec\u5de5\u4f5c\u7684\u8fdb\u4e00\u6b65\u6269\u5c55\u3002 \u5bf9 WebRTC \u800c\u8a00\uff0c\u6211\u4eec\u975e\u5e38\u5e78\u8fd0\uff0c\u56e0\u4e3a\u5df2\u7ecf\u6709\u5f88\u591a\u73b0\u6709\u7684\u6280\u672f\u53ef\u4ee5\u4f7f\u7528\u3002\u6211\u4eec\u4e0d\u9700\u8981\u8d1f\u8d23\u6240\u6709\u7684\u95ee\u9898\uff0c\u56e0\u4e3a\u5f88\u591a\u95ee\u9898\uff08\u5728\u73b0\u6709\u7684\u6280\u672f\u4e0b\uff09\u5df2\u7ecf\u89e3\u51b3\u4e86\u3002\u4f46\u5982\u679c\u4f60\u4e0d\u559c\u6b22\u73b0\u6709\u7684\u6280\u672f\uff0c\u8fd9\u5c31\u53ef\u80fd\u6210\u4e3a\u4e00\u4e2a\u9ebb\u70e6\u7684\u95ee\u9898\u3002\u6211\u4eec\u4e00\u822c\u4e0d\u4f1a\u9009\u62e9\u91cd\u65b0\u9020\u8f6e\u5b50\uff0c\u9664\u975e\u6709\u7279\u522b\u5fc5\u8981\u7684\u7406\u7531\u3002</p> <p>\u6211\u4eec\u4e5f\u6709\u610f\u8bc6\u5730\u907f\u514d\u5bf9\u67d0\u4e9b\u4e1c\u897f\u91cd\u65b0\u6807\u51c6\u5316\uff0c\u6bd4\u5982\u4fe1\u4ee4\uff08signaling\uff09\u3002\u4fe1\u4ee4\u7684\u6807\u51c6\u5316\u5df2\u7ecf\u901a\u8fc7 SIP \u548c\u5176\u4ed6\u975e IETF \u7ec4\u7ec7\u7684\u52aa\u529b\u5f97\u5230\u4e86\u89e3\u51b3\uff0c\u5982\u679c\u91cd\u65b0\u5bf9\u5b83\u6807\u51c6\u5316\uff0c\u6700\u7ec8\u53ef\u80fd\u4f1a\u6f14\u53d8\u6210\u4e3a\u653f\u6cbb\u95ee\u9898\u3002\u8fd8\u6709\u6700\u672c\u8d28\u7684\u539f\u56e0\u662f\uff0c\u6211\u4eec\u89c9\u5f97\uff08\u5bf9\u5176\u91cd\u65b0\u6807\u51c6\u5316\uff09\u5e76\u4e0d\u4f1a\u521b\u9020\u4ec0\u4e48\u6709\u4ef7\u503c\u7684\u8d21\u732e\u3002</p> <p>\u6211\u6ca1\u6709\u50cf Justin \u548c Harald \u90a3\u6837\u5168\u7a0b\u53c2\u4e0e\u4e86\u6807\u51c6\u5316\u5de5\u4f5c\uff0c\u4e0d\u8fc7\u6211\u5f88\u4eab\u53d7\u53c2\u4e0e\u5176\u4e2d\u7684\u8fd9\u6bb5\u65f6\u5149\u3002\u5f53\u7136\uff0c\u56de\u6765\u91cd\u65b0\u4e3a\u7528\u6237\u521b\u9020\u4ea7\u54c1\u662f\u8ba9\u6211\u66f4\u5174\u594b\u7684\u4e8b\u3002</p>"},{"location":"webrtc/forcurious/010.html#_8","title":"\u672a\u6765","text":"<p>WebRTC \u5982\u4eca\u6b63\u5904\u4e8e\u4e00\u4e2a\u5f88\u597d\u7684\u4f4d\u7f6e\u3002\u521b\u65b0\u8fed\u4ee3\u5728\u8fd9\u4e2a\u9886\u57df\u4e0d\u65ad\u53d1\u751f\uff0c\u800c\u4e14\u8fd9\u4e9b\u521b\u65b0\u5e76\u6ca1\u6709\u5c40\u9650\u4e8e\u6211\u4eec\u66fe\u7ecf\u505a\u8fc7\u7684\u4e00\u5207\u3002</p> <p>\u6211\u6700\u5174\u594b\u7684\u662f\u4e91\u8ba1\u7b97\u5c06\u4f1a\u5982\u4f55\u5f71\u54cd\u901a\u4fe1\u6280\u672f\u3002\u4f7f\u7528\u9ad8\u7ea7\u7b97\u6cd5\uff0c\u6211\u4eec\u53ef\u4ee5\u4ece\u901a\u8bdd\u4e2d\u53bb\u9664\u80cc\u666f\u566a\u97f3\uff0c\u8fd9\u8ba9\u6211\u4eec\u5728\u4e00\u4e9b\u4ee5\u524d\u65e0\u6cd5\u6c9f\u901a\u7684\u573a\u666f\u4e0b\u901a\u4fe1\u6210\u4e3a\u53ef\u80fd\u3002\u6211\u4eec\u8fd8\u770b\u5230 WebRTC \u4e5f\u4e0d\u518d\u5c40\u9650\u4e8e\u901a\u4fe1\u2026\u2026\u8c01\u80fd\u60f3\u5230\u5b83\u5df2\u7ecf\u88ab\u5e94\u7528\u4e8e\u4e91\u6e38\u620f 9 \u5e74\u4e4b\u4e45\u4e86\u5462\uff1f\u5982\u679c\u6ca1\u6709 WebRTC \u4f5c\u4e3a\u57fa\u7840\uff0c\u8fd9\u4e00\u5207\u90fd\u662f\u4e0d\u53ef\u80fd\u5b9e\u73b0\u7684\u3002</p>"},{"location":"webrtc/forcurious/011.html","title":"\u5e38\u89c1\u95ee\u9898","text":"\u4e3a\u4ec0\u4e48 WebRTC \u4f7f\u7528 UDP\uff1f <p>NAT \u7a7f\u900f\u9700\u8981 UDP\u3002\u6ca1\u6709 NAT \u7a7f\u900f\uff0c\u5c31\u65e0\u6cd5\u5efa\u7acb P2P \u8fde\u63a5\u3002UDP \u4e0d\u50cf TCP \u90a3\u6837 \" \u4fdd\u8bc1\u9001\u8fbe \"\uff0c\u56e0\u6b64 WebRTC \u5728\u7528\u6237\u7ea7\u522b\u63d0\u4f9b\u8fd9\u4e00\u7279\u6027\u3002</p> <p>\u8981\u4e86\u89e3\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u8003 \u8fde\u63a5 \u7ae0\u8282\u3002</p> \u6570\u636e\u901a\u9053\u6700\u591a\u53ef\u4ee5\u6709\u51e0\u4e2a\uff1f <p>\u56e0\u4e3a\u6d41\u6807\u8bc6\u7b26\u6709 16 \u4f4d\uff0c\u6240\u4ee5\u6700\u591a\u6709 65534 \u4e2a\u901a\u9053\u3002\u4f60\u53ef\u4ee5\u968f\u65f6\u5173\u95ed\u518d\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u3002</p> WebRTC \u662f\u5426\u6709\u5e26\u5bbd\u9650\u5236\uff1f <p>\u6570\u636e\u901a\u9053\u548c RTP \u90fd\u4f7f\u7528\u62e5\u585e\u63a7\u5236\u3002\u8fd9\u610f\u5473\u7740 WebRTC \u4f1a\u4e3b\u52a8\u6d4b\u91cf\u4f60\u7684\u5e26\u5bbd\u5e76\u5c1d\u8bd5\u4f7f\u7528\u6700\u4f73\u6570\u503c\u3002\u8fd9\u662f\u4e00\u79cd\u5e73\u8861\u63aa\u65bd\uff0c\u8fd9\u6837\u53ef\u4ee5\u5c3d\u91cf\u53d1\u9001\u6570\u636e\uff0c\u800c\u4e0d\u4f1a\u4f7f\u7f51\u7edc\u8fde\u63a5\u8fc7\u8f7d\u3002</p> \u6211\u53ef\u4ee5\u53d1\u9001\u4e8c\u8fdb\u5236\u6570\u636e\u5417\uff1f <p>\u662f\u7684\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7\u6570\u636e\u901a\u9053\u53d1\u9001\u6587\u672c\u548c\u4e8c\u8fdb\u5236\u6570\u636e\u3002</p> WebRTC \u5ef6\u8fdf\u600e\u4e48\u6837\uff1f <p>\u5bf9\u4e8e\u672a\u4f5c\u8c03\u6574\u7684\u5a92\u4f53\uff0c\u4f30\u8ba1\u4e0d\u5230 500 \u6beb\u79d2\u3002\u5982\u679c\u4f60\u613f\u610f\u4e3a\u5ef6\u8fdf\u8c03\u6574\u6216\u727a\u7272\u97f3\u8d28 / \u753b\u8d28\uff0c\u6709\u5f00\u53d1\u4eba\u5458\u5c06\u5ef6\u8fdf\u964d\u5230\u4e86 100ms \u4ee5\u4e0b\u3002\u6570\u636e\u901a\u9053\u652f\u6301 \" \u90e8\u5206\u53ef\u9760\u6027 \" \u9009\u9879\uff0c\u8be5\u9009\u9879\u53ef\u4ee5\u51cf\u5c11\u7531\u4e8e\u6709\u635f\u8fde\u63a5\u4e0a\u7684\u6570\u636e\u91cd\u4f20\u800c\u5f15\u8d77\u7684\u5ef6\u8fdf\u3002\u5982\u679c\u914d\u7f6e\u6b63\u786e\u7684\u8bdd\uff0c\u901f\u5ea6\u53ef\u4ee5\u8d85\u8fc7 TCP TLS \u8fde\u63a5\u3002</p> \u4ec0\u4e48\u60c5\u51b5\u4e0b\u6211\u4f1a\u9700\u8981\u65e0\u5e8f\u4ea4\u4ed8\u7684\u6570\u636e\u901a\u9053\uff1f <p>\u6709\u65f6\uff0c\u65b0\u7684\u4fe1\u606f\u4f1a\u6dd8\u6c70\u65e7\u7684\u4fe1\u606f\uff08\u4f8b\u5982\u5bf9\u8c61\u7684\u4f4d\u7f6e\u4fe1\u606f\uff09\uff1b\u6216\u8005\uff0c\u6bcf\u4e2a\u6d88\u606f\u90fd\u662f\u5f7c\u6b64\u72ec\u7acb\u7684\uff0c\u5e76\u4e14\u4f60\u9700\u8981\u907f\u514d\u884c\u5934\u963b\u585e\u5ef6\u8fdf\u3002</p> \u6211\u53ef\u4ee5\u901a\u8fc7\u6570\u636e\u901a\u9053\u53d1\u9001\u97f3\u9891\u6216\u89c6\u9891\u5417\uff1f <p>\u662f\u7684\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7\u6570\u636e\u901a\u9053\u53d1\u9001\u4efb\u4f55\u6570\u636e\u3002\u5982\u679c\u662f\u5728\u6d4f\u89c8\u5668\u4e2d\u8fd9\u6837\u4f7f\u7528\uff0c\u4f60\u5c31\u9700\u8981\u81ea\u884c\u5bf9\u6570\u636e\u8fdb\u884c\u89e3\u7801\uff0c\u7136\u540e\u5c06\u5176\u4f20\u9012\u7ed9\u5a92\u4f53\u64ad\u653e\u5668\u8fdb\u884c\u6e32\u67d3\uff1b\u5728\u4f7f\u7528\u5a92\u4f53\u901a\u9053\u65f6\uff0c\u8fd9\u90e8\u5206\u662f\u81ea\u52a8\u5b8c\u6210\u7684\u3002</p>"},{"location":"webrtc/forcurious/012.html","title":"\u672f\u8bed","text":"<ul> <li>ACK: Acknowledgment  (\u786e\u8ba4\u62a5\u6587)</li> <li>AVP:  Audio and Video profile (\u97f3\u9891\u89c6\u9891\u63cf\u8ff0)</li> <li>B-Frame: Bi-directional Predicted Frame. A partial picture, is a modification of previous and future pictures. (\u53cc\u5411\u9884\u6d4b\u5e27\uff0c\u5b58\u50a8\u56fe\u7247\u7684\u90e8\u5206\u4fe1\u606f\uff0c\u5b58\u50a8\u7684\u662f\u76f8\u5bf9\u524d\u4e00\u5f20\u56fe\u7247\u548c\u540e\u4e00\u5f20\u56fe\u7247\u7684\u5dee\u5f02\u4fe1\u606f)</li> <li>DCEP: Data Channel Establishment Protocol defined in RFC 8832 (DataChannel \u5efa\u7acb\u534f\u8bae)</li> <li>DeMux: Demultiplexer (\u89e3\u590d\u7528\u5668)</li> <li>DLSR: delay since last sender report (\u4ece\u6700\u8fd1\u4e00\u4e2a Sender Report \u5f00\u59cb\u7684\u65f6\u95f4\u5ef6\u8fdf)</li> <li>DTLS: Datagram Transport Layer Security defined in RFC 6347 </li> <li>E2E: end-to-end</li> <li>FEC: Forward Error Correction (\u524d\u5411\u7ea0\u9519)</li> <li>FIR: Full INTRA-frame Request  (\u5b8c\u6574 I \u5e27\u8bf7\u6c42)</li> <li>G.711: A narrowband audio codec (\u4e00\u4e2a\u7a84\u5e26\u97f3\u9891\u7f16\u7801\u5668)</li> <li>H.264: Advanced video coding for generic audiovisual services  (\u9762\u5411\u901a\u7528\u89c6\u542c\u670d\u52a1\u7684\u9ad8\u7ea7\u89c6\u9891\u7f16\u7801)</li> <li>H.265: Conformance specification for ITU-T H.265 high efficiency video coding. (ITU-T H.265 \u9ad8\u6548\u89c6\u9891\u7f16\u7801\u7684\u4e00\u81f4\u6027\u89c4\u8303)</li> <li>HEVC: High Efficiency Video Coding (\u9ad8\u6548\u89c6\u9891\u7f16\u7801)</li> <li>HTTP: Hypertext Transfer Protocol (\u8d85\u6587\u672c\u4f20\u8f93\u534f\u8bae)</li> <li>HTTPS: HTTP Over TLS defined in RFC 2818  (\u57fa\u4e8e TLS \u7684 HTTP)</li> <li>I-Frame: Intra-coded Frame. A complete picture, can be decoded without anything else. (\u5185\u90e8\u7f16\u7801\u5e27\uff0c\u4fdd\u5b58\u5b8c\u6574\u56fe\u7247\u4fe1\u606f\uff0c\u81ea\u89e3\u7801\uff0c\u4e0d\u4f9d\u8d56\u5916\u90e8\u6570\u636e)</li> <li>ICE: Interactive Connectivity Establishment defined in RFC 8445  (\u4ea4\u4e92\u5f0f\u8fde\u63a5\u5efa\u7acb\u534f\u8bae)</li> <li>INIT: Initiate (\u521d\u59cb\u5316)</li> <li>IoT: Internet of Things (\u7269\u8054\u7f51)</li> <li>IPv4: Internet Protocol, Version 4 (\u7b2c\u56db\u4ee3\u56e0\u7279\u7f51\u534f\u8bae)</li> <li>IPv6: Internet Protocol, Version 6 (\u7b2c\u516d\u4ee3\u56e0\u7279\u7f51\u534f\u8bae)</li> <li>ITU-T: International Telecommunication Union Telecommunication Standardization Sector (\u56fd\u9645\u7535\u4fe1\u8054\u76df\u7535\u4fe1\u6807\u51c6\u5206\u5c40)</li> <li>JSEP: JavaScript Session Establishment Protocol defined in RFC 8829  (JavaScript \u4f1a\u8bdd\u5efa\u7acb\u534f\u8bae)</li> <li>MCU: Multi-point Conferencing Unit (\u591a\u70b9\u4f1a\u8bdd\u5355\u5143)</li> <li>mDNS: Multicast DNS defined in RFC 6762  (\u7ec4\u64ad DNS)</li> <li>MITM: Man-In-The-Middle </li> <li>MTU: Maximum Transmission Unit (\u6700\u5927\u4f20\u8f93\u5355\u5143)</li> <li>MUX: Multiplexing  (\u590d\u7528\uff0c\u4e00\u822c\u6307\u628a\u4e0d\u540c\u683c\u5f0f\u7684\u6570\u636e\u5408\u5e76\u5b58\u50a8\u6216\u4f20\u8f93)</li> <li>NACK: Negative Acknowledgment  (\u9006\u786e\u8ba4\u62a5\u6587\uff0cACK \u53cd\u9988\u6536\u5230\u62a5\u6587 ,NACK \u53cd\u9988\u672a\u6536\u5230\u62a5\u6587 )</li> <li>NAT: Network Address Translation defined in RFC 4787   (\u7f51\u7edc\u5730\u5740\u8f6c\u6362\uff0c\u57df\u540d\u5730\u5740\u8f6c\u6362\u6210 IP \u5730\u5740)</li> <li>Opus: A totally open, royalty-free, highly versatile audio codec (\u4e00\u4e2a\u5b8c\u5168\u5f00\u653e\u3001\u514d\u7248\u7a0e\u3001\u9ad8\u5ea6\u901a\u7528\u7684\u97f3\u9891\u7f16\u89e3\u7801\u5668)</li> <li>P-Frame: Predicted Frame. A partial picture, containing only changes from the previous picture. (\u524d\u5411\u9884\u6d4b\u5e27\uff0c\u53ea\u4fdd\u5b58\u76f8\u5bf9\u4e8e\u4e0a\u4e00\u5e27\u7684\u5dee\u5f02\u4fe1\u606f)</li> <li>P2P: peer-to-peer</li> <li>PLI: Picture Loss Indication  (\u56fe\u7247\u4e22\u5931\u6307\u793a)</li> <li>PPID: Payload Protocol Identifier  (Payload \u534f\u8bae\u6807\u8bc6)</li> <li>REMB: Receiver Estimated Maximum Bitrate (\u63a5\u6536\u7aef\u4f30\u8ba1\u7684\u6700\u5927\u6bd4\u7279\u7387)</li> <li>RFC: Request for Comments (\u5f81\u6c42\u610f\u89c1)</li> <li>RMCAT: RTP Media Congestion Avoidance Techniques  (RTP \u5a92\u4f53\u62e5\u585e\u907f\u514d\u6280\u672f)</li> <li>RR: Receiver Report (RCTP \u63a5\u6536\u8005\u62a5\u544a)</li> <li>RTCP: RTP Control Protocol defined in RFC 3550 (RTP \u63a7\u5236\u534f\u8bae)</li> <li>RTP: Real-time transport protocol defined in RFC 3550 (\u5b9e\u65f6\u4f20\u8f93\u534f\u8bae)</li> <li>RTT: Round-trip time  (\u5f80\u8fd4\u65f6\u95f4)</li> <li>SACK: Selective Acknowledgment (\u9009\u62e9\u6027\u786e\u8ba4)</li> <li>SCTP: Stream Control Transmission Protocol defined in RFC 4960 (\u6d41\u63a7\u4f20\u8f93\u534f\u8bae)</li> <li>SDP: Session Description Protocol defined in RFC 8866 (\u4f1a\u8bdd\u63cf\u8ff0\u534f\u8bae)</li> <li>SFU: Selective Forwarding Unit (\u9009\u62e9\u6027\u8f6c\u53d1\u5355\u5143)</li> <li>SR: Sender Report  (RCTP \u53d1\u9001\u8005\u62a5\u544a)</li> <li>SRTP: Secure Real-time Transport Protocol defined in RFC 3711 (\u5b89\u5168\u7684 RTP)</li> <li>SSRC: Synchronization Source (\u540c\u6b65\u6e90)</li> <li>STUN: Session Traversal Utilities for NAT defined in RFC 8489  (NAT \u4f1a\u8bdd\u7a7f\u900f)</li> <li>TCP: Transmission Control Protocol (\u4f20\u8f93\u63a7\u5236\u534f\u8bae)</li> <li>TLS: The Transport Layer Security defined in RFC 8446 (\u4f20\u8f93\u5c42\u5b89\u5168)</li> <li>TMMBN: Temporary Maximum Media Stream Bit Rate Notification (\u4e34\u65f6\u6700\u5927\u5a92\u4f53\u6d41\u6bd4\u7279\u7387\u901a\u77e5)</li> <li>TMMBR: Temporary Maximum Media Stream Bit Rate Request (\u4e34\u65f6\u6700\u5927\u5a92\u4f53\u6d41\u6bd4\u7279\u7387\u8bf7\u6c42)</li> <li>TSN: Transmission Sequence Number (\u4f20\u8f93\u5e8f\u5217\u53f7)</li> <li>TURN: Traversal Using Relays around NAT defined in RFC 8656 (\u57fa\u4e8e\u8f6c\u53d1\u7684 NAT \u7a7f\u900f)</li> <li>TWCC: Transport Wide Congestion Control (\u4f20\u8f93\u62e5\u585e\u63a7\u5236)</li> <li>UDP: User Datagram Protocol (\u6570\u636e\u62a5\u534f\u8bae)</li> <li>VP8, VP9: Highly-efficient video compression technologies (video \"codecs\") developed by the WebM Project. Anyone may use these codecs royalty-free.  (WebM \u9879\u76ee\u5f00\u53d1\u7684\u9ad8\u6548\u89c6\u9891\u538b\u7f29\u6280\u672f (\u89c6\u9891\u7f16\u89e3\u7801)\uff0c\u5b8c\u5168\u514d\u8d39)</li> <li>WebM: An open media file format designed for the web. (\u4e00\u4e2a\u5f00\u653e\u7684 Web \u5a92\u4f53\u6587\u4ef6\u683c\u5f0f)</li> <li>WebRTC: Web Real-Time Communications. W3C WebRTC 1.0: Real-Time Communication Between Browsers (Web \u5b9e\u65f6\u901a\u4fe1)</li> </ul>"},{"location":"webrtc/forcurious/013.html","title":"Reference","text":""},{"location":"webrtc/forcurious/013.html#webrtcw3c","title":"WebRTC(W3C)","text":"<ul> <li>WebRTC 1.0: Real-Time Communication Between Browsers [26 January 2021] (Status: Recommendation)</li> <li>Web Real-Time Communications Working Group - Publications</li> </ul>"},{"location":"webrtc/forcurious/013.html#webrtcrfc","title":"WebRTC(RFC)","text":"<ul> <li>RFC8825: Overview: Real-Time Protocols for Browser-Based Applications H. Alvestrand [January 2021] (Status: PROPOSED STANDARD)</li> <li>RFC8826: Security Considerations for WebRTC E. Rescorla [January 2021] (Status: PROPOSED STANDARD)</li> <li>RFC8836: Congestion Control Requirements for Interactive Real-Time Media R. Jesup, Z. Sarker [January 2021] (Status: INFORMATIONAL)</li> <li>RFC8854: WebRTC Forward Error Correction Requirements J. Uberti [January 2021] (Status: PROPOSED STANDARD)</li> </ul>"},{"location":"webrtc/forcurious/013.html#dtls","title":"DTLS","text":"<ul> <li>RFC6347: Datagram Transport Layer Security Version 1.2 E. Rescorla, N. Modadugu [January 2012] (Obsoletes RFC4347) (Obsoleted-By RFC9147) (Updated-By RFC7507, RFC7905, RFC8996, RFC9146) (Status: PROPOSED STANDARD)</li> <li>RFC9147: The Datagram Transport Layer Security (DTLS) Protocol Version 1.3 E. Rescorla, H. Tschofenig, N. Modadugu [April 2022] (Obsoletes RFC6347) (Status: PROPOSED STANDARD) (See also: OpenSSL DTLS 1.3 status)</li> </ul>"},{"location":"webrtc/forcurious/013.html#datachannel","title":"DataChannel","text":"<ul> <li>RFC8831: WebRTC Data Channels R. Jesup, S. Loreto, M. T\u00fcxen [January 2021] (Status: PROPOSED STANDARD)</li> <li>RFC8832: WebRTC Data Channel Establishment Protocol R. Jesup, S. Loreto, M. T\u00fcxen [January 2021] (Status: PROPOSED STANDARD)</li> <li>RFC8864: Negotiation Data Channels Using the Session Description Protocol (SDP) K. Drage, M. Makaraju, R. Ejzak, J. Marcon, R. Even [January 2021] (Status: PROPOSED STANDARD)</li> </ul>"},{"location":"webrtc/forcurious/013.html#mediatransport","title":"MediaTransport","text":"<ul> <li>RFC8834: Media Transport and Use of RTP in WebRTC C. Perkins, M. Westerlund, J. Ott [January 2021] (Status: PROPOSED STANDARD)</li> <li>RFC8837: Differentiated Services Code Point (DSCP) Packet Markings for WebRTC QoS P. Jones, S. Dhesikan, C. Jennings, D. Druta [January 2021] (Status: PROPOSED STANDARD)</li> </ul>"},{"location":"webrtc/forcurious/013.html#sctp","title":"SCTP","text":"<ul> <li>RFC3758: Stream Control Transmission Protocol (SCTP) Partial Reliability Extension R. Stewart, M. Ramalho, Q. Xie, M. Tuexen, P. Conrad [May 2004] (Status: PROPOSED STANDARD)</li> <li>RFC5061: Stream Control Transmission Protocol (SCTP) Dynamic Address Reconfiguration R. Stewart, Q. Xie, M. Tuexen, S. Maruyama, M. Kozuka [September 2007] (Status: PROPOSED STANDARD)</li> <li>RFC5827: Early Retransmit for TCP and Stream Control Transmission Protocol (SCTP) M. Allman, K. Avrachenkov, U. Ayesta, J. Blanton, P. Hurtig [May 2010] (Status: EXPERIMENTAL)</li> <li>RFC6083: Datagram Transport Layer Security (DTLS) for Stream Control Transmission Protocol (SCTP) M. Tuexen, R. Seggelmann, E. Rescorla [January 2011] (Updated-By RFC8996) (Status: PROPOSED STANDARD)</li> <li>RFC6525: Stream Control Transmission Protocol (SCTP) Stream Reconfiguration R. Stewart, M. Tuexen, P. Lei [February 2012] (Status: PROPOSED STANDARD)</li> <li>RFC6951: UDP Encapsulation of Stream Control Transmission Protocol (SCTP) Packets for End-Host to End-Host Communication M. Tuexen, R. Stewart [May 2013] (Updated-By RFC8899) (Status: PROPOSED STANDARD)</li> <li>RFC7765: TCP and Stream Control Transmission Protocol (SCTP) RTO Restart P. Hurtig, A. Brunstrom, A. Petlund, M. Welzl [February 2016] (Status: EXPERIMENTAL)</li> <li>RFC8260: Stream Schedulers and User Message Interleaving for the Stream Control Transmission Protocol R. Stewart, M. Tuexen, S. Loreto, R. Seggelmann [November 2017] (Status: PROPOSED STANDARD)</li> <li>RFC8261: Datagram Transport Layer Security (DTLS) Encapsulation of SCTP Packets M. Tuexen, R. Stewart, R. Jesup, S. Loreto [November 2017] (Updated-By RFC8899, RFC8996) (Status: PROPOSED STANDARD)</li> <li>RFC8841: Session Description Protocol (SDP) Offer/Answer Procedures for Stream Control Transmission Protocol (SCTP) over Datagram Transport Layer Security (DTLS) Transport C. Holmberg, R. Shpount, S. Loreto, G. Camarillo [January 2021] (Status: PROPOSED STANDARD)</li> <li>RFC8899: Packetization Layer Path MTU Discovery for Datagram Transports G. Fairhurst, T. Jones, M. T\u00fcxen, I. R\u00fcngeler, T. V\u00f6lker [September 2020] (Updates RFC4821, RFC4960, RFC6951, RFC8085, RFC8261) (Status: PROPOSED STANDARD)</li> <li>RFC9260: Stream Control Transmission Protocol R. Stewart, M. T\u00fcxen, K. Nielsen [June 2022] (Obsoletes RFC4460, RFC4960, RFC6096, RFC7053, RFC8540) (Status: PROPOSED STANDARD)</li> </ul>"},{"location":"webrtc/forcurious/013.html#sdp","title":"SDP","text":"<ul> <li>RFC8829: JavaScript Session Establishment Protocol (JSEP) J. Uberti, C. Jennings, E. Rescorla [January 2021] (Status: PROPOSED STANDARD)</li> <li>RFC8830: WebRTC MediaStream Identification in the Session Description Protocol H. Alvestrand [January 2021] (Status: PROPOSED STANDARD)</li> <li>RFC8839: Session Description Protocol (SDP) Offer/Answer Procedures for Interactive Connectivity Establishment (ICE) M. Petit-Huguenin, S. Nandakumar, C. Holmberg, A. Ker\u00e4nen, R. Shpount [January 2021] (Obsoletes RFC5245, RFC6336) (Status: PROPOSED STANDARD)</li> <li>RFC8841: Session Description Protocol (SDP) Offer/Answer Procedures for Stream Control Transmission Protocol (SCTP) over Datagram Transport Layer Security (DTLS) Transport C. Holmberg, R. Shpount, S. Loreto, G. Camarillo [January 2021] (Status: PROPOSED STANDARD)</li> <li>RFC8843: Negotiating Media Multiplexing Using the Session Description Protocol (SDP) C. Holmberg, H. Alvestrand, C. Jennings [January 2021] (Obsoleted-By RFC9143) (Updates RFC3264, RFC5888, RFC7941) (Status: PROPOSED STANDARD)</li> <li>RFC8844: Unknown Key-Share Attacks on Uses of TLS with the Session Description Protocol (SDP) M. Thomson, E. Rescorla [January 2021] (Updates RFC8122) (Status: PROPOSED STANDARD)</li> <li>RFC8851: RTP Payload Format Restrictions A.B. Roach [January 2021] (Updates RFC4855) (Status: PROPOSED STANDARD)</li> <li>RFC8852: RTP Stream Identifier Source Description (SDES) A.B. Roach, S. Nandakumar, P. Thatcher [January 2021] (Status: PROPOSED STANDARD)</li> <li>RFC8853: Using Simulcast in Session Description Protocol (SDP) and RTP Sessions B. Burman, M. Westerlund, S. Nandakumar, M. Zanaty [January 2021] (Status: PROPOSED STANDARD)</li> <li>RFC8866: SDP: Session Description Protocol A. Begen, P. Kyzivat, C. Perkins, M. Handley [January 2021] (Obsoletes RFC4566) (Status: PROPOSED STANDARD)</li> </ul>"},{"location":"webrtc/forcurious/013.html#rtp","title":"RTP","text":"<ul> <li>RFC3550: RTP: A Transport Protocol for Real-Time Applications H. Schulzrinne, S. Casner, R. Frederick, V. Jacobson [July 2003] (Obsoletes RFC1889) (Updated-By RFC5506, RFC5761, RFC6051, RFC6222, RFC7022, RFC7160, RFC7164, RFC8083, RFC8108, RFC8860) (Also STD0064) (Status: INTERNET STANDARD)</li> <li>RFC3611: RTP Control Protocol Extended Reports (RTCP XR) T. Friedman, R. Caceres, A. Clark [November 2003] (Status: PROPOSED STANDARD)</li> <li>RFC3711: The Secure Real-time Transport Protocol (SRTP) M. Baugher, D. McGrew, M. Naslund, E. Carrara, K. Norrman [March 2004] (Updated-By RFC5506, RFC6904) (Status: PROPOSED STANDARD)</li> <li>RFC4585: Extended RTP Profile for Real-time Transport Control Protocol (RTCP)-Based Feedback (RTP/AVPF) J. Ott, S. Wenger, N. Sato, C. Burmeister, J. Rey [July 2006] (Updated-By RFC5506, RFC8108) (Status: PROPOSED STANDARD)</li> <li>RFC5104: Codec Control Messages in the RTP Audio-Visual Profile with Feedback (AVPF) S. Wenger, U. Chandra, M. Westerlund, B. Burman [February 2008] (Updated-By RFC7728, RFC8082) (Status: PROPOSED STANDARD)</li> <li>RFC5764: Datagram Transport Layer Security (DTLS) Extension to Establish Keys for the Secure Real-time Transport Protocol (SRTP) D. McGrew, E. Rescorla [May 2010] (Updated-By RFC7983) (Status: PROPOSED STANDARD)</li> <li>RFC6904: Encryption of Header Extensions in the Secure Real-time Transport Protocol (SRTP) J. Lennox [April 2013] (Updates RFC3711) (Status: PROPOSED STANDARD)</li> <li>RFC7741: RTP Payload Format for VP8 Video P. Westin, H. Lundin, M. Glover, J. Uberti, F. Galligan [March 2016] (Status: PROPOSED STANDARD)</li> <li>RFC8285: A General Mechanism for RTP Header Extensions D. Singer, H. Desineni, R. Even [October 2017] (Obsoletes RFC5285) (Status: PROPOSED STANDARD)</li> <li>RFC8852: RTP Stream Identifier Source Description (SDES) A.B. Roach, S. Nandakumar, P. Thatcher [January 2021] (Status: PROPOSED STANDARD)</li> <li>RFC8858: Indicating Exclusive Support of RTP and RTP Control Protocol (RTCP) Multiplexing Using the Session Description Protocol (SDP) C. Holmberg [January 2021] (Updates RFC5761) (Status: PROPOSED STANDARD)</li> <li>RFC8860: Sending Multiple Types of Media in a Single RTP Session M. Westerlund, C. Perkins, J. Lennox [January 2021] (Updates RFC3550, RFC3551) (Status: PROPOSED STANDARD)</li> <li>RFC8867: Test Cases for Evaluating Congestion Control for Interactive Real-Time Media Z. Sarker, V. Singh, X. Zhu, M. Ramalho [January 2021] (Status: INFORMATIONAL)</li> <li>RFC8868: Evaluating Congestion Control for Interactive Real-Time Media V. Singh, J. Ott, S. Holmer [January 2021] (Status: INFORMATIONAL)</li> <li>RFC8869: Evaluation Test Cases for Interactive Real-Time Media over Wireless Networks Z. Sarker, X. Zhu, J. Fu [January 2021] (Status: INFORMATIONAL)</li> <li>RFC8872: Guidelines for Using the Multiplexing Features of RTP to Support Multiple Media Streams M. Westerlund, B. Burman, C. Perkins, H. Alvestrand, R. Even [January 2021] (Status: INFORMATIONAL)</li> <li>RFC8888: RTP Control Protocol (RTCP) Feedback for Congestion Control Z. Sarker, C. Perkins, V. Singh, M. Ramalho [January 2021] (Status: PROPOSED STANDARD)</li> </ul>"},{"location":"webrtc/forcurious/013.html#ice-turn-and-stun","title":"ICE, TURN and STUN","text":"<ul> <li>RFC5780: NAT Behavior Discovery Using Session Traversal Utilities for NAT (STUN) D. MacDonald, B. Lowekamp [May 2010] (Updated-By RFC8553) (Status: EXPERIMENTAL)</li> <li>RFC8445: Interactive Connectivity Establishment (ICE): A Protocol for Network Address Translator (NAT) Traversal A. Keranen, C. Holmberg, J. Rosenberg [July 2018] (Obsoletes RFC5245) (Updated-By RFC8863) (Status: PROPOSED STANDARD)</li> <li>RFC8489: Session Traversal Utilities for NAT (STUN) M. Petit-Huguenin, G. Salgueiro, J. Rosenberg, D. Wing, R. Mahy, P. Matthews [February 2020] (Obsoletes RFC5389) (Status: PROPOSED STANDARD)</li> <li>RFC8656: Traversal Using Relays around NAT (TURN): Relay Extensions to Session Traversal Utilities for NAT (STUN) T. Reddy, A. Johnston, P. Matthews, J. Rosenberg [February 2020] (Obsoletes RFC5766, RFC6156) (Status: PROPOSED STANDARD)</li> <li>RFC8835: Transports for WebRTC H. Alvestrand [January 2021] (Status: PROPOSED STANDARD)</li> <li>RFC8838: Trickle ICE: Incremental Provisioning of Candidates for the Interactive Connectivity Establishment (ICE) Protocol E. Ivov, J. Uberti, P. Saint-Andre [January 2021] (Updated-By RFC8863) (Status: PROPOSED STANDARD)</li> <li>RFC8839: Session Description Protocol (SDP) Offer/Answer Procedures for Interactive Connectivity Establishment (ICE) M. Petit-Huguenin, S. Nandakumar, C. Holmberg, A. Ker\u00e4nen, R. Shpount [January 2021] (Obsoletes RFC5245, RFC6336) (Status: PROPOSED STANDARD)</li> <li>RFC8863: Interactive Connectivity Establishment Patiently Awaiting Connectivity (ICE PAC) C. Holmberg, J. Uberti [January 2021] (Updates RFC8445, RFC8838) (Status: PROPOSED STANDARD)</li> </ul>"},{"location":"webrtc/jsapi/001.html","title":"\u6982\u8ff0\u53ca\u73af\u5883\u642d\u5efa\uff08\u4e00\uff09","text":""},{"location":"webrtc/jsapi/001.html#_1","title":"\u4e00\u3001\u4ecb\u7ecd","text":"<p>WebRTC\u662f\u4e00\u4e2a\u652f\u6301Web\u7aef\u4ee5\u53ca\u539f\u751fapp\u8fdb\u884c\u5b9e\u65f6\u8bed\u97f3\u3001\u89c6\u9891\u548c\u6570\u636e\u4f20\u8f93\u7684\u5f00\u6e90\u9879\u76ee\u3002</p> <p>WebRTC\u6709\u51e0\u4e2aJavaScript API - \u5355\u51fb\u94fe\u63a5\u67e5\u770b\u6f14\u793a\u3002</p> <ul> <li>getUserMedia(): \u97f3\u9891\u548c\u89c6\u9891\u6355\u83b7</li> <li>MediaRecorder: \u97f3\u9891\u548c\u89c6\u9891\u5f55\u5236</li> <li>RTCPeerConnection: \u7528\u6237\u4e4b\u95f4\u7684\u97f3\u9891\u548c\u89c6\u9891\u6d41</li> <li>RTCDataChannel: \u7528\u6237\u4e4b\u95f4\u7684\u6570\u636e\u901a\u9053</li> </ul> <p>WebRTC \u53ef\u8fd0\u884c\u8bbe\u5907\uff1f</p> <p>\u5728Firefox\uff0cOpera\u548c\u684c\u9762\u548cAndroid\u4e0a\u7684Chrome\u3002 WebRTC\u4e5f\u53ef\u7528\u4e8eiOS\u548cAndroid\u4e0a\u7684\u672c\u673a\u5e94\u7528\u7a0b\u5e8f\u3002</p> <p>\u4ec0\u4e48\u662f\u4fe1\u4ee4\uff1f</p> <p>WebRTC\u4f7f\u7528RTCPeerConnection\u5728\u6d4f\u89c8\u5668\u4e4b\u95f4\u4f20\u9012\u6d41\u6570\u636e\uff0c\u4f46\u4e5f\u9700\u8981\u4e00\u79cd\u534f\u8c03\u901a\u4fe1\u548c\u53d1\u9001\u63a7\u5236\u6d88\u606f\u7684\u673a\u5236\uff0c\u8fd9\u4e00\u8fc7\u7a0b\u79f0\u4e3a\u4fe1\u4ee4\u3002 WebRTC\u6ca1\u6709\u6307\u5b9a\u4fe1\u4ee4\u5b9e\u73b0\u7684\u65b9\u6cd5\u548c\u534f\u8bae\u3002 \u5728\u672c\u6587\u7ae0\u4e2d\uff0c\u6211\u4eec\u5c06\u4f7f\u7528http://Socket.IO\u8fdb\u884c\u6d88\u606f\u4f20\u9012\uff0c\u4f46\u662f\u8fd8\u6709\u5f88\u591a\u9009\u62e9\u3002</p> <p>\u4ec0\u4e48\u662f STUN \u548c TURN?</p> <p>WebRTC\u88ab\u8bbe\u8ba1\u4e3a\u70b9\u5bf9\u70b9\u901a\u4fe1\uff0c\u56e0\u6b64\u7528\u6237\u53ef\u4ee5\u901a\u8fc7\u6700\u76f4\u63a5\u7684\u8def\u7ebf\u8fdb\u884c\u8fde\u63a5\u3002 \u4f46\u662f\uff0cWebRTC\u662f\u4e3a\u4e86\u5e94\u5bf9\u771f\u5b9e\u4e16\u754c\u7684\u7f51\u7edc\u800c\u6784\u5efa\u7684\uff1a\u5ba2\u6237\u7aef\u5e94\u7528\u7a0b\u5e8f\u9700\u8981\u7a7f\u8d8aNAT\u7f51\u5173\u548c\u9632\u706b\u5899\uff0c\u5e76\u4e14\u5728\u76f4\u63a5\u8fde\u63a5\u5931\u8d25\u7684\u60c5\u51b5\u4e0b\u9700\u8981\u5bf9\u7b49\u7f51\u7edc\u9700\u6c42\u56de\u9000\u3002 \u4f5c\u4e3a\u8be5\u8fc7\u7a0b\u7684\u4e00\u90e8\u5206\uff0cWebRTC API\u4f7f\u7528STUN\u670d\u52a1\u5668\u6765\u83b7\u53d6\u60a8\u7684\u8ba1\u7b97\u673a\u7684IP\u5730\u5740\uff0c\u5e76\u4e14\u5728\u5bf9\u7b49\u901a\u4fe1\u5931\u8d25\u7684\u60c5\u51b5\u4e0b\u4f7fTURN\u670d\u52a1\u5668\u5145\u5f53\u4e2d\u7ee7\u670d\u52a1\u5668\u3002\uff08WebRTC\u66f4\u8be6\u7ec6\u89e3\u91ca\uff09</p> <p>WebRTC\u662f\u5426\u5b89\u5168\uff1f</p> <p>\u6240\u6709WebRTC\u7ec4\u4ef6\u90fd\u5fc5\u987b\u4f7f\u7528\u52a0\u5bc6\uff0c\u5e76\u4e14\u53ea\u80fd\u4f7f\u7528\u5b89\u5168\u6765\u6e90\uff08HTTPS\u6216\u672c\u5730\u4e3b\u673a\uff09\u7684JavaScript API\u3002 \u4fe1\u4ee4\u673a\u5236\u5e76\u4e0d\u662f\u7531WebRTC\u6807\u51c6\u5b9a\u4e49\u7684\uff0c\u6240\u4ee5\u60a8\u5fc5\u987b\u786e\u4fdd\u4f7f\u7528\u5b89\u5168\u7684\u534f\u8bae\u3002</p>"},{"location":"webrtc/jsapi/001.html#_2","title":"\u4e8c\u3001\u6982\u8ff0","text":"<p>\u672c\u6587\u7ae0\u4f1a\u6784\u5efa\u4e00\u4e2a\u6355\u83b7\u6444\u50cf\u5934\u89c6\u9891\u7684\u5e94\u7528\u7a0b\u5e8f\uff0c\u7136\u540e\u901a\u8fc7WebRTC\u70b9\u5bf9\u70b9\u5206\u4eab\u3002 \u5728\u8fd9\u8fc7\u7a0b\u4e2d\uff0c\u6211\u4eec\u5c06\u5b66\u4e60\u5982\u4f55\u4f7f\u7528WebRTC \u6838\u5fc3 API\uff0c\u5e76\u4f7f\u7528Node.js\u4f5c\u4e3a\u6d88\u606f\u670d\u52a1\u5668\u3002</p> <p>\u4f60\u4f1a\u5b66\u5230\u4ec0\u4e48\uff1f</p> <ul> <li>\u4ece\u60a8\u7684\u6444\u50cf\u5934\u83b7\u53d6\u89c6\u9891</li> <li>\u4f7f\u7528RTCPeerConnection\u4f20\u8f93\u89c6\u9891\u6d41</li> <li>\u4f7f\u7528RTCDataChannel\u4f20\u8f93\u6570\u636e\u6d41</li> <li>\u8bbe\u7f6e\u4e00\u4e2a\u4fe1\u4ee4\u670d\u52a1\u6765\u4ea4\u6362\u6d88\u606f</li> <li>\u6574\u5408\u4fe1\u4ee4\u548c\u5bf9\u7b49\u8fde\u63a5</li> <li>\u62cd\u7167\u5e76\u901a\u8fc7\u6570\u636e\u901a\u9053\u5206\u4eab</li> </ul> <p>\u4f60\u9700\u8981\u51c6\u5907\u4ec0\u4e48\uff1f</p> <ul> <li>Chrome 47\u6216\u4ee5\u4e0a</li> <li>Web Server for Chrome\uff0c\u6216\u4f7f\u7528\u60a8\u81ea\u5df1\u7684Web\u670d\u52a1\u5668</li> <li>\u793a\u4f8b\u4ee3\u7801</li> <li>\u4e00\u4e2a\u6587\u672c\u7f16\u8f91\u5668</li> <li>HTML\uff0cCSS\u548cJavaScript\u7684\u57fa\u7840\u77e5\u8bc6</li> </ul>"},{"location":"webrtc/jsapi/001.html#_3","title":"\u4e09\u3001\u83b7\u53d6\u793a\u4f8b\u4ee3\u7801","text":"<p>\u4e0b\u8f7d\u4ee3\u7801</p> <p>\u5982\u679c\u60a8\u719f\u6089git\uff0c\u53ef\u4ee5\u901a\u8fc7\u514b\u9686\u6765\u4eceGitHub\u4e0b\u8f7d\u8fd9\u4e2a\u5b9e\u9a8c\u7684\u4ee3\u7801\uff1a <pre><code>git clone https://github.com/googlecodelabs/webrtc-web\n</code></pre> \u6216\u8005\uff0c\u70b9\u51fb\u4e0b\u8fb9\u7684\u94fe\u63a5\u4e0b\u8f7d.zip\u6587\u4ef6\u7684\u4ee3\u7801</p> <p>\u70b9\u6211\u4e0b\u8f7d</p> <p>\u6253\u5f00\u4e0b\u8f7d\u7684zip\u6587\u4ef6\u3002 \u5c06\u4f1a\u770b\u5230\u4e00\u4e2a\u9879\u76ee\u6587\u4ef6\u5939\uff08adaptive-web-media\uff09\uff0c\u8be5\u6587\u4ef6\u5939\u5305\u542b\u6b64\u5b9e\u9a8c\u6bcf\u4e00\u6b65\u7684\u6587\u4ef6\u5939\u4ee5\u53ca\u6240\u6709\u60a8\u9700\u8981\u7684\u8d44\u6e90\u3002</p> <p>\u60a8\u5c06\u5728\u540d\u5b57\u4e3awork\u7684\u76ee\u5f55\u4e2d\u5b8c\u6210\u6240\u6709\u7684\u7f16\u7801\u5de5\u4f5c\u3002</p> <p>step-nn\u6587\u4ef6\u5939\u5305\u542b\u6b64\u5b9e\u9a8c\u6bcf\u4e2a\u6b65\u9aa4\u7684\u5b8c\u6210\u7248\u672c\uff0c\u4ee5\u4f9b\u53c2\u8003\u3002</p> <p>\u5b89\u88c5\u5e76\u9a8c\u8bc1Web\u670d\u52a1\u5668</p> <p>\u867d\u7136\u60a8\u53ef\u4ee5\u4f7f\u7528\u81ea\u5df1\u7684web\u670d\u52a1\u5668\uff0c\u4f46\u662f\u8fd9\u4e2a\u5b9e\u9a8c\u8fd8\u53ef\u4ee5\u4e0eChrome Web Server\u914d\u5408\u4f7f\u7528\u3002 \u5982\u679c\u60a8\u5c1a\u672a\u5b89\u88c5\u8be5\u5e94\u7528\uff0c\u5219\u53ef\u4ee5\u4eceChrome\u7f51\u4e0a\u5e94\u7528\u5e97\u5b89\u88c5\u3002</p> <p></p> <p></p> <p>\u5728\u5b89\u88c5\u9002\u7528\u4e8eChrome\u7684Web\u670d\u52a1\u5668\u5e94\u7528\u7a0b\u5e8f\u540e\uff0c\u70b9\u51fb\u65b0\u6807\u7b7e\u9875\u6216\u5e94\u7528\u7a0b\u5e8f\u542f\u52a8\u5668\u4e2d\u7684Chrome\u5e94\u7528\u7a0b\u5e8f\u5feb\u6377\u65b9\u5f0f\uff1a</p> <p></p> <p></p> <p>\u70b9\u51fbWeb Server \u56fe\u6807:</p> <p></p> <p></p> <p>\u63a5\u4e0b\u6765\uff0c\u4f60\u4f1a\u770b\u5230\u8fd9\u4e2a\u5bf9\u8bdd\u6846\uff0c\u5b83\u5141\u8bb8\u4f60\u914d\u7f6e\u4f60\u7684\u672c\u5730Web\u670d\u52a1\u5668\uff1a</p> <p></p> <p></p> <p>\u70b9\u51fbCHOOSE FOLDER\u6309\u94ae\uff0c\u7136\u540e\u9009\u62e9\u521a\u521b\u5efa\u7684\u5de5\u4f5c\u6587\u4ef6\u5939\u3002 \u60a8\u5c06\u80fd\u591f\u901a\u8fc7\u201c Web Server URL(s) \u201d\u9009\u9879\u4e2d\u7a81\u51fa\u663e\u793a\u7684URL\u6765\u67e5\u770bChrome\u4e2d\u6b63\u5728\u8fdb\u884c\u7684\u5de5\u4f5c\u3002</p> <p>\u5728\u9009\u9879\u4e0b\uff0c\u9009\u4e2d\u81ea\u52a8\u663e\u793aindex.html\u65c1\u8fb9\u7684\u590d\u9009\u6846\uff0c\u5982\u4e0b\u6240\u793a\uff1a</p> <p></p> <p></p> <p>\u505c\u6b62\u5e76\u91cd\u65b0\u542f\u52a8\u670d\u52a1\u5668\uff0c\u65b9\u6cd5\u662f\u6ed1\u52a8\u6807\u6709\u201cWeb Server: STARTED \u201d\u7684\u5207\u6362\u6309\u94ae\u5230\u5de6\u4fa7\uff0c\u7136\u540e\u8fd4\u56de\u5230\u53f3\u4fa7\u3002</p> <p></p> <p></p> <p>\u73b0\u5728\u901a\u8fc7\u5355\u51fb\u7a81\u51fa\u663e\u793a\u7684Web\u670d\u52a1\u5668URL\uff0c\u5728Web\u6d4f\u89c8\u5668\u4e2d\u8bbf\u95ee\u60a8\u7684\u5de5\u4f5c\u7ad9\u70b9\u3002 \u5e94\u8be5\u770b\u5230\u4e00\u4e2a\u50cf\u8fd9\u6837\u7684\u9875\u9762\uff0c\u5b83\u5bf9\u5e94\u4e8ework/index.html\uff1a</p> <p></p> <p></p> <p>\u663e\u7136\uff0c\u8fd9\u4e2a\u5e94\u7528\u7a0b\u5e8f\u8fd8\u6ca1\u6709\u505a\u4efb\u4f55\u6709\u8da3\u7684\u4e8b\u60c5 - \u5230\u76ee\u524d\u4e3a\u6b62\uff0c\u8fd9\u53ea\u662f\u6211\u4eec\u7528\u6765\u786e\u4fdd\u60a8\u7684Web\u670d\u52a1\u5668\u6b63\u5e38\u5de5\u4f5c\u7684\u6700\u5c0f\u9aa8\u67b6\u3002 \u60a8\u5c06\u5728\u968f\u540e\u7684\u6b65\u9aa4\u4e2d\u6dfb\u52a0\u529f\u80fd\u548c\u5e03\u5c40\u529f\u80fd\u3002</p>"},{"location":"webrtc/jsapi/002.html","title":"\u4ece\u6444\u50cf\u5934\u83b7\u53d6\u89c6\u9891\u6d41\uff08\u4e8c\uff09","text":"<p>\u4f60\u4f1a\u5b66\u5230\u4ec0\u4e48</p> <p>\u5728\u8fd9\u4e00\u6b65\u4e2d\uff0c\u60a8\u5c06\u4e86\u89e3\uff1a</p> <ul> <li>\u4ece\u60a8\u7684\u6444\u50cf\u5934\u83b7\u53d6\u89c6\u9891\u6d41</li> <li>\u64cd\u7eb5\u6d41\u64ad\u653e</li> <li>\u4f7f\u7528CSS\u548cSVG\u6765\u5904\u7406\u89c6\u9891</li> </ul> <p>\u6b64\u6b65\u9aa4\u7684\u5b8c\u6574\u7248\u672c\u4f4d\u4e8estep-01\u6587\u4ef6\u5939\u4e2d\u3002</p> <p>\u4e00\u5c0f\u6bb5HTML\u4ee3\u7801</p> <p>\u5c06video\u5143\u7d20\u548cjavascript\u5143\u7d20\u6dfb\u52a0\u5230\u5de5\u4f5c\u76ee\u5f55\u4e2d\u7684index.html\u6587\u4ef6\uff1a <pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;title&gt;Realtime communication with WebRTC&lt;/title&gt;\n&lt;link rel=\"stylesheet\" href=\"css/main.css\" /&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;h1&gt;Realtime communication with WebRTC&lt;/h1&gt;\n&lt;video autoplay&gt;&lt;/video&gt;\n&lt;script src=\"js/main.js\"&gt;&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre></p> <p>\u5c11\u91cfJavaScript</p> <p>\u5c06\u4ee5\u4e0b\u5185\u5bb9\u6dfb\u52a0\u5230js\u6587\u4ef6\u5939\u7684main.js\u6587\u4ef6\u4e2d\uff1a <pre><code>'use strict';\nnavigator.getUserMedia = navigator.getUserMedia ||\nnavigator.webkitGetUserMedia || navigator.mozGetUserMedia;\nvar constraints = {\naudio: false,\nvideo: true\n};\nvar video = document.querySelector('video');\nfunction successCallback(stream) {\nwindow.stream = stream; // stream available to console\nif (window.URL) {\nvideo.src = window.URL.createObjectURL(stream);\n} else {\nvideo.src = stream;\n}\n}\nfunction errorCallback(error) {\nconsole.log('navigator.getUserMedia error: ', error);\n}\nnavigator.getUserMedia(constraints, successCallback, errorCallback);\n</code></pre></p> <p>\u8fd9\u91cc\u7684\u6240\u6709JavaScript\u793a\u4f8b\u90fd\u4f7f\u7528\u201cuse strict\u201d; \u907f\u514d\u5e38\u89c1\u7684\u7f16\u7801\u95ee\u9898\u3002\u8be6\u7ec6\u8bf7\u4e86\u89e3ECMAScript 5 Strict Mode\uff0cJSON\u548c\u66f4\u591a\u5185\u5bb9\u3002</p> <p>Try it out</p> <p>\u5728\u4f60\u7684\u6d4f\u89c8\u5668\u4e2d\u6253\u5f00index.html\uff0c\u4f60\u4f1a\u770b\u5230\u7c7b\u4f3c\u7684\u4e1c\u897f\uff08\u5f53\u7136\u8fd8\u5305\u62ec\u4f60\u7684\u6444\u50cf\u5934\u7684\u89c6\u56fe\uff01\uff09\uff1a</p> <p></p> <p></p> <p>\u8fd0\u884c\u539f\u7406</p> <p>getUserMedia()\u662f\u8fd9\u6837\u8c03\u7528\u7684\uff1a</p> <pre><code>navigator.getUserMedia(constraints, successCallback, errorCallback);\n</code></pre> <p>\u8fd9\u9879\u6280\u672f\u8fd8\u662f\u6bd4\u8f83\u65b0\u7684\uff0c\u6240\u4ee5\u6d4f\u89c8\u5668\u4ecd\u7136\u4f7f\u7528getUserMedia\u7684\u524d\u7f00\u540d\u79f0\u3002 \u5728main.js\u7684\u9876\u90e8\u586b\u5145\u6b64\u4ee3\u7801\uff01</p> <p>constraints\u53c2\u6570\u5141\u8bb8\u60a8\u6307\u5b9a\u8981\u83b7\u53d6\u7684\u5a92\u4f53 - \u5728\u672c\u4f8b\u4e2d\u4e3a\u89c6\u9891\u800c\u4e0d\u662f\u97f3\u9891\uff1a <pre><code>var constraints = {\naudio: false,\nvideo: true\n};\n</code></pre></p> <p>\u5982\u679cgetUserMedia()\u8c03\u7528\u6210\u529f\uff0c\u5219\u6444\u50cf\u5934\u7684\u89c6\u9891\u6d41\u5c06\u88ab\u8bbe\u7f6e\u4e3a\u89c6\u9891\u5143\u7d20\u7684source\uff1a <pre><code>function successCallback(stream) {\nwindow.stream = stream; // stream available to console\nif (window.URL) {\nvideo.src = window.URL.createObjectURL(stream);\n} else {\nvideo.src = stream;\n}\n}\n</code></pre></p> <p>\u77e5\u8bc6\u6269\u5c55\uff1a</p> <ul> <li>\u4f20\u9012\u7ed9getUserMedia()\u7684\u6d41\u5bf9\u8c61\u5728\u5168\u5c40\u8303\u56f4\u5185\uff0c\u56e0\u6b64\u60a8\u53ef\u4ee5\u4ece\u6d4f\u89c8\u5668\u63a7\u5236\u53f0\u68c0\u67e5\u5b83\uff1a\u6253\u5f00\u63a7\u5236\u53f0\uff0c\u952e\u5165\u6d41\u5e76\u6309\u56de\u8f66\u952e\u3002 \uff08\u8981\u5728Chrome\u4e2d\u67e5\u770b\u63a7\u5236\u53f0\uff0c\u8bf7\u6309Ctrl-Shift-J\u6216Command-Option-J\uff08\u5047\u5982\u4f60\u662fMac\uff09</li> <li>stream.getVideoTracks() \u8fd4\u56de\u4ec0\u4e48\uff1f</li> <li>\u5c1d\u8bd5\u8c03\u7528stream.getVideoTracks()[0].stop()\u3002</li> <li>\u67e5\u770bconstraints\u5bf9\u8c61\uff1a\u5c06\u5176\u66f4\u6539\u4e3a {audio\uff1atrue\uff0cvideo\uff1atrue} \u65f6\u4f1a\u53d1\u751f\u4ec0\u4e48\uff1f</li> <li>\u89c6\u9891\u5143\u7d20\u7684\u5927\u5c0f\u662f\u591a\u5c11\uff1f \u5982\u4f55\u4eceJavaScript\u83b7\u5f97\u89c6\u9891\u7684\u81ea\u7136\u5927\u5c0f\uff0c\u800c\u4e0d\u662f\u663e\u793a\u5927\u5c0f\uff1f \u4f7f\u7528Chrome\u5f00\u53d1\u5de5\u5177\u8fdb\u884c\u68c0\u67e5\u3002</li> <li>\u5c1d\u8bd5\u5c06CSS\u8fc7\u6ee4\u5668\u6dfb\u52a0\u5230\u89c6\u9891\u5143\u7d20\u3002 \u4f8b\u5982\uff1a <pre><code>video { -webkit-filter: blur(4px) invert(1) opacity(0.5); }\n</code></pre></li> <li>\u5c1d\u8bd5\u6dfb\u52a0SVG\u8fc7\u6ee4\u5668\u3002 \u4f8b\u5982\uff1a <pre><code>video {\nfilter: hue-rotate(180deg) saturate(200%);\n-moz-filter: hue-rotate(180deg) saturate(200%);\n-webkit-filter: hue-rotate(180deg) saturate(200%);\n}\n</code></pre></li> </ul> <p>\u4f60\u5b66\u5230\u4e86\u4ec0\u4e48</p> <p>\u5728\u8fd9\u4e00\u6b65\u4f60\u5b66\u4f1a\u4e86\u5982\u4f55\uff1a</p> <ul> <li>\u4ece\u60a8\u7684\u6444\u50cf\u5934\u83b7\u53d6\u89c6\u9891\u3002</li> <li>\u8bbe\u7f6e\u5a92\u4f53\u7ea6\u675f\u3002</li> <li>\u4e0e\u89c6\u9891\u5143\u7d20\u6df7\u6dc6\u3002</li> </ul> <p>\u6b64\u6b65\u9aa4\u7684\u5b8c\u6574\u7248\u672c\u4f4d\u4e8estep-01\u6587\u4ef6\u5939\u4e2d\u3002</p> <p>Tips</p> <ul> <li>\u4e0d\u8981\u5fd8\u8bb0\u89c6\u9891\u5143\u7d20\u4e0a\u7684\u81ea\u52a8\u64ad\u653e\u5c5e\u6027\u3002 \u5982\u679c\u6ca1\u6709\u8fd9\u4e2a\uff0c\u4f60\u53ea\u4f1a\u770b\u5230\u4e00\u4e2a\u6846\u67b6\uff01</li> <li>getUserMedia() \u7ea6\u675f\u6709\u5f88\u591a\u9009\u9879\u3002 \u770b\u770bwebrtc.github.io/samples/src/content/peerconnection/constraints \u4e0a\u7684\u6587\u6863\u3002 \u5982\u60a8\u6240\u89c1\uff0c\u8be5\u7ad9\u70b9\u4e0a\u6709\u8bb8\u591a\u6709\u8da3\u7684WebRTC\u793a\u4f8b\u3002</li> </ul> <p>\u6700\u4f73\u5b9e\u8df5</p> <p>\u786e\u4fdd\u60a8\u7684\u89c6\u9891\u5143\u7d20\u4e0d\u4f1a\u6ea2\u51fa\u5176\u5bb9\u5668\u3002 \u6211\u4eec\u5df2\u7ecf\u6dfb\u52a0\u4e86\u5bbd\u5ea6\u548c\u6700\u5927\u5bbd\u5ea6\u6765\u4e3a\u89c6\u9891\u8bbe\u7f6e\u9996\u9009\u5927\u5c0f\u548c\u6700\u5927\u5927\u5c0f\u3002 \u6d4f\u89c8\u5668\u4f1a\u81ea\u52a8\u8ba1\u7b97\u9ad8\u5ea6\uff1a <pre><code>video {\nmax-width: 100%;\nwidth: 320px;\n}\n</code></pre> \u6709\u4e86\u89c6\u9891\u6d41\uff0c\u4f46\u4f60\u600e\u4e48\u53d1\u9001\u6d41\u5462\uff1f</p>"},{"location":"webrtc/jsapi/003.html","title":"RTCPeerConnection\u4f20\u8f93\u89c6\u9891\u6d41\uff08\u4e09\uff09","text":"<p>\u4f60\u4f1a\u5b66\u5230\u4ec0\u4e48</p> <p>\u5728\u8fd9\u4e00\u6b65\u4e2d\uff0c\u60a8\u5c06\u4e86\u89e3\u5982\u4f55\uff1a</p> <ul> <li>\u4f7f\u7528WebRTC Shim(adapter.js)\u517c\u5bb9\u6d4f\u89c8\u5668\u5dee\u5f02\u3002</li> <li>\u4f7f\u7528RTCPeerConnection API\u6765\u4f20\u8f93\u89c6\u9891\u6d41\u3002</li> <li>\u63a7\u5236\u5a92\u4f53\u6355\u6349\u548c\u6d41\u5a92\u4f53\u3002</li> </ul> <p>\u6b64\u6b65\u9aa4\u7684\u5b8c\u6574\u7248\u672c\u4f4d\u4e8estep-2\u6587\u4ef6\u5939\u4e2d\u3002</p> <p>\u4ec0\u4e48\u662fRTCPeerConnection\uff1f</p> <p>RTCPeerConnection\u662f\u4e00\u4e2a\u7528\u4e8e\u4f7fWebRTC\u8c03\u7528\u89c6\u9891\u548c\u97f3\u9891\u6d41\u5e76\u4ea4\u6362\u6570\u636e\u7684API\u3002</p> <p>\u672c\u793a\u4f8b\u5728\u540c\u4e00\u9875\u4e0a\u8bbe\u7f6e\u4e24\u4e2aRTCPeerConnection\u5bf9\u8c61\uff08\u79f0\u4e3a\u5bf9\u7b49\uff09\u4e4b\u95f4\u7684\u8fde\u63a5\u3002</p> <p>\u6ca1\u6709\u591a\u5c11\u5b9e\u9645\u7528\u9014\uff0c\u4f46\u53ef\u4ee5\u5f88\u597d\u7406\u89e3RTCPeerConnection\u7684\u5de5\u4f5c\u539f\u7406\u3002</p> <p>\u6dfb\u52a0video\u5143\u7d20\u548c\u63a7\u5236\u6309\u94ae</p> <p>\u5728index.html\u4e2d\u7528\u4e24\u4e2a\u89c6\u9891\u5143\u7d20\u548c\u4e09\u4e2a\u6309\u94ae\u66ff\u6362\u5355\u4e2a\u89c6\u9891\u5143\u7d20\uff1a <pre><code>&lt;video id=\"localVideo\" autoplay&gt;&lt;/video&gt;\n&lt;video id=\"remoteVideo\" autoplay&gt;&lt;/video&gt;\n&lt;div&gt;\n&lt;button id=\"startButton\"&gt;Start&lt;/button&gt;\n&lt;button id=\"callButton\"&gt;Call&lt;/button&gt;\n&lt;button id=\"hangupButton\"&gt;Hang Up&lt;/button&gt;\n&lt;/div&gt;\n</code></pre> \u4e00\u4e2avideo\u5143\u7d20\u5c06\u663e\u793a\u6765\u81eagetUserMedia()\u7684\u6d41\uff0c\u53e6\u4e00\u4e2a\u5c06\u663e\u793a\u901a\u8fc7RTCPeerconnection\u4f20\u8f93\u7684\u5230\u672c\u5730\u76f8\u540c\u7684\u89c6\u9891\u6d41\u3002 \uff08\u5728\u73b0\u5b9e\u4e16\u754c\u7684\u5e94\u7528\u7a0b\u5e8f\u4e2d\uff0c\u4e00\u4e2avideo\u5143\u7d20\u5c06\u663e\u793a\u672c\u5730\u6d41\uff0c\u800c\u53e6\u4e00\u4e2avideo\u5143\u7d20\u5219\u663e\u793a\u8fdc\u7a0b\u6d41\u3002\uff09</p> <p>\u6dfb\u52a0 adapter.js shim</p> <p>\u5728main.js\u6587\u4ef6\u7684\u4e0a\u65b9\u6dfb\u52a0\u4e00\u4e2aadapter.js\u7684\u94fe\u63a5\uff1a <pre><code>&lt;script src=\"js/lib/adapter.js\"&gt;&lt;/script&gt;\n</code></pre></p> <p>adapter.js\u662f\u4e00\u4e2a\u57ab\u7247\uff0c\u4ee5\u9694\u79bb\u5e94\u7528\u7a0b\u5e8f\u7684\u89c4\u683c\u53d8\u5316\u548c\u524d\u7f00\u5dee\u5f02\u3002 \u4e8b\u5b9e\u4e0a\uff0c\u7528\u4e8eWebRTC\u5b9e\u65bd\u7684\u6807\u51c6\u548c\u534f\u8bae\u662f\u9ad8\u5ea6\u7a33\u5b9a\u7684\uff0c\u5e76\u4e14\u53ea\u6709\u5c11\u6570\u524d\u7f00\u540d\u79f0\u3002 \u5728\u8fd9\u4e00\u6b65\u4e2d\uff0c\u6211\u4eec\u94fe\u63a5\u5230\u6700\u65b0\u7248\u672c\u7684adapter.js\u7684\u672c\u5730\u526f\u672c - \u9002\u7528\u4e8e\u672c\u4f8b\u5b50\uff0c\u4f46\u4e0d\u9002\u7528\u4e8e\u751f\u4ea7\u5e94\u7528\u7a0b\u5e8f\u3002 adapter.js GitHub repo\u89e3\u91ca\u4e86\u786e\u4fdd\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u603b\u662f\u8bbf\u95ee\u6700\u65b0\u7248\u672c\u7684\u6280\u672f\u3002 \u6709\u5173\u5b8c\u6574\u7684WebRTC\u4e92\u64cd\u4f5c\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605webrtc.org/web-apis/interop\u3002</p> <p>Index.html\u6587\u4ef6\u4ee3\u7801\u5982\u4e0b\u6240\u793a\uff1a <pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;title&gt;Realtime communication with WebRTC&lt;/title&gt;\n&lt;link rel=\"stylesheet\" href=\"css/main.css\" /&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;h1&gt;Realtime communication with WebRTC&lt;/h1&gt;\n&lt;video id=\"localVideo\" autoplay&gt;&lt;/video&gt;\n&lt;video id=\"remoteVideo\" autoplay&gt;&lt;/video&gt;\n&lt;div&gt;\n&lt;button id=\"startButton\"&gt;Start&lt;/button&gt;\n&lt;button id=\"callButton\"&gt;Call&lt;/button&gt;\n&lt;button id=\"hangupButton\"&gt;Hang Up&lt;/button&gt;\n&lt;/div&gt;\n&lt;script src=\"js/lib/adapter.js\"&gt;&lt;/script&gt;\n&lt;script src=\"js/main.js\"&gt;&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre></p> <p>\u5b89\u88c5RTCPeerConnection\u4ee3\u7801</p> <p>\u5c06main.js\u66ff\u6362\u4e3astep-02\u6587\u4ef6\u5939\u4e2d\u7684\u7248\u672c\u3002</p> <p>\u8c03\u7528call</p> <p>\u6253\u5f00index.html\uff0c\u5355\u51fb\u201c\u5f00\u59cb\u201d\u6309\u94ae\u4ece\u7f51\u7edc\u6444\u50cf\u673a\u83b7\u53d6\u89c6\u9891\uff0c\u7136\u540e\u5355\u51fb\u201ccall\u201d\u4ee5\u5efa\u7acb\u5bf9\u7b49\u8fde\u63a5\u3002 \u60a8\u5e94\u8be5\u5728\u4e24\u4e2a\u89c6\u9891\u5143\u7d20\u4e2d\u770b\u5230\u76f8\u540c\u7684\u89c6\u9891\uff08\u6765\u81ea\u7f51\u7edc\u6444\u50cf\u5934\uff09\u3002 \u67e5\u770b\u6d4f\u89c8\u5668\u63a7\u5236\u53f0\u4ee5\u663e\u793aWebRTC\u65e5\u5fd7\u8bb0\u5f55\u3002</p> <p>\u5de5\u4f5c\u539f\u7406\uff1a</p> <p>\u8fd9\u4e00\u6b65\u505a\u4e86\u5f88\u591a...</p> <p>\u5982\u679c\u4f60\u60f3\u8df3\u8fc7\u4e0b\u9762\u7684\u89e3\u91ca\uff0c\u90a3\u5f88\u597d\u3002 \u4f60\u4ecd\u7136\u53ef\u4ee5\u7ee7\u7eed\u4f7f\u7528\u793a\u4f8b\u4ee3\u7801\uff01</p> <p>WebRTC\u4f7f\u7528RTCPeerConnection API\u5efa\u7acb\u8fde\u63a5\uff0c\u4ee5\u5728WebRTC\u5ba2\u6237\u7aef\uff08\u79f0\u4e3a\u5bf9\u7b49\u70b9\uff09\u4e4b\u95f4\u4f20\u8f93\u89c6\u9891\u6d41\u3002</p> <p>\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u4e24\u4e2aRTCPeerConnection\u5bf9\u8c61\u5728\u540c\u4e00\u4e2a\u9875\u9762\u4e0a\uff1apc1\u548cpc2\u3002 \u6ca1\u6709\u592a\u591a\u7684\u5b9e\u9645\u7528\u9014\uff0c\u4f46\u5f88\u597d\u7684\u5c55\u793a\u4e86API\u7684\u5de5\u4f5c\u539f\u7406\u3002</p> <p>\u5728WebRTC\u5bf9\u7b49\u8bbe\u5907\u4e4b\u95f4\u5efa\u7acb\u547c\u53eb\u6d89\u53ca\u4e09\u4e2a\u4efb\u52a1\uff1a</p> <ul> <li>\u4e3a\u547c\u53eb\u7684\u6bcf\u4e00\u7aef\u521b\u5efa\u4e00\u4e2aRTCPeerConnection\uff0c\u5e76\u5728\u6bcf\u4e00\u7aef\u6dfb\u52a0\u6765\u81eagetUserMedia()\u7684\u672c\u5730\u6d41\u3002</li> <li>\u83b7\u53d6\u548c\u5171\u4eab\u7f51\u7edc\u4fe1\u606f\uff1a\u6f5c\u5728\u7684\u8fde\u63a5\u7ec8\u7aef\u88ab\u79f0\u4e3aICE\u5019\u9009\u4eba</li> <li>\u83b7\u53d6\u53ca\u5171\u4eab\u672c\u5730\u548c\u8fdc\u7a0b\u63cf\u8ff0\uff1a\u5173\u4e8eSDP\u683c\u5f0f\u7684\u672c\u5730\u5a92\u4f53\u7684\u5143\u6570\u636e\u3002</li> </ul> <p>\u60f3\u8c61\u4e00\u4e0bAlice\u548cBob\u60f3\u4f7f\u7528RTCPeerConnection\u6765\u5efa\u7acb\u4e00\u4e2a\u89c6\u9891\u804a\u5929\u3002</p> <p>\u9996\u5148\uff0cAlice\u548cBob\u4ea4\u6362\u7f51\u7edc\u4fe1\u606f\u3002 \u201c\u67e5\u627e\u5019\u9009\u8005\u201d\u8fd9\u4e2a\u8868\u8fbe\u662f\u6307\u4f7f\u7528ICE\u6846\u67b6\u67e5\u627e\u7f51\u7edc\u63a5\u53e3\u548c\u7aef\u53e3\u7684\u8fc7\u7a0b\u3002</p> <ul> <li>Alice\u4f7f\u7528onicecandidate\u5904\u7406\u7a0b\u5e8f\u521b\u5efa\u4e00\u4e2aRTCPeerConnection\u5bf9\u8c61\u3002 \u8fd9\u5bf9\u5e94\u4e8emain.js\u4e2d\u7684\u4ee5\u4e0b\u4ee3\u7801\uff1a <pre><code>pc1 = new RTCPeerConnection(servers);\ntrace('Created local peer connection object pc1');\npc1.onicecandidate = function(e) {\nonIceCandidate(pc1, e);\n}; ```   \n*   Alice\u8c03\u7528getUserMedia()\u5e76\u6dfb\u52a0\u4f20\u9012\u7ed9\u5b83\u7684\u6d41\uff1a\n```javascript\npc1.addStream(localStream);\n```   \n*   \u7f51\u7edc\u5019\u9009\u53d8\u5f97\u53ef\u7528\u65f6\uff0c\u8c03\u7528\u6b65\u9aa41\u4e2d\u7684onicecandidate\u5904\u7406\u51fd\u6570\u3002\n*   Alice\u5c06\u5e8f\u5217\u5316\u7684\u5019\u9009\u6570\u636e\u53d1\u9001\u7ed9Bob\u3002 \u5728\u4e00\u4e2a\u771f\u6b63\u7684\u5e94\u7528\u7a0b\u5e8f\u4e2d\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\uff08\u79f0\u4e3a\u4fe1\u4ee4\uff09\u901a\u8fc7\u6d88\u606f\u4f20\u9012\u670d\u52a1\u8fdb\u884c - \u60a8\u5c06\u5728\u540e\u9762\u7684\u6b65\u9aa4\u4e2d\u5b66\u4e60\u5982\u4f55\u505a\u5230\u8fd9\u4e00\u70b9\u3002 \u5f53\u7136\uff0c\u5728\u8fd9\u4e2a\u6b65\u9aa4\u4e2d\uff0c\u4e24\u4e2aRTCPeerConnection\u5bf9\u8c61\u4f4d\u4e8e\u540c\u4e00\u9875\u9762\u4e0a\uff0c\u53ef\u4ee5\u76f4\u63a5\u8fdb\u884c\u901a\u4fe1\u800c\u4e0d\u9700\u8981\u5916\u90e8\u6d88\u606f\u4f20\u9012\u3002\n*   \u5f53Bob\u4eceAlice\u83b7\u5f97\u5019\u9009\u6d88\u606f\u65f6\uff0c\u4ed6\u8c03\u7528addIceCandidate()\uff0c\u5c06\u5019\u9009\u6dfb\u52a0\u5230\u8fdc\u7a0b\u5bf9\u7b49\u63cf\u8ff0\u4e2d\uff1a\n```javascript\nfunction onIceCandidate(pc, event) {\nif (event.candidate) {\ngetOtherPc(pc).addIceCandidate(\nnew RTCIceCandidate(event.candidate)\n).then(\nfunction() {\nonAddIceCandidateSuccess(pc);\n},\nfunction(err) {\nonAddIceCandidateError(pc, err);\n}\n);\ntrace(getName(pc) + ' ICE candidate: \\n' + event.candidate.candidate);\n}\n} </code></pre></li> </ul> <p>WebRTC\u5bf9\u7b49\u4f53\u8fd8\u9700\u8981\u67e5\u627e\u5e76\u4ea4\u6362\u672c\u5730\u548c\u8fdc\u7a0b\u97f3\u9891\u548c\u89c6\u9891\u5a92\u4f53\u4fe1\u606f\uff0c\u4f8b\u5982\u5206\u8fa8\u7387\u548c\u7f16\u89e3\u7801\u5668\u529f\u80fd\u3002 \u4ea4\u6362\u5a92\u4f53\u914d\u7f6e\u4fe1\u606f\u7684\u4fe1\u4ee4\u901a\u8fc7\u4f7f\u7528\u88ab\u79f0\u4e3aSDP\u7684\u4f1a\u8bdd\u63cf\u8ff0\u534f\u8bae\u683c\u5f0f\u6765\u4ea4\u6362\uff0c\u88ab\u79f0\u4e3a\u63d0\u8bae\u548c\u5e94\u7b54\u7684\u5143\u6570\u636e\u5757\uff1a</p> <ul> <li> <p>Alice\u8fd0\u884cRTCPeerConnection createOffer()\u65b9\u6cd5\u3002 \u8fd4\u56de\u7684promise\u63d0\u4f9b\u4e86\u4e00\u4e2aRTCSessionDescription\uff1aAlice\u7684\u672c\u5730\u4f1a\u8bdd\u63cf\u8ff0\uff1a <pre><code>pc1.createOffer(\nofferOptions\n).then(\nonCreateOfferSuccess,\nonCreateSessionDescriptionError\n);\n</code></pre></p> </li> <li> <p>\u5982\u679c\u6210\u529f\uff0cAlice\u4f7f\u7528setLocalDescription()\u8bbe\u7f6e\u672c\u5730\u63cf\u8ff0\uff0c\u7136\u540e\u901a\u8fc7\u5b83\u7684\u4fe1\u4ee4\u901a\u9053\u5c06\u8fd9\u4e2a\u4f1a\u8bdd\u63cf\u8ff0\u53d1\u9001\u7ed9Bob\u3002</p> </li> <li>Bob\u4f7f\u7528setRemoteDescription()\u5c06Alice\u53d1\u9001\u7684\u63cf\u8ff0\u8bbe\u7f6e\u4e3a\u8fdc\u7a0b\u63cf\u8ff0\u3002</li> <li>Bob\u8fd0\u884cRTCPeerConnection createAnswer()\u65b9\u6cd5\uff0c\u5e76\u5c06\u5176\u4eceAlice\u83b7\u5f97\u7684\u8fdc\u7a0b\u63cf\u8ff0\u4f20\u9012\u7ed9\u5b83\uff0c\u4ee5\u4fbf\u53ef\u4ee5\u751f\u6210\u4e0e\u5979\u76f8\u517c\u5bb9\u7684\u672c\u5730\u4f1a\u8bdd\u3002 createAnswer() promise\u4f20\u9012RTCSessionDescription\uff1aBob\u5c06\u5176\u8bbe\u7f6e\u4e3a\u672c\u5730\u63cf\u8ff0\u5e76\u53d1\u9001\u7ed9Alice\u3002</li> <li> <p>\u5f53Alice\u83b7\u5f97Bob\u7684\u4f1a\u8bdd\u63cf\u8ff0\u65f6\uff0c\u5979\u5c06\u5176\u8bbe\u7f6e\u4e3a\u5177\u6709setRemoteDescription()\u7684\u8fdc\u7a0b\u63cf\u8ff0\u3002 <pre><code>function onCreateOfferSuccess(desc) {\npc1.setLocalDescription(desc).then(\nfunction() {\nonSetLocalSuccess(pc1);\n},\nonSetSessionDescriptionError\n);\npc2.setRemoteDescription(desc).then(\nfunction() {\nonSetRemoteSuccess(pc2);\n},\nonSetSessionDescriptionError\n);\n// Since the 'remote' side has no media stream you need\n// to pass in the right constraints in order for it to\n// accept the incoming offer of audio and video.\npc2.createAnswer().then(\nonCreateAnswerSuccess,\nonCreateSessionDescriptionError\n);\n}\nfunction onCreateAnswerSuccess(desc) {\npc2.setLocalDescription(desc).then(\nfunction() {\nonSetLocalSuccess(pc2);\n},\nonSetSessionDescriptionError\n);\npc1.setRemoteDescription(desc).then(\nfunction() {\nonSetRemoteSuccess(pc1);\n},\nonSetSessionDescriptionError\n);\n} </code></pre></p> </li> <li> <p>Ping!</p> </li> </ul> <p>\u77e5\u8bc6\u6269\u5c55</p> <ul> <li>\u6253\u5f00 chrome://webrtc-internals , \u8fd9\u91cc\u63d0\u4f9b\u4e86WebRTC\u7edf\u8ba1\u548c\u8c03\u8bd5\u6570\u636e\u3002 \uff08Chrome\u7f51\u5740\u7684\u5b8c\u6574\u5217\u8868\u4f4d\u4e8echrome://about\uff09</li> <li>\u4f7f\u7528CSS\u8bbe\u7f6e\u9875\u9762\u6837\u5f0f\uff1a</li> </ul> <p>\u628a\u89c6\u9891\u5e76\u6392\u653e\u7f6e\u3002 \u4f7f\u6309\u94ae\u7684\u5bbd\u5ea6\u76f8\u540c\uff0c\u6587\u5b57\u66f4\u5927\u3002 \u786e\u4fdd\u5e03\u5c40\u5728\u79fb\u52a8\u8bbe\u5907\u4e0a\u8fd0\u884c\u3002</p> <ul> <li>\u5728Chrome\u5f00\u53d1\u5de5\u5177\u63a7\u5236\u53f0\u4e2d\uff0c\u67e5\u770bpc1\u548cpc2\u7684localStream</li> <li>\u4ece\u63a7\u5236\u53f0\u67e5\u770b pc1.localDescription\u7684SDP\u683c\u5f0f\u662f\u4ec0\u4e48\u6837\uff1f</li> </ul> <p>\u4f60\u5b66\u5230\u4e86\u4ec0\u4e48</p> <p>\u5728\u8fd9\u4e00\u6b65\u4f60\u5b66\u4f1a\u4e86\u5982\u4f55\uff1a</p> <ul> <li>\u4f7f\u7528WebRTC Shim adapter.js shim \u517c\u5bb9\u6d4f\u89c8\u5668\u5dee\u5f02\u3002</li> <li>\u4f7f\u7528RTCPeerConnection API\u6765\u4f20\u8f93\u89c6\u9891\u6d41\u3002</li> <li>\u6355\u6349\u548c\u63a7\u5236\u6d41\u5a92\u4f53\u3002</li> <li>\u5728\u5bf9\u7b49\u70b9\u4e4b\u95f4\u542f\u7528WebRTC\u5171\u4eab\u5a92\u4f53\u548c\u7f51\u7edc\u4fe1\u606f\u3002</li> </ul> <p>\u6b64\u6b65\u9aa4\u7684\u5b8c\u6574\u7248\u672c\u4f4d\u4e8estep-2\u6587\u4ef6\u5939\u4e2d\u3002</p> <p>Tips</p> <p>\u8fd9\u4e00\u6b65\u6709\u5f88\u591a\u4e1c\u897f\u8981\u5b66\u4e60\uff01 \u8981\u66f4\u8be6\u7ec6\u7684\u5185\u5bb9\u53c2\u8003RTCPeerConnection\u7684\u5176\u4ed6\u8d44\u6e90\uff0c\u8bf7\u67e5\u770bwebrtc.org/start\u3002 \u672c\u9875\u9762\u5305\u542bJavaScript\u6846\u67b6\u7684\u5efa\u8bae - \u5982\u679c\u60a8\u60f3\u4f7f\u7528WebRTC\uff0c\u4f46\u4e0d\u60f3\u56f4\u7ed5API\u3002</p> <p>\u4eceadapter.js GitHub\u4ed3\u5e93\u4e2d\u627e\u5230\u66f4\u591a\u5173\u4e8eadapter.js shim \u7a0b\u5e8f\u7684\u4fe1\u606f\u3002</p> <p>\u60f3\u770b\u770b\u4e16\u754c\u4e0a\u6700\u597d\u7684\u89c6\u9891\u804a\u5929\u5e94\u7528\u7a0b\u5e8f\u662f\u4ec0\u4e48\u6837\u5b50\uff1f \u770b\u770bAppRTC\uff0cWebRTC\u9879\u76ee\u7684WebRTC\u8c03\u7528\u89c4\u8303\u5e94\u7528\u7a0b\u5e8f\uff1aapp\uff0ccode\u3002 \u547c\u53eb\u5efa\u7acb\u65f6\u95f4\u5c0f\u4e8e500\u6beb\u79d2\u3002</p> <p>\u6700\u4f73\u5b9e\u8df5</p> <p>\u4e3a\u4e86\u4f7f\u60a8\u7684\u4ee3\u7801\u5177\u6709\u524d\u77bb\u6027\uff0c\u8bf7\u4f7f\u7528\u65b0\u7684\u57fa\u4e8ePromise\u7684API\uff0c\u5e76\u901a\u8fc7\u4f7f\u7528adapter.js\u542f\u7528\u4e0d\u652f\u6301\u5b83\u4eec\uff08webrtc\uff09\u7684\u6d4f\u89c8\u5668\u3002</p> <p>\u4e0b\u4e00\u6b65</p> <p>\u8fd9\u4e00\u6b65\u5c55\u793a\u4e86\u5982\u4f55\u4f7f\u7528WebRTC\u5728\u5bf9\u7b49\u4f53\u4e4b\u95f4\u4f20\u8f93\u89c6\u9891 - \u4f46\u662f\u8fd9\u4e2a\u5b9e\u9a8c\u4e5f\u662f\u5173\u4e8e\u6570\u636e\u7684\uff01</p> <p>\u5728\u4e0b\u4e00\u6b65\u4e2d\uff0c\u5c06\u4e86\u89e3\u5982\u4f55\u4f7f\u7528RTCDataChannel\u4f20\u8f93\u4efb\u610f\u6570\u636e\u6d41\u3002</p>"},{"location":"webrtc/jsapi/004.html","title":"RTCDataChannel\u4ea4\u6362\u6570\u636e\uff08\u56db\uff09","text":"<p>\u4f60\u5c06\u4f1a\u5b66\u5230\u4ec0\u4e48</p> <p>\u5982\u4f55\u5728WebRTC\u7aef\u70b9\uff08\u5bf9\u7b49\u4f53\uff09\u4e4b\u95f4\u4ea4\u6362\u6570\u636e\u3002</p> <p>\u6b64\u6b65\u9aa4\u7684\u5b8c\u6574\u7248\u672c\u4f4d\u4e8estep-03\u6587\u4ef6\u5939\u4e2d\u3002</p> <p>\u66f4\u65b0HTML\u4ee3\u7801</p> <p>\u5bf9\u4e8e\u8fd9\u4e00\u6b65\uff0c\u60a8\u5c06\u4f7f\u7528WebRTC data channels \u5728\u540c\u4e00\u9875\u9762\u4e0a\u7684\u4e24\u4e2atextarea\u5143\u7d20\u4e4b\u95f4\u53d1\u9001\u6587\u672c\u3002 \u8fd9\u5e76\u4e0d\u662f\u975e\u5e38\u6709\u7528\uff0c\u4f46\u5b83\u786e\u5b9e\u5c55\u793a\u4e86\u5982\u4f55\u4f7f\u7528WebRTC\u6765\u5171\u4eab\u6570\u636e\u4ee5\u53ca\u89c6\u9891\u6d41\u4f20\u8f93\u3002</p> <p>\u4eceindex.html\u4e2d\u5220\u9664\u89c6\u9891\u548c\u6309\u94ae\u5143\u7d20\uff0c\u5e76\u5c06\u5176\u66ff\u6362\u4e3a\u4ee5\u4e0bHTML\uff1a <pre><code>&lt;textarea id=\"dataChannelSend\" disabled\nplaceholder=\"Press Start, enter some text, then press Send.\"&gt;&lt;/textarea&gt;\n&lt;textarea id=\"dataChannelReceive\" disabled&gt;&lt;/textarea&gt;\n&lt;div id=\"buttons\"&gt;\n&lt;button id=\"startButton\"&gt;Start&lt;/button&gt;\n&lt;button id=\"sendButton\"&gt;Send&lt;/button&gt;\n&lt;button id=\"closeButton\"&gt;Stop&lt;/button&gt;\n&lt;/div&gt;\n</code></pre> \u4e00\u4e2a\u6587\u672c\u533a\u57df\u5c06\u7528\u4e8e\u8f93\u5165\u6587\u672c\uff0c\u53e6\u4e00\u4e2a\u6587\u672c\u533a\u57df\u5c06\u5728\u5bf9\u7b49\u70b9\u4e4b\u95f4\u663e\u793a\u6587\u672c\u3002</p> <p>index.html\u73b0\u5728\u770b\u8d77\u6765\u5e94\u8be5\u50cf\u8fd9\u6837\uff1a <pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;title&gt;Realtime communication with WebRTC&lt;/title&gt;\n&lt;link rel=\"stylesheet\" href=\"css/main.css\" /&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;h1&gt;Realtime communication with WebRTC&lt;/h1&gt;\n&lt;textarea id=\"dataChannelSend\" disabled\nplaceholder=\"Press Start, enter some text, then press Send.\"&gt;&lt;/textarea&gt;\n&lt;textarea id=\"dataChannelReceive\" disabled&gt;&lt;/textarea&gt;\n&lt;div id=\"buttons\"&gt;\n&lt;button id=\"startButton\"&gt;Start&lt;/button&gt;\n&lt;button id=\"sendButton\"&gt;Send&lt;/button&gt;\n&lt;button id=\"closeButton\"&gt;Stop&lt;/button&gt;\n&lt;/div&gt;\n&lt;script src=\"js/lib/adapter.js\"&gt;&lt;/script&gt;\n&lt;script src=\"js/main.js\"&gt;&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre> \u66f4\u65b0javascript\u4ee3\u7801</p> <p>\u5c06main.js\u66ff\u6362\u4e3astep-03/js/main.js\u6587\u4ef6\u4e2d\u7684\u5185\u5bb9\u3002</p> <p>\u548c\u4e0a\u4e00\u6b65\u4e00\u6837\uff0c\u5728\u4ee3\u7801\u4e2d\u4f7f\u7528\u5927\u5757\u4ee3\u7801\u8fdb\u884c\u526a\u5207\u548c\u7c98\u8d34\u5e76\u4e0d\u7406\u60f3\uff0c\u4f46\u662f\uff08\u548cRTCPeerConnection\u4e00\u6837\uff09\uff0c\u6ca1\u6709\u5176\u4ed6\u9009\u62e9\u3002</p> <p>\u5c1d\u8bd5\u5bf9\u7b49\u4f53\u4e4b\u95f4\u4f20\u8f93\u6570\u636e\u6d41\uff1a\u6253\u5f00index.html\uff0c\u6309start\u542f\u52a8\u5bf9\u7b49\u8fde\u63a5\uff0c\u5728\u5de6\u8fb9\u7684textarea\u4e2d\u8f93\u5165\u4e00\u4e9b\u6587\u672c\uff0c\u7136\u540e\u70b9\u51fb\u53d1\u9001\uff0c\u4f7f\u7528WebRTC data channels \u4f20\u8f93\u6587\u672c\u3002</p> <p>\u5de5\u4f5c\u539f\u7406</p> <p>\u6b64\u4ee3\u7801\u4f7f\u7528RTCPeerConnection\u548cRTCDataChannel\u6765\u542f\u7528\u6587\u672c\u6d88\u606f\u7684\u4ea4\u6362\u3002</p> <p>\u8fd9\u4e00\u6b65\u4e2d\u7684\u5927\u90e8\u5206\u4ee3\u7801\u4e0eRTCPeerConnection\u793a\u4f8b\u76f8\u540c\u3002</p> <p>sendData() \u548c createConnection() \u51fd\u6570\u5177\u6709\u5927\u90e8\u5206\u65b0\u4ee3\u7801\uff1a</p> <pre><code>function createConnection() {\ndataChannelSend.placeholder = '';\nvar servers = null;\npcConstraint = null;\ndataConstraint = null;\ntrace('Using SCTP based data channels');\n// For SCTP, reliable and ordered delivery is true by default.\n// Add localConnection to global scope to make it visible\n// from the browser console.\nwindow.localConnection = localConnection =\nnew RTCPeerConnection(servers, pcConstraint);\ntrace('Created local peer connection object localConnection');\nsendChannel = localConnection.createDataChannel('sendDataChannel',\ndataConstraint);\ntrace('Created send data channel');\nlocalConnection.onicecandidate = iceCallback1;\nsendChannel.onopen = onSendChannelStateChange;\nsendChannel.onclose = onSendChannelStateChange;\n// Add remoteConnection to global scope to make it visible\n// from the browser console.\nwindow.remoteConnection = remoteConnection =\nnew RTCPeerConnection(servers, pcConstraint);\ntrace('Created remote peer connection object remoteConnection');\nremoteConnection.onicecandidate = iceCallback2;\nremoteConnection.ondatachannel = receiveChannelCallback;\nlocalConnection.createOffer().then(\ngotDescription1,\nonCreateSessionDescriptionError\n);\nstartButton.disabled = true;\ncloseButton.disabled = false;\n}\nfunction sendData() {\nvar data = dataChannelSend.value;\nsendChannel.send(data);\ntrace('Sent Data: ' + data);\n}\n</code></pre> <p>RTCDataChannel \u7684\u8bed\u6cd5\u4e0e WebSocket \u7c7b\u4f3c\uff0c\u5177\u6709send() \u65b9\u6cd5\u548c message \u4e8b\u4ef6\u3002</p> <p>\u6ce8\u610f\u4f7f\u7528dataConstraint\u3002 \u6570\u636e\u901a\u9053\u53ef\u4ee5\u914d\u7f6e\u4e3a\u542f\u7528\u4e0d\u540c\u7c7b\u578b\u7684\u6570\u636e\u5171\u4eab - \u4f8b\u5982: \u4f18\u5148\u8003\u8651\u53ef\u9760\u4f20\u8f93\u7684\u6027\u80fd\u3002 \u60a8\u53ef\u4ee5\u5728Mozilla Developer Network\u4e0a\u627e\u5230\u66f4\u591a\u5173\u4e8e\u9009\u9879\u7684\u4fe1\u606f\u3002</p> <p>\u4e09\u79cdconstraints  </p> <p>\u8fd9\u5f88\u6df7\u4e71\uff01  </p> <p>\u4e0d\u540c\u7c7b\u578b\u7684WebRTC\u547c\u53eb\u5efa\u7acb\u9009\u9879\u901a\u5e38\u88ab\u79f0\u4e3a\u201cconstraints\u201d\u3002  </p> <p>\u4e86\u89e3\u6709\u5173constraints\u7684\u66f4\u591a\u4fe1\u606f\u548c\u9009\u9879\uff1a RTCPeerConnection RTCDataChannel MediaDevices.getUserMedia()</p> <p>\u77e5\u8bc6\u6269\u5c55\uff1a</p> <ul> <li>WebRTC data channels \u6240\u4f7f\u7528\u7684\u534f\u8bae\u662fSCTP\uff0c\u5728\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u6570\u636e\u7684\u53ef\u9760\u548c\u6709\u5e8f\u6027\u5904\u4e8e\u6253\u5f00\u72b6\u6001\u3002 \u4ec0\u4e48\u65f6\u5019RTCDataChannel\u9700\u8981\u63d0\u4f9b\u53ef\u9760\u7684\u6570\u636e\u4ea4\u6362\uff0c\u4ec0\u4e48\u65f6\u5019\u6027\u80fd\u4f1a\u66f4\u91cd\u8981 \u2014\u2014 \u54ea\u6015\u610f\u5473\u7740\u4e22\u5931\u4e00\u4e9b\u6570\u636e\uff1f</li> <li>\u4f7f\u7528CSS\u6765\u6539\u5584\u9875\u9762\u5e03\u5c40\uff0c\u5e76\u6dfb\u52a0\u4e00\u4e2a\u5360\u4f4d\u7b26\u5c5e\u6027\u5230 \u201cdataChannelReceive\u201d textarea\u3002</li> <li>\u5728\u79fb\u52a8\u8bbe\u5907\u4e0a\u6d4b\u8bd5\u9875\u9762\u3002</li> </ul> <p>\u5b66\u5230\u4e86\u4ec0\u4e48</p> <p>\u5728\u8fd9\u4e00\u6b65\u4f60\u5b66\u4f1a\u4e86\u5982\u4f55\uff1a</p> <ul> <li>\u5efa\u7acb\u4e24\u4e2aWebRTC\u5bf9\u7b49\u4f53\u4e4b\u95f4\u7684\u8fde\u63a5\u3002</li> <li>\u4ea4\u6362\u5bf9\u7b49\u4f53\u4e4b\u95f4\u7684\u6587\u672c\u6570\u636e\u3002</li> </ul> <p>\u6b64\u6b65\u9aa4\u7684\u5b8c\u6574\u7248\u672c\u4f4d\u4e8estep-03\u6587\u4ef6\u5939\u4e2d\u3002</p> <p>\u4e86\u89e3\u66f4\u591a</p> <ul> <li>WebRTC data channels (\u5f88\u65e7\uff0c\u4f46\u662f\u4ecd\u7136\u503c\u5f97\u4e00\u8bfb)</li> <li>Why was SCTP Selected for WebRTC's Data Channel?</li> </ul> <p>\u4e0b\u4e00\u6b65</p> <p>\u4f60\u5df2\u7ecf\u5b66\u4f1a\u4e86\u5982\u4f55\u5728\u540c\u4e00\u9875\u9762\u4e0a\u7684\u5bf9\u7b49\u4f53\u4e4b\u95f4\u4ea4\u6362\u6570\u636e\uff0c\u4f46\u662f\u5982\u4f55\u5728\u4e0d\u540c\u7684\u673a\u5668\u4e4b\u95f4\u505a\u8fd9\u4ef6\u4e8b\uff1f \u9996\u5148\uff0c\u4f60\u9700\u8981\u5efa\u7acb\u4e00\u4e2a\u4fe1\u4ee4\u901a\u9053\u6765\u4ea4\u6362\u5143\u6570\u636e\u6d88\u606f\u3002 \u4e86\u89e3\u5982\u4f55\u5728\u4e0b\u4e00\u6b65\uff01</p>"},{"location":"webrtc/jsapi/005.html","title":"\u642d\u5efa\u4fe1\u4ee4\u670d\u52a1\u4ea4\u6362\u6d88\u606f\uff08\u4e94\uff09","text":"<p>\u4f60\u4f1a\u5b66\u5230\u4ec0\u4e48</p> <p>\u5728\u8fd9\u4e00\u6b65\u4e2d\uff0c\u60a8\u5c06\u4e86\u89e3\u5982\u4f55\uff1a</p> <ul> <li>\u4f7f\u7528npm\u6765\u5b89\u88c5package.json\u4e2d\u6307\u5b9a\u7684\u9879\u76ee\u4f9d\u8d56\u5173\u7cfb</li> <li>\u8fd0\u884cNode.js\u670d\u52a1\u5668\u5e76\u4f7f\u7528node-static\u6765\u63d0\u4f9b\u9759\u6001\u6587\u4ef6\u3002</li> <li>\u4f7f\u7528http://Socket.IO\u5728Node.js\u4e0a\u8bbe\u7f6e\u6d88\u606f\u670d\u52a1\u3002</li> <li>\u7528\u5b83\u6765\u521b\u5efa\u201c\u623f\u95f4\u201d\u5e76\u4ea4\u6362\u4fe1\u606f\u3002</li> </ul> <p>\u6b64\u6b65\u9aa4\u7684\u5b8c\u6574\u7248\u672c\u4f4d\u4e8estep-04\u6587\u4ef6\u5939\u4e2d\u3002</p> <p>\u4e00\u4e9b\u6982\u5ff5</p> <p>\u4e3a\u4e86\u5efa\u7acb\u548c\u7ef4\u62a4WebRTC\u547c\u53eb\uff0cWebRTC\u5ba2\u6237\uff08\u5bf9\u7b49\uff09\u9700\u8981\u4ea4\u6362\u5143\u6570\u636e\uff1a</p> <p>Candidate\uff08\u7f51\u7edc\uff09\u4fe1\u606f\u3002</p> <p>Offer \u548c answer \u652f\u6301\u5a92\u4f53\u4fe1\u606f\u7684\u6d88\u606f\uff0c\u5982\u5206\u8fa8\u7387\u548c\u7f16\u89e3\u7801\u5668\u3002</p> <p>\u6362\u53e5\u8bdd\u8bf4\uff0c\u5728\u97f3\u9891\uff0c\u89c6\u9891\u6216\u6570\u636e\u7684\u70b9\u5bf9\u70b9\u6d41\u5f0f\u4f20\u8f93\u53ef\u80fd\u53d1\u751f\u4e4b\u524d\uff0c\u9700\u8981\u4ea4\u6362\u5143\u6570\u636e\u3002 \u8fd9\u4e2a\u8fc7\u7a0b\u88ab\u79f0\u4e3a\u4fe1\u4ee4\u3002</p> <p>\u5728\u524d\u9762\u7684\u6b65\u9aa4\u4e2d\uff0c\u53d1\u9001\u8005\u548c\u63a5\u6536\u8005\u7684 RTCPeerConnection \u5bf9\u8c61\u5728\u540c\u4e00\u4e2a\u9875\u9762\u4e0a\uff0c\u6240\u4ee5\u201c\u4fe1\u53f7\u201d\u5c31\u662f\u5728\u5bf9\u8c61\u4e4b\u95f4\u4f20\u9012\u5143\u6570\u636e\u3002</p> <p>\u5728\u771f\u5b9e\u4e16\u754c\u7684\u5e94\u7528\u7a0b\u5e8f\u4e2d\uff0c\u53d1\u9001\u8005\u548c\u63a5\u6536\u8005RTCPeerConnections\u5728\u4e0d\u540c\u8bbe\u5907\u4e0a\u7684\u7f51\u9875\u4e2d\u8fd0\u884c\uff0c\u60a8\u9700\u8981\u4e00\u79cd\u65b9\u5f0f\u8ba9\u4ed6\u4eec\u4ea4\u6d41\u5143\u6570\u636e\u3002</p> <p>\u4e3a\u6b64\uff0c\u60a8\u4f7f\u7528\u4fe1\u4ee4\u670d\u52a1\u5668\uff1a\u53ef\u4ee5\u5728WebRTC\u5ba2\u6237\u7aef\uff08\u5bf9\u7b49\u7aef\uff09\u4e4b\u95f4\u4f20\u9012\u6d88\u606f\u7684\u670d\u52a1\u5668\u3002 \u5b9e\u9645\u7684\u6d88\u606f\u662f\u7eaf\u6587\u672c\uff1a\u5b57\u7b26\u4e32\u683c\u5f0f\u7684JavaScript\u5bf9\u8c61\u3002</p> <p>\u5148\u51b3\u6761\u4ef6\uff1a\u5b89\u88c5Node.js</p> <p>\u4e3a\u4e86\u8fd0\u884c\u8fd9\u4e2a\u4ee3\u7801\uff08\u6587\u4ef6\u5939step-04\u5230step-06\uff09\uff0c\u4f60\u5c06\u9700\u8981\u4f7f\u7528Node.js\u5728\u672c\u5730\u4e0a\u8fd0\u884c\u4e00\u4e2a\u670d\u52a1\u5668\u3002</p> <p>\u60a8\u53ef\u4ee5\u4ece\u6b64\u94fe\u63a5\u4e0b\u8f7d\u5e76\u5b89\u88c5Node.js\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7\u9996\u9009\u7684\u5305\u7ba1\u7406\u5668\u8fdb\u884c\u5b89\u88c5\u3002</p> <p>\u5b89\u88c5\u5b8c\u6210\u540e\uff0c\u60a8\u5c06\u80fd\u591f\u5bfc\u5165\uff08\u8fd0\u884cnpm install\uff09\u6240\u9700\u7684\u4f9d\u8d56\u5173\u7cfb\uff0c\u5e76\u5728\u672c\u5730\u4e3b\u673a\u8fd0\u884c\u4e00\u4e2a\u5c0f\u578b\u670d\u52a1\u5668\u6765\u6267\u884c\u4ee3\u7801\uff08\u8fd0\u884c\u8282\u70b9index.js\uff09\u3002 \u8fd9\u4e9b\u547d\u4ee4\u7a0d\u540e\u5c06\u4f1a\u9700\u8981\u3002</p> <p>\u5173\u4e8e\u5e94\u7528\u7a0b\u5e8f</p> <p>WebRTC\u4f7f\u7528\u5ba2\u6237\u7aefJavaScript API\uff0c\u4f46\u662f\u5bf9\u4e8e\u771f\u5b9e\u4e16\u754c\u7684\u4f7f\u7528\u8fd8\u9700\u8981\u4e00\u4e2a\u4fe1\u4ee4\uff08\u6d88\u606f\uff09\u670d\u52a1\u5668\uff0c\u4ee5\u53caSTUN\u548cTURN\u670d\u52a1\u5668\u3002 \u4f60\u53ef\u4ee5\u5728\u8fd9\u91cc\u627e\u5230\u66f4\u591a\u3002</p> <p>\u5728\u8fd9\u4e00\u6b65\u4e2d\uff0c\u60a8\u5c06\u6784\u5efa\u4e00\u4e2a\u7b80\u5355\u7684 Node.js \u4fe1\u4ee4\u670d\u52a1\u5668\uff0c\u4f7f\u7528Socket.IO Node.js\u6a21\u5757\u548cJavaScript\u5e93\u8fdb\u884c\u6d88\u606f\u4f20\u9012\u3002 \u4f7f\u7528Node.js\u548cSocket.IO\u7684\u7ecf\u9a8c\u5c06\u662f\u6709\u7528\u7684\uff0c\u4f46\u4e0d\u662f\u5173\u952e; \u6d88\u606f\u4f20\u9012\u7ec4\u4ef6\u975e\u5e38\u7b80\u5355\u3002</p> <p>\u9009\u62e9\u6b63\u786e\u7684\u4fe1\u4ee4\u670d\u52a1\u5668 \u8fd9\u4e2a\u4ee3\u7801\u4f7f\u7528Socket.IO\u4f5c\u4e3a\u4fe1\u53f7\u670d\u52a1\u5668\u3002 http://Socket.IO\u7684\u8bbe\u8ba1\u4f7f\u6784\u5efa\u670d\u52a1\u3001\u4ea4\u6362\u6d88\u606f\u53d8\u5f97\u7b80\u5355\uff0chttp://Socket.IO\u9002\u7528\u4e8eWebRTC\u4fe1\u4ee4\uff0c\u56e0\u4e3a\u5b83\u5185\u7f6e\u4e86\u201c\u623f\u95f4\u201d\u7684\u6982\u5ff5\u3002 \u5bf9\u4e8e\u751f\u4ea7\u670d\u52a1\u6765\u8bf4\uff0c\u53ef\u80fd\u6709\u66f4\u597d\u7684\u9009\u62e9\u3002 \u8bf7\u53c2\u9605\u5982\u4f55\u4e3a\u60a8\u7684\u4e0b\u4e00\u4e2aWebRTC\u9879\u76ee\u9009\u62e9\u4fe1\u53f7\u534f\u8bae\u3002</p> <p>\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u670d\u52a1\u5668\uff08Node.js\u5e94\u7528\u7a0b\u5e8f\uff09\u5728index.js\u4e2d\u5b9e\u73b0\uff0c\u5ba2\u6237\u7aef\uff08web\u5e94\u7528\u7a0b\u5e8f\uff09\u5728index.html\u4e2d\u5b9e\u73b0\u3002</p> <p>\u672c\u6b65\u9aa4\u4e2d\u7684Node.js\u5e94\u7528\u7a0b\u5e8f\u6709\u4e24\u4e2a\u4efb\u52a1\u3002</p> <p>\u9996\u5148\uff0c\u5b83\u4f5c\u4e3a\u4e00\u4e2a\u6d88\u606f\u4e2d\u7ee7\uff1a <pre><code>socket.on('message', function (message) {\nlog('Got message: ', message);\nsocket.broadcast.emit('message', message);\n});\n</code></pre></p> <p>\u5176\u6b21\uff0c\u5b83\u7ba1\u7406WebRTC\u89c6\u9891\u804a\u5929\u201crooms\u201d\uff1a <pre><code>if (numClients === 1) {\nsocket.join(room);\nsocket.emit('created', room, socket.id);\n} else if (numClients === 2) {\nsocket.join(room);\nsocket.emit('joined', room, socket.id);\nio.sockets.in(room).emit('ready');\n} else { // max two clients\nsocket.emit('full', room);\n}\n</code></pre></p> <p>\u6211\u4eec\u7b80\u5355\u7684WebRTC\u5e94\u7528\u7a0b\u5e8f\u5c06\u5141\u8bb8\u6700\u591a\u4e24\u4e2a\u5bf9\u7b49\u4f53\u5171\u4eab\u4e00\u4e2a\u623f\u95f4\u3002</p> <p>HTML &amp; JavaScript</p> <p>\u66f4\u65b0index.html\uff0c\u770b\u8d77\u6765\u50cf\u8fd9\u6837\uff1a <pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;title&gt;Realtime communication with WebRTC&lt;/title&gt;\n&lt;link rel=\"stylesheet\" href=\"css/main.css\" /&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;h1&gt;Realtime communication with WebRTC&lt;/h1&gt;\n&lt;script src=\"/socket.io/socket.io.js\"&gt;&lt;/script&gt;\n&lt;script src=\"js/main.js\"&gt;&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre></p> <p>\u5728\u6b64\u6b65\u9aa4\u4e2d\uff0c\u60a8\u5c06\u770b\u4e0d\u5230\u9875\u9762\u4e0a\u7684\u4efb\u4f55\u5185\u5bb9\uff1a\u6240\u6709\u65e5\u5fd7\u8bb0\u5f55\u5747\u5df2\u5b8c\u6210\u5230\u6d4f\u89c8\u5668\u63a7\u5236\u53f0\u3002 \uff08\u8981\u5728Chrome\u4e2d\u67e5\u770b\u63a7\u5236\u53f0\uff0c\u8bf7\u6309Ctrl-Shift-J\u6216Command-Option-J\uff08\u5982\u679c\u60a8\u662fMac\u4e0a\uff09\u3002</p> <p>\u5c06js/main.js\u66ff\u6362\u4e3a\u4ee5\u4e0b\u5185\u5bb9\uff1a <pre><code>'use strict';\nvar isInitiator;\nwindow.room = prompt(\"Enter room name:\");\nvar socket = io.connect();\nif (room !== \"\") {\nconsole.log('Message from client: Asking to join room ' + room);\nsocket.emit('create or join', room);\n}\nsocket.on('created', function(room, clientId) {\nisInitiator = true;\n});\nsocket.on('full', function(room) {\nconsole.log('Message from client: Room ' + room + ' is full :^(');\n});\nsocket.on('ipaddr', function(ipaddr) {\nconsole.log('Message from client: Server IP address is ' + ipaddr);\n});\nsocket.on('joined', function(room, clientId) {\nisInitiator = false;\n});\nsocket.on('log', function(array) {\nconsole.log.apply(console, array);\n});\n</code></pre></p> <p>\u5b89\u88c5 Socket.IO \u4ee5\u5728 Node.js \u4e0a\u8fd0\u884c</p> <p>\u5728HTML\u6587\u4ef6\u4e2d\uff0c\u60a8\u53ef\u80fd\u5df2\u7ecf\u770b\u5230\u6b63\u5728\u4f7f\u7528\u7684http://Socket.IO\u6587\u4ef6\uff1a</p> <pre><code>&lt;script src=\"/socket.io/socket.io.js\"&gt;&lt;/script&gt;\n</code></pre> <p>\u5728\u5de5\u4f5c\u76ee\u5f55\u7684\u6839\u76ee\u5f55\u4e0b\u521b\u5efa\u4e00\u4e2a\u540d\u4e3apackage.json\u7684\u6587\u4ef6\uff0c\u5176\u5185\u5bb9\u5982\u4e0b\uff1a <pre><code>{\n\"name\": \"webrtc-codelab\",\n\"version\": \"0.0.1\",\n\"description\": \"WebRTC codelab\",\n\"dependencies\": {\n\"node-static\": \"^0.7.10\",\n\"socket.io\": \"^1.2.0\"\n}\n}\n</code></pre></p> <p>\u8fd9\u662f\u4e00\u4e2a\u5e94\u7528\u7a0b\u5e8f\u6e05\u5355\uff0c\u5b83\u544a\u8bc9\u8282\u70b9\u5305\u7ba1\u7406\u5668\uff08npm\uff09\u5b89\u88c5\u54ea\u4e9b\u9879\u76ee\u4f9d\u8d56\u9879\u3002</p> <p>\u8981\u5b89\u88c5\u4f9d\u8d56\u5173\u7cfb\uff08\u4f8b\u5982/http://socket.io/socket.io.js\uff09\uff0c\u8bf7\u5728\u60a8\u7684\u5de5\u4f5c\u76ee\u5f55\u4e2d\u8fd0\u884c\u547d\u4ee4\uff08\u547d\u4ee4\u884c\u7ec8\u7aef\u8fd0\u884c\uff09\uff1a</p> <pre><code>npm install\n</code></pre> <p>\u60a8\u5e94\u8be5\u770b\u5230\u4e00\u4e2a\u5b89\u88c5\u65e5\u5fd7\uff0c\u7ed3\u679c\u5982\u4e0b\u6240\u793a\uff1a</p> <p></p> <p>\u5982\u4f60\u6240\u89c1\uff0cnpm\u5b89\u88c5\u4e86package.json\u4e2d\u5b9a\u4e49\u7684\u4f9d\u8d56\u5173\u7cfb\u3002</p> <p>\u5728\u5de5\u4f5c\u76ee\u5f55\u7684\u9876\u5c42\uff08\u4e0d\u5728js\u76ee\u5f55\u4e2d\uff09\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u6587\u4ef6index.js\u5e76\u6dfb\u52a0\u4e0b\u9762\u7684\u4ee3\u7801\uff1a</p> <pre><code>'use strict';\nvar os = require('os');\nvar nodeStatic = require('node-static');\nvar http = require('http');\nvar socketIO = require('socket.io');\nvar fileServer = new(nodeStatic.Server)();\nvar app = http.createServer(function(req, res) {\nfileServer.serve(req, res);\n}).listen(8080);\nvar io = socketIO.listen(app);\nio.sockets.on('connection', function(socket) {\n// convenience function to log server messages on the client\nfunction log() {\nvar array = ['Message from server:'];\narray.push.apply(array, arguments);\nsocket.emit('log', array);\n}\nsocket.on('message', function(message) {\nlog('Client said: ', message);\n// for a real app, would be room-only (not broadcast)\nsocket.broadcast.emit('message', message);\n});\nsocket.on('create or join', function(room) {\nlog('Received request to create or join room ' + room);\nvar numClients = io.sockets.sockets.length;\nlog('Room ' + room + ' now has ' + numClients + ' client(s)');\nif (numClients === 1) {\nsocket.join(room);\nlog('Client ID ' + socket.id + ' created room ' + room);\nsocket.emit('created', room, socket.id);\n} else if (numClients === 2) {\nlog('Client ID ' + socket.id + ' joined room ' + room);\nio.sockets.in(room).emit('join', room);\nsocket.join(room);\nsocket.emit('joined', room, socket.id);\nio.sockets.in(room).emit('ready');\n} else { // max two clients\nsocket.emit('full', room);\n}\n});\nsocket.on('ipaddr', function() {\nvar ifaces = os.networkInterfaces();\nfor (var dev in ifaces) {\nifaces[dev].forEach(function(details) {\nif (details.family === 'IPv4' &amp;&amp; details.address !== '127.0.0.1') {\nsocket.emit('ipaddr', details.address);\n}\n});\n}\n});\n});\n</code></pre> <p>\u4ece\u5de5\u4f5c\u76ee\u5f55\u8fd0\u884c\u547d\u4ee4\u884c\u7ec8\u7aef\uff0c\u8f93\u5165\u4ee5\u4e0b\u547d\u4ee4\uff1a</p> <pre><code>node index.js\n</code></pre> <p>\u5728\u6d4f\u89c8\u5668\u4e2d\u6253\u5f00localhost:8080\u3002</p> <p>\u6bcf\u6b21\u6253\u5f00\u6b64URL\u65f6\uff0c\u7cfb\u7edf\u90fd\u4f1a\u63d0\u793a\u60a8\u8f93\u5165\u623f\u95f4\u540d\u79f0\u3002 \u8981\u52a0\u5165\u540c\u4e00\u623f\u95f4\uff0c\u8bf7\u6bcf\u6b21\u9009\u62e9\u76f8\u540c\u7684\u623f\u95f4\u540d\u79f0\uff0c\u4f8b\u5982\u201cfoo\u201d\u3002</p> <p>\u6253\u5f00\u4e00\u4e2a\u65b0\u7684\u6807\u7b7e\u9875\uff0c\u5e76\u518d\u6b21\u6253\u5f00localhost:8080\u3002 \u9009\u62e9\u76f8\u540c\u7684\u623f\u95f4\u540d\u79f0\u3002</p> <p>\u5728\u53e6\u5916\u4e00\u4e2a\u9009\u9879\u5361\u6216\u7a97\u53e3\u4e2d\u6253\u5f00localhost:8080\u3002 \u518d\u6b21\u9009\u62e9\u76f8\u540c\u7684\u623f\u95f4\u540d\u79f0\u3002</p> <p>\u68c0\u67e5\u6bcf\u4e2a\u9009\u9879\u5361\u4e2d\u7684\u63a7\u5236\u53f0\uff1a\u60a8\u5e94\u8be5\u4ece\u4e0a\u9762\u7684JavaScript\u4e2d\u770b\u5230\u65e5\u5fd7\u8bb0\u5f55\u3002</p> <p>\u77e5\u8bc6\u6269\u5c55</p> <ul> <li>\u8fd8\u6709\u54ea\u4e9b\u53ef\u80fd\u7684\u6d88\u606f\u4f20\u9012\u673a\u5236\uff1f \u4f7f\u7528\u201c\u7eaf\u201d\u7684WebSocket\u53ef\u80fd\u9047\u5230\u4ec0\u4e48\u95ee\u9898\uff1f</li> <li>\u6269\u5c55\u8fd9\u4e2a\u5e94\u7528\u7a0b\u5e8f\u53ef\u80fd\u6d89\u53ca\u54ea\u4e9b\u95ee\u9898\uff1f \u4f60\u80fd\u5f00\u53d1\u4e00\u79cd\u65b9\u6cd5\u6765\u6d4b\u8bd5\u6570\u5343\u6216\u6570\u767e\u4e07\u4e2a\u540c\u65f6\u7684\u623f\u95f4\u8bf7\u6c42\u5417\uff1f</li> <li>\u8fd9\u4e2a\u5e94\u7528\u7a0b\u5e8f\u4f7f\u7528JavaScript\u63d0\u793a\u6765\u83b7\u53d6\u623f\u95f4\u540d\u79f0\u3002 \u627e\u51fa\u4eceURL\u83b7\u53d6\u623f\u95f4\u540d\u79f0\u7684\u65b9\u6cd5\u3002 \u4f8b\u5982localhost:8080/foo\u4f1a\u7ed9\u51fa\u623f\u95f4\u540d\u79f0foo\u3002</li> </ul> <p>\u4f60\u5b66\u5230\u4e86\u4ec0\u4e48</p> <p>\u5728\u8fd9\u4e00\u6b65\u4e2d\uff0c\u60a8\u5b66\u4e60\u4e86\u5982\u4f55\uff1a</p> <ul> <li>\u4f7f\u7528npm\u6765\u5b89\u88c5package.json\u4e2d\u6307\u5b9a\u7684\u9879\u76ee\u4f9d\u8d56\u5173\u7cfb</li> <li>\u8fd0\u884c\u4e00\u4e2aNode.js\u670d\u52a1\u5668\u3002</li> <li>\u4f7f\u7528http://socket.io\u5728Node.js\u4e0a\u8bbe\u7f6e\u6d88\u606f\u670d\u52a1\u3002</li> <li>\u7528\u5b83\u6765\u521b\u5efa\u201c\u623f\u95f4\u201d\u5e76\u4ea4\u6362\u4fe1\u606f\u3002</li> </ul> <p>\u6b64\u6b65\u9aa4\u7684\u5b8c\u6574\u7248\u672c\u4f4d\u4e8estep-04\u6587\u4ef6\u5939\u4e2d\u3002</p> <p>\u4e86\u89e3\u66f4\u591a</p> <ul> <li>Socket.io chat-example repo</li> <li>WebRTC in the real world: STUN, TURN and signaling</li> <li>The term 'signaling' in WebRTC</li> </ul> <p>\u4e0b\u4e00\u6b65</p> <p>\u4e86\u89e3\u5982\u4f55\u4f7f\u7528\u4fe1\u4ee4\u5c06\u4e24\u4e2a\u7528\u6237\u5efa\u7acb\u5bf9\u7b49\u8fde\u63a5\u3002</p>"},{"location":"webrtc/jsapi/006.html","title":"\u5bf9\u7b49\u8fde\u63a5\u548c\u4fe1\u4ee4\u6574\u5408\uff08\u516d\uff09","text":"<p>\u4f60\u4f1a\u5b66\u5230\u4ec0\u4e48</p> <p>\u5728\u8fd9\u4e00\u6b65\u4e2d\uff0c\u60a8\u5c06\u4e86\u89e3\u5982\u4f55\uff1a</p> <ul> <li>Node\u73af\u5883\u4e0b\u4f7f\u7528http://Socket.IO\u8fd0\u884cWebRTC\u4fe1\u4ee4\u670d\u52a1\u3002</li> <li>\u4f7f\u7528\u8be5\u670d\u52a1\u5728\u5bf9\u7b49\u4f53\u4e4b\u95f4\u4ea4\u6362WebRTC\u5143\u6570\u636e\u3002</li> </ul> <p>\u6b64\u6b65\u9aa4\u7684\u5b8c\u6574\u7248\u672c\u4f4d\u4e8estep-05\u6587\u4ef6\u5939\u4e2d\u3002</p> <p>\u66ff\u6362HTML\u548cJavaScript</p> <p>\u5c06index.html\u7684\u5185\u5bb9\u66ff\u6362\u4e3a\u4ee5\u4e0b\u5185\u5bb9\uff1a</p> <pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;title&gt;Realtime communication with WebRTC&lt;/title&gt;\n&lt;link rel=\"stylesheet\" href=\"/css/main.css\" /&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;h1&gt;Realtime communication with WebRTC&lt;/h1&gt;\n&lt;div id=\"videos\"&gt;\n&lt;video id=\"localVideo\" autoplay muted&gt;&lt;/video&gt;\n&lt;video id=\"remoteVideo\" autoplay&gt;&lt;/video&gt;\n&lt;/div&gt;\n&lt;script src=\"/socket.io/socket.io.js\"&gt;&lt;/script&gt;\n&lt;script src=\"js/lib/adapter.js\"&gt;&lt;/script&gt;\n&lt;script src=\"js/main.js\"&gt;&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p>\u5c06js/main.js\u66ff\u6362\u4e3astep-05/js/main.js\u7684\u5185\u5bb9\u3002</p> <p>\u8fd0\u884cNode.js\u670d\u52a1\u5668</p> <p>\u5982\u679c\u60a8\u7684Node.js\u670d\u52a1\u5668\u6ca1\u6709\u8fd0\u884c\uff0c\u8bf7\u5728\u5de5\u4f5c\u76ee\u5f55\u4e2d\u8c03\u7528\u4ee5\u4e0b\u547d\u4ee4\u6765\u542f\u52a8\u5b83 <code>shell node index.js</code> </p> <p>\uff08\u786e\u4fdd\u4f60\u4f7f\u7528\u7684\u662f\u4e0a\u4e00\u6b65\u5b9e\u73b0http://Socket.IO\u7684index.js\u7248\u672c\u3002\uff09</p> <p>\u5728\u6d4f\u89c8\u5668\u4e2d\u6253\u5f00localhost:8080\u3002</p> <p>\u5728\u65b0\u7684\u9009\u9879\u5361\u6216\u7a97\u53e3\u4e2d\u518d\u6b21\u6253\u5f00 localhost:8080\u3002 \u4e00\u4e2a\u89c6\u9891\u5143\u7d20\u5c06\u663e\u793a\u6765\u81eagetUserMedia() \u7684\u672c\u5730\u6d41\uff0c\u53e6\u4e00\u4e2a\u5c06\u663e\u793aRTCPeerconnection\u4f20\u8f93\u7684\u201c\u8fdc\u7a0b\u201d\u89c6\u9891\u6d41\u3002</p> <p>\u6bcf\u6b21\u5173\u95ed\u5ba2\u6237\u7aef\u9009\u9879\u5361\u6216\u7a97\u53e3\u65f6\uff0c\u90fd\u9700\u8981\u91cd\u65b0\u542f\u52a8Node.js\u670d\u52a1\u5668\u3002</p> <p>\u5728\u6d4f\u89c8\u5668\u63a7\u5236\u53f0\u4e2d\u67e5\u770b\u65e5\u5fd7\u3002</p> <p>\u77e5\u8bc6\u6269\u5c55</p> <ul> <li>\u6b64\u5e94\u7528\u7a0b\u5e8f\u53ea\u652f\u6301\u4e00\u5bf9\u4e00\u7684\u89c6\u9891\u804a\u5929\u3002 \u5982\u4f55\u8bbe\u8ba1\u6210\u8ba9\u591a\u4e2a\u4eba\u5171\u4eab\u540c\u4e00\u4e2a\u89c6\u9891\u804a\u5929\u5ba4\uff1f</li> <li>\u8fd9\u4e2a\u4f8b\u5b50\u7684\u623f\u95f4\u540d\u79f0foo\u662f\u786c\u7f16\u7801\u7684\u3002 \u8bbe\u7f6e\u5176\u4ed6\u623f\u95f4\u540d\u79f0\u6700\u597d\u7684\u65b9\u5f0f\u662f\u4ec0\u4e48\uff1f</li> <li>\u7528\u6237\u5982\u4f55\u5206\u4eab\u623f\u95f4\u540d\u79f0\uff1f \u5c1d\u8bd5\u6784\u5efa\u4e00\u4e2a\u5206\u4eab\u623f\u95f4\u540d\u79f0\u7684\u65b9\u6848\u3002</li> <li>\u4f60\u60f3\u600e\u4e48\u6539\u53d8\u8fd9\u4e2a\u5e94\u7528\u7a0b\u5e8f</li> </ul> <p>\u4f60\u5b66\u5230\u4e86\u4ec0\u4e48</p> <p>\u5728\u8fd9\u4e00\u6b65\u4f60\u5b66\u4f1a\u4e86\u5982\u4f55\uff1a</p> <ul> <li>Node\u73af\u5883\u4e0b\u4f7f\u7528http://Socket.IO\u8fd0\u884cWebRTC\u4fe1\u4ee4\u670d\u52a1\u3002</li> <li>\u4f7f\u7528\u8be5\u670d\u52a1\u5728\u5bf9\u7b49\u65b9\u4e4b\u95f4\u4ea4\u6362WebRTC\u5143\u6570\u636e\u3002</li> </ul> <p>\u6b64\u6b65\u9aa4\u7684\u5b8c\u6574\u7248\u672c\u4f4d\u4e8estep-05\u6587\u4ef6\u5939\u4e2d\u3002</p> <p>\u63d0\u793a</p> <ul> <li>WebRTC\u7edf\u8ba1\u4fe1\u606f\u548c\u8c03\u8bd5\u6570\u636e\u53ef\u4ee5\u4ecechrome://webrtc-internals\u4e2d\u83b7\u5f97\u3002</li> <li>http://test.webrtc.org\u53ef\u7528\u4e8e\u68c0\u67e5\u60a8\u672c\u5730\u73af\u5883\u5e76\u6d4b\u8bd5\u60a8\u7684\u76f8\u673a\u548c\u9ea6\u514b\u98ce\u3002</li> <li>\u5982\u679c\u60a8\u5728\u7f13\u5b58\u65b9\u9762\u9047\u5230\u5947\u602a\u7684\u9ebb\u70e6\uff0c\u8bf7\u5c1d\u8bd5\u4ee5\u4e0b\u64cd\u4f5c\uff1a</li> </ul> <p>\u6309\u4f4fctrl\u952e\u5e76\u70b9\u51fbReload\u6309\u94ae\uff0c\u8fdb\u884c\u786c\u5237\u65b0 \u91cd\u65b0\u542f\u52a8\u6d4f\u89c8\u5668 \u4ece\u547d\u4ee4\u884c\u8fd0\u884cnpm cache clean\u3002</p> <p>\u4e0b\u4e00\u6b65</p> <p>\u4e86\u89e3\u5982\u4f55\u62cd\u7167\uff0c\u83b7\u53d6\u56fe\u50cf\u6570\u636e\uff0c\u4ee5\u53ca\u5982\u4f55\u5728\u5bf9\u7b49\u4f53\u4e4b\u95f4\u8fdc\u7a0b\u5171\u4eab\u56fe\u50cf\u3002</p>"},{"location":"webrtc/jsapi/007.html","title":"data channel\u5171\u4eab\u7167\u7247\uff08\u4e03\uff09","text":"<p>\u4f60\u4f1a\u5b66\u5230\u4ec0\u4e48</p> <p>\u5728\u8fd9\u4e00\u6b65\u4e2d\uff0c\u60a8\u5c06\u5b66\u4e60\u5982\u4f55\uff1a</p> <ul> <li>\u62cd\u6444\u4e00\u5f20\u7167\u7247\uff0c\u5e76\u753b\u5e03\u5143\u7d20\u4ece\u4e2d\u83b7\u53d6\u6570\u636e\u3002</li> <li>\u4e0e\u8fdc\u7a0b\u7528\u6237\u4ea4\u6362\u56fe\u50cf\u6570\u636e\u3002</li> </ul> <p>\u6b64\u6b65\u9aa4\u7684\u5b8c\u6574\u7248\u672c\u4f4d\u4e8estep-06\u6587\u4ef6\u5939\u4e2d\u3002</p> <p>\u5de5\u4f5c\u539f\u7406</p> <p>\u5728\u4e4b\u524d\uff0c\u60a8\u5b66\u4e60\u4e86\u5982\u4f55\u4f7f\u7528 RTCDataChannel \u4ea4\u6362\u6587\u672c\u6d88\u606f\u3002</p> <p>\u8fd9\u4e00\u6b65\u53ef\u4ee5\u5171\u4eab\u6574\u4e2a\u6587\u4ef6\uff1a\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u901a\u8fc7getUserMedia()\u83b7\u53d6\u7167\u7247\u3002</p> <p>\u8fd9\u4e00\u6b65\u7684\u6838\u5fc3\u90e8\u5206\u5982\u4e0b\uff1a</p> <ul> <li>\u5efa\u7acb\u6570\u636e\u901a\u9053\u3002 \u8bf7\u6ce8\u610f\uff0c\u5728\u6b64\u6b65\u9aa4\u4e2d\u4e0d\u8981\u5c06\u4efb\u4f55\u5a92\u4f53\u6d41\u6dfb\u52a0\u5230\u5bf9\u7b49\u8fde\u63a5\u3002</li> <li> <p>\u4f7f\u7528 getUserMedia() \u6355\u83b7\u7528\u6237\u7f51\u7edc\u6444\u50cf\u5934\u7684\u89c6\u9891\u6d41\uff1a <pre><code>var video = document.getElementById('video');\nfunction grabWebCamVideo() {\nconsole.log('Getting user media (video) ...');\nnavigator.mediaDevices.getUserMedia({\naudio: false,\nvideo: true\n})\n.then(gotStream)\n.catch(function(e) {\nalert('getUserMedia() error: ' + e.name);\n});\n}\n</code></pre></p> </li> <li> <p>\u5f53\u7528\u6237\u5355\u51fb\u201cSnap\u201d\u6309\u94ae\u65f6\uff0c\u4ece\u89c6\u9891\u6d41\u83b7\u53d6\u5feb\u7167\uff08\u89c6\u9891\u5e27\uff09\u5e76\u5c06\u5176\u663e\u793a\u5728\u753b\u5e03\u5143\u7d20\u4e2d\uff1a</p> </li> </ul> <pre><code>var photo = document.getElementById('photo');\nvar photoContext = photo.getContext('2d');\nfunction snapPhoto() {\nphotoContext.drawImage(video, 0, 0, photo.width, photo.height);\nshow(photo, sendBtn);\n}\n</code></pre> <ul> <li>\u5f53\u7528\u6237\u5355\u51fb\u201csend\u201d\u6309\u94ae\u65f6\uff0c\u5c06\u56fe\u50cf\u8f6c\u6362\u4e3a\u5b57\u8282\u5e76\u901a\u8fc7\u6570\u636e\u901a\u9053\u53d1\u9001\uff1a</li> </ul> <pre><code>function sendPhoto() {\n// Split data channel message in chunks of this byte length.\nvar CHUNK_LEN = 64000;\nvar img = photoContext.getImageData(0, 0, photoContextW, photoContextH),\nlen = img.data.byteLength,\nn = len / CHUNK_LEN | 0;\nconsole.log('Sending a total of ' + len + ' byte(s)');\ndataChannel.send(len);\n// split the photo and send in chunks of about 64KB\nfor (var i = 0; i &lt; n; i++) {\nvar start = i * CHUNK_LEN,\nend = (i + 1) * CHUNK_LEN;\nconsole.log(start + ' - ' + (end - 1));\ndataChannel.send(img.data.subarray(start, end));\n}\n// send the reminder, if any\nif (len % CHUNK_LEN) {\nconsole.log('last ' + len % CHUNK_LEN + ' byte(s)');\ndataChannel.send(img.data.subarray(n * CHUNK_LEN));\n}\n}\n</code></pre> <ul> <li>\u63a5\u6536\u65b9\u5c06\u6570\u636e\u901a\u9053\u7684\u6d88\u606f\u5b57\u8282\u8f6c\u6362\u6210\u56fe\u50cf\u5e76\u5c06\u56fe\u50cf\u663e\u793a\u7ed9\u7528\u6237\uff1a</li> </ul> <pre><code>function receiveDataChromeFactory() {\nvar buf, count;\nreturn function onmessage(event) {\nif (typeof event.data === 'string') {\nbuf = window.buf = new Uint8ClampedArray(parseInt(event.data));\ncount = 0;\nconsole.log('Expecting a total of ' + buf.byteLength + ' bytes');\nreturn;\n}\nvar data = new Uint8ClampedArray(event.data);\nbuf.set(data, count);\ncount += data.byteLength;\nconsole.log('count: ' + count);\nif (count === buf.byteLength) {\n// we're done: all data chunks have been received\nconsole.log('Done. Rendering photo.');\nrenderPhoto(buf);\n}\n};\n}\nfunction renderPhoto(data) {\nvar canvas = document.createElement('canvas');\ncanvas.width = photoContextW;\ncanvas.height = photoContextH;\ncanvas.classList.add('incomingPhoto');\n// trail is the element holding the incoming images\ntrail.insertBefore(canvas, trail.firstChild);\nvar context = canvas.getContext('2d');\nvar img = context.createImageData(photoContextW, photoContextH);\nimg.data.set(data);\ncontext.putImageData(img, 0, 0);\n}\n</code></pre> <p>\u83b7\u53d6\u4ee3\u7801</p> <p>\u5c06\u5de5\u4f5c\u6587\u4ef6\u5939\u7684\u5185\u5bb9\u66ff\u6362\u4e3a\u6b65\u9aa406\u7684\u5185\u5bb9\u3002 \u4f60\u7684index.html\u6587\u4ef6\u73b0\u5728\u5e94\u8be5\u770b\u8d77\u6765\u50cf\u8fd9\u6837\uff1a</p> <pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;title&gt;Realtime communication with WebRTC&lt;/title&gt;\n&lt;link rel=\"stylesheet\" href=\"/css/main.css\" /&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;h1&gt;Realtime communication with WebRTC&lt;/h1&gt;\n&lt;h2&gt;\n&lt;span&gt;Room URL: &lt;/span&gt;&lt;span id=\"url\"&gt;...&lt;/span&gt;\n&lt;/h2&gt;\n&lt;div id=\"videoCanvas\"&gt;\n&lt;video id=\"camera\" autoplay&gt;&lt;/video&gt;\n&lt;canvas id=\"photo\"&gt;&lt;/canvas&gt;\n&lt;/div&gt;\n&lt;div id=\"buttons\"&gt;\n&lt;button id=\"snap\"&gt;Snap&lt;/button&gt;&lt;span&gt; then &lt;/span&gt;&lt;button id=\"send\"&gt;Send&lt;/button&gt;\n&lt;span&gt; or &lt;/span&gt;\n&lt;button id=\"snapAndSend\"&gt;Snap &amp;amp; Send&lt;/button&gt;\n&lt;/div&gt;\n&lt;div id=\"incoming\"&gt;\n&lt;h2&gt;Incoming photos&lt;/h2&gt;\n&lt;div id=\"trail\"&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;script src=\"/socket.io/socket.io.js\"&gt;&lt;/script&gt;\n&lt;script src=\"js/lib/adapter.js\"&gt;&lt;/script&gt;\n&lt;script src=\"js/main.js\"&gt;&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p>\u5982\u679c\u60a8\u7684Node.js\u670d\u52a1\u5668\u6ca1\u6709\u8fd0\u884c\uff0c\u8bf7\u4ece\u60a8\u7684\u5de5\u4f5c\u76ee\u5f55\u8c03\u7528\u4ee5\u4e0b\u547d\u4ee4\u6765\u542f\u52a8\u5b83\uff1a</p> <pre><code>    node index.js </code></pre> <p>\u786e\u4fddindex.js\u6587\u4ef6\u4e2d\u4f7f\u7528\u7684\u662f\u5b9e\u73b0http://Socket.IO - \u5982\u679c\u4f60\u505a\u4e86\u4fee\u6539\uff0c\u8bb0\u5f97\u91cd\u65b0\u542f\u52a8\u4f60\u7684Node.js\u670d\u52a1\u5668\u3002\uff09</p> <p>\u5982\u6709\u5fc5\u8981\uff0c\u70b9\u51fb\u5141\u8bb8\u6309\u94ae\uff0c\u5141\u8bb8\u5e94\u7528\u7a0b\u5e8f\u4f7f\u7528\u60a8\u7684\u6444\u50cf\u5934\u3002</p> <p>\u8be5\u5e94\u7528\u7a0b\u5e8f\u5c06\u521b\u5efa\u4e00\u4e2a\u968f\u673a\u7684\u623f\u95f4ID\uff0c\u5e76\u5c06\u8be5ID\u6dfb\u52a0\u5230\u8be5URL\u3002 \u5728\u6d4f\u89c8\u5668\u65b0\u7684\u9009\u9879\u5361\u6216\u7a97\u53e3\u4e2d\u6253\u5f00\u7f51\u5740\u3002</p> <p>\u70b9\u51fb Snap &amp; Send \u6309\u94ae\uff0c\u7136\u540e\u67e5\u770b\u9875\u9762\u5e95\u90e8\u7684\u201c\u4f20\u5165\u201d\u533a\u57df\u3002 \u8be5\u5e94\u7528\u7a0b\u5e8f\u5728tab\u4e4b\u95f4\u4f20\u8f93\u7167\u7247\u3002</p> <p>\u60a8\u5e94\u8be5\u770b\u5230\u5982\u4e0b\u6240\u793a\uff1a</p> <p></p> <p>\u77e5\u8bc6\u6269\u5c55</p> <ul> <li>\u5047\u5982\u8981\u5171\u4eab\u4efb\u4f55\u7c7b\u578b\u7684\u6587\u4ef6\uff0c\u600e\u6837\u6539\u53d8\u4ee3\u7801\uff1f</li> </ul> <p>\u4e86\u89e3\u66f4\u591a</p> <ul> <li>The MediaStream Image Capture API: \u7528\u4e8e\u62cd\u6444\u7167\u7247\u548c\u63a7\u5236\u76f8\u673a\u7684API - \u5373\u5c06\u63a8\u51fa\u5230\u60a8\u9644\u8fd1\u7684\u6d4f\u89c8\u5668\uff01</li> <li>MediaRecorder API, \u7528\u4e8e\u5f55\u5236\u97f3\u9891\u548c\u89c6\u9891\uff1ademo, documentation\u3002</li> </ul> <p>\u4f60\u5b66\u5230\u4e86\u4ec0\u4e48</p> <ul> <li>\u5982\u4f55\u5c06\u7167\u7247\u663e\u793a\u5230\u753b\u5e03\u5143\u7d20\u5e76\u4ece\u4e2d\u83b7\u53d6\u6570\u636e\u3002</li> <li>\u5982\u4f55\u4e0e\u8fdc\u7a0b\u7528\u6237\u4ea4\u6362\u6570\u636e\u3002</li> </ul> <p>\u6b64\u6b65\u9aa4\u7684\u5b8c\u6574\u7248\u672c\u4f4d\u4e8estep-06\u6587\u4ef6\u5939\u4e2d\u3002</p>"},{"location":"webrtc/jsapi/008.html","title":"\u603b\u7ed3\uff08\u516b\uff09","text":"<p>\u4f60\u5efa\u7acb\u4e86\u4e00\u4e2a\u5e94\u7528\u7a0b\u5e8f\u6765\u505a\u5b9e\u65f6\u89c6\u9891\u6d41\u548c\u6570\u636e\u4ea4\u6362\uff01</p> <p>\u4f60\u5b66\u5230\u4e86\u4ec0\u4e48</p> <p>\u5728\u8fd9\u4e2a\u5b9e\u9a8c\u4e2d\uff0c\u60a8\u5b66\u4e60\u4e86\u5982\u4f55\uff1a</p> <ul> <li>\u4ece\u60a8\u7684\u6444\u50cf\u5934\u83b7\u53d6\u89c6\u9891\u3002</li> <li>\u4f7f\u7528RTCPeerConnection\u6d41\u5f0f\u4f20\u8f93\u89c6\u9891\u3002</li> <li>\u4f7f\u7528RTCDataChannel\u6d41\u6570\u636e\u3002</li> <li>\u8bbe\u7f6e\u4e00\u4e2a\u4fe1\u4ee4\u670d\u52a1\u6765\u4ea4\u6362\u6d88\u606f\u3002</li> <li>\u7ed3\u5408\u5bf9\u7b49\u8fde\u63a5\u548c\u4fe1\u4ee4\u3002</li> <li>\u62cd\u7167\u5e76\u901a\u8fc7\u6570\u636e\u901a\u9053\u5206\u4eab\u3002</li> </ul> <p>\u4e0b\u4e00\u6b65</p> <ul> <li>\u67e5\u770b\u6807\u51c6WebRTC\u804a\u5929\u5e94\u7528\u7a0b\u5e8fAppRTC\u7684\u4ee3\u7801\u548c\u4f53\u7cfb\u7ed3\u6784\uff1aapp\uff0ccode\u3002</li> <li>\u4ece github.com/webrtc/samples \u8bd5\u8bd5 live demos</li> </ul> <p>\u5b66\u5230\u66f4\u591a</p> <p>WebRTC\u5165\u95e8\u7684\u4e00\u7cfb\u5217\u8d44\u6e90\u53ef\u4ecehttp://webrtc.org/start\u83b7\u5f97\u3002</p>"}]}